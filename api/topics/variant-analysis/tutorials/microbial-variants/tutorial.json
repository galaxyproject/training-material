{"layout":"tutorial_hands_on","title":"Microbial Variant Calling","subtopic":"introduction","zenodo_link":"https://doi.org/10.5281/zenodo.582600","tags":["prokaryote","microgalaxy","gmod","jbrowse1"],"questions":["How do we detect differences between a set of reads from a microorganism and a reference genome"],"objectives":["Find variants between a reference genome and a set of reads","Visualise the SNP in context of the reads aligned to the genome","Determine the effect of those variants on genomic features","Understand if the SNP is potentially affecting the phenotype"],"time_estimation":"45m","key_points":["We used a tool called Snippy to call variants between our reads and our reference genome.","As our reference genome had annotations, we could see what effect the changes have on the features as annotated in the reference and therefore make inferences on the possible changes to the phenotype.","We used the JBrowse genome browser to visualise what these changes look like."],"contributors":[{"name":"Anna Syme","joined":"2017-09","orcid":"0000-0002-9906-0673","id":"annasyme","url":"https://training.galaxyproject.org/training-material/api/contributors/annasyme.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/annasyme/"},{"name":"Simon Gladman","email":"simon.gladman@unimelb.edu.au","joined":"2017-09","elixir_node":"au","orcid":"0000-0002-6100-4385","in_memoriam":"<a href=\"https://www.biocommons.org.au/news/simon-gladman\">Simon Gladman, system administrator of UseGalaxy.org.au, passed away on November 26, 2022</a>\n\n<a href=\"https://galaxyproject.org/news/2022-11-28-simon-gladman/\">He was a fantastic teacher, tutorial author, system administrator, and warm and welcoming friend.</a> He contributed heavily to the Galaxy Training Network and especially the Galaxy Administration community over the years, we will miss him dearly. The GTN and GAT would not be what they are today, without him.\n\n“Have I told you about my watch?”","id":"slugger70","url":"https://training.galaxyproject.org/training-material/api/contributors/slugger70.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/slugger70/"},{"name":"Torsten Seemann","joined":"2018-06","elixir_node":"au","affiliations":["elixir-europe"],"id":"tseemann","url":"https://training.galaxyproject.org/training-material/api/contributors/tseemann.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/tseemann/"}],"edam_ontology":["topic_0622","topic_0196","topic_2885","topic_3301","topic_0080","topic_0199"],"js_requirements":{"mathjax":null,"mermaid":false},"short_id":"T00313","url":"/topics/variant-analysis/tutorials/microbial-variants/tutorial.html","topic_name":"variant-analysis","tutorial_name":"microbial-variants","dir":"topics/variant-analysis/tutorials/microbial-variants","symlink":null,"id":"variant-analysis/microbial-variants","hands_on":true,"slides":false,"mod_date":"2024-03-15 07:51:42 +0000","pub_date":"2018-02-26 16:12:34 +0000","version":23,"workflows":[{"workflow":"microbial_variant_calling.ga","tests":true,"url":"https://training.galaxyproject.org/training-material/topics/variant-analysis/tutorials/microbial-variants/workflows/microbial_variant_calling.ga","url_html":"https://training.galaxyproject.org/training-material/topics/variant-analysis/tutorials/microbial-variants/workflows/microbial_variant_calling.html","path":"topics/variant-analysis/tutorials/microbial-variants/workflows/microbial_variant_calling.ga","wfid":"variant-analysis-microbial-variants","wfname":"microbial-variant-calling","trs_endpoint":"https://training.galaxyproject.org/training-material/api/ga4gh/trs/v2/tools/variant-analysis-microbial-variants/versions/microbial-variant-calling","license":null,"parent_id":"variant-analysis/microbial-variants","topic_id":"variant-analysis","tutorial_id":"microbial-variants","creators":[],"name":"Microbial Variant Calling","title":"Microbial Variant Calling","version":4,"description":"Microbial Variant Calling","tags":["variant-analysis"],"features":{"report":null,"subworkflows":false,"comments":false,"parameters":false},"workflowhub_id":"1093","history":[{"hash":"667ff3de9c4e13d341a6d864bd6dc826ef15ca04","unix":"1579690769","message":"annotation","short_hash":"667ff3de9","num":5},{"hash":"eb4d724e0064c77beb20efa626a0f28fd0500676","unix":"1579084895","message":"Workflow renaming","short_hash":"eb4d724e0","num":4},{"hash":"dfb97360348d32210f7c4bae68f1154a2336e520","unix":"1526109637","message":"annotate workflow outputs","short_hash":"dfb973603","num":3},{"hash":"8803cca01f5e6e62243a1cefbe21e701e89151af","unix":"1526109452","message":"pretty'fy workflow","short_hash":"8803cca01","num":2},{"hash":"5a1bff42297572d14d33b4e41de89694a6957676","unix":"1523043969","message":"Add some love to microbial variant calling tutorial (#732)","short_hash":"5a1bff422","num":1}],"test_results":null,"modified":"2024-08-15 12:58:52 +0000","mermaid":"flowchart TD\n  0[\"ℹ️ Input Dataset\\nInput dataset\"];\n  style 0 stroke:#2c3143,stroke-width:4px;\n  1[\"ℹ️ Input Dataset\\nInput dataset\"];\n  style 1 stroke:#2c3143,stroke-width:4px;\n  2[\"ℹ️ Input Dataset\\nInput dataset\"];\n  style 2 stroke:#2c3143,stroke-width:4px;\n  3[\"ℹ️ Input Dataset\\nInput dataset\"];\n  style 3 stroke:#2c3143,stroke-width:4px;\n  4[\"ℹ️ Input Dataset\\nInput dataset\"];\n  style 4 stroke:#2c3143,stroke-width:4px;\n  5[\"snippy\"];\n  0 -->|output| 5;\n  1 -->|output| 5;\n  3 -->|output| 5;\n  19440edc-6ec1-431f-863e-caafc85b55a9[\"Output\\nsnippy_fasta\"];\n  5 --> 19440edc-6ec1-431f-863e-caafc85b55a9;\n  style 19440edc-6ec1-431f-863e-caafc85b55a9 stroke:#2c3143,stroke-width:4px;\n  5f6e28e3-e201-4bbe-b5a6-fa9284cc69b4[\"Output\\nsnippy_tabular\"];\n  5 --> 5f6e28e3-e201-4bbe-b5a6-fa9284cc69b4;\n  style 5f6e28e3-e201-4bbe-b5a6-fa9284cc69b4 stroke:#2c3143,stroke-width:4px;\n  6[\"JBrowse\"];\n  5 -->|snpgff| 6;\n  4 -->|output| 6;\n  5 -->|snpsbam| 6;\n  2 -->|output| 6;\n  bbb440b6-1923-4c9b-9126-388ae54cbfdb[\"Output\\njbrowse_html\"];\n  6 --> bbb440b6-1923-4c9b-9126-388ae54cbfdb;\n  style bbb440b6-1923-4c9b-9126-388ae54cbfdb stroke:#2c3143,stroke-width:4px;","graph_dot":"digraph main {\n  node [fontname=\"Atkinson Hyperlegible\", shape=box, color=white,style=filled,color=peachpuff,margin=\"0.2,0.2\"];\n  edge [fontname=\"Atkinson Hyperlegible\"];\n  0[color=lightblue,label=\"ℹ️ Input Dataset\\nInput dataset\"]\n  1[color=lightblue,label=\"ℹ️ Input Dataset\\nInput dataset\"]\n  2[color=lightblue,label=\"ℹ️ Input Dataset\\nInput dataset\"]\n  3[color=lightblue,label=\"ℹ️ Input Dataset\\nInput dataset\"]\n  4[color=lightblue,label=\"ℹ️ Input Dataset\\nInput dataset\"]\n  5[label=\"snippy\"]\n  0 -> 5 [label=\"output\"]\n  1 -> 5 [label=\"output\"]\n  3 -> 5 [label=\"output\"]\n  k19440edc6ec1431f863ecaafc85b55a9[color=lightseagreen,label=\"Output\\nsnippy_fasta\"]\n  5 -> k19440edc6ec1431f863ecaafc85b55a9\n  k5f6e28e3e2014bbeb5a6fa9284cc69b4[color=lightseagreen,label=\"Output\\nsnippy_tabular\"]\n  5 -> k5f6e28e3e2014bbeb5a6fa9284cc69b4\n  6[label=\"JBrowse\"]\n  5 -> 6 [label=\"snpgff\"]\n  4 -> 6 [label=\"output\"]\n  5 -> 6 [label=\"snpsbam\"]\n  2 -> 6 [label=\"output\"]\n  kbbb440b619234c9b9126388ae54cbfdb[color=lightseagreen,label=\"Output\\njbrowse_html\"]\n  6 -> kbbb440b619234c9b9126388ae54cbfdb\n}","workflow_tools":["toolshed.g2.bx.psu.edu/repos/iuc/jbrowse/jbrowse/0.7.0.3","toolshed.g2.bx.psu.edu/repos/iuc/snippy/snippy/3.2"],"inputs":[{"tool_id":null,"tool_version":null,"outputs":[],"workflow_outputs":[],"input_connections":{},"tool_state":"{\"name\": \"mutant_R1\"}","id":0,"uuid":"f78a5562-288a-49fa-a8e4-a6facf09bffe","errors":null,"name":"Input dataset","label":null,"inputs":[{"name":"mutant_R1","description":""}],"position":{"top":10,"left":10},"annotation":"","content_id":null,"type":"data_input"},{"tool_id":null,"tool_version":null,"outputs":[],"workflow_outputs":[],"input_connections":{},"tool_state":"{\"name\": \"mutant_R2\"}","id":1,"uuid":"9f0aa29d-da56-4535-96ce-696a721d1d76","errors":null,"name":"Input dataset","label":null,"inputs":[{"name":"mutant_R2","description":""}],"position":{"top":130,"left":10},"annotation":"","content_id":null,"type":"data_input"},{"tool_id":null,"tool_version":null,"outputs":[],"workflow_outputs":[],"input_connections":{},"tool_state":"{\"name\": \"wildtype.fna\"}","id":2,"uuid":"1ad30281-3ee6-4725-8515-8db4936de0ff","errors":null,"name":"Input dataset","label":null,"inputs":[{"name":"wildtype.fna","description":""}],"position":{"top":250,"left":10},"annotation":"","content_id":null,"type":"data_input"},{"tool_id":null,"tool_version":null,"outputs":[],"workflow_outputs":[],"input_connections":{},"tool_state":"{\"name\": \"wildtype.gbk\"}","id":3,"uuid":"3c0c913a-7106-4ac7-b653-a0a0da1d14f8","errors":null,"name":"Input dataset","label":null,"inputs":[{"name":"wildtype.gbk","description":""}],"position":{"top":370,"left":10},"annotation":"","content_id":null,"type":"data_input"},{"tool_id":null,"tool_version":null,"outputs":[],"workflow_outputs":[],"input_connections":{},"tool_state":"{\"name\": \"wildtype.gff\"}","id":4,"uuid":"0a4f5c3d-4f34-4461-8114-98f3bb0a4cf8","errors":null,"name":"Input dataset","label":null,"inputs":[{"name":"wildtype.gff","description":""}],"position":{"top":490,"left":10},"annotation":"","content_id":null,"type":"data_input"}],"outputs":[{"tool_id":"toolshed.g2.bx.psu.edu/repos/iuc/snippy/snippy/3.2","tool_version":"3.2","outputs":[{"type":"vcf","name":"snpvcf"},{"type":"gff3","name":"snpgff"},{"type":"tabular","name":"snptab"},{"type":"tabular","name":"snpsum"},{"type":"txt","name":"snplog"},{"type":"fasta","name":"snpalign"},{"type":"fasta","name":"snpconsensus"},{"type":"tabular","name":"snpsdepth"},{"type":"bam","name":"snpsbam"},{"type":"zip","name":"outdir"}],"workflow_outputs":[{"output_name":"snpconsensus","label":"snippy_fasta","uuid":"19440edc-6ec1-431f-863e-caafc85b55a9"},{"output_name":"snpsum","label":"snippy_tabular","uuid":"5f6e28e3-e201-4bbe-b5a6-fa9284cc69b4"}],"input_connections":{"fastq_input|fastq_input1":{"output_name":"output","id":0},"fastq_input|fastq_input2":{"output_name":"output","id":1},"ref":{"output_name":"output","id":3}},"tool_state":"{\"adv\": \"{\\\"mapqual\\\": \\\"60\\\", \\\"bwaopt\\\": \\\"\\\", \\\"minfrac\\\": \\\"0.9\\\", \\\"rgid\\\": \\\"\\\", \\\"mincov\\\": \\\"10\\\"}\", \"__page__\": null, \"outputs\": \"[\\\"outvcf\\\", \\\"outgff\\\", \\\"outtab\\\", \\\"outsum\\\", \\\"outlog\\\", \\\"outaln\\\", \\\"outcon\\\", \\\"outdep\\\", \\\"outbam\\\", \\\"outzip\\\"]\", \"__rerun_remap_job_id__\": null, \"fastq_input\": \"{\\\"fastq_input2\\\": null, \\\"__current_case__\\\": 0, \\\"fastq_input_selector\\\": \\\"paired\\\", \\\"fastq_input1\\\": null}\", \"chromInfo\": \"\\\"/usr/local/galaxy/galaxy-dist/tool-data/shared/ucsc/chrom/?.len\\\"\", \"ref\": \"null\"}","id":5,"tool_shed_repository":{"owner":"iuc","changeset_revision":"c9a8ef2aa380","name":"snippy","tool_shed":"toolshed.g2.bx.psu.edu"},"uuid":"5f5638b5-3553-4522-9cfa-d47dd45e8c42","errors":null,"name":"snippy","post_job_actions":{},"label":null,"inputs":[],"position":{"top":10,"left":230},"annotation":"","content_id":"toolshed.g2.bx.psu.edu/repos/iuc/snippy/snippy/3.2","type":"tool"},{"tool_id":"toolshed.g2.bx.psu.edu/repos/iuc/jbrowse/jbrowse/0.7.0.3","tool_version":"0.7.0.3","outputs":[{"type":"html","name":"output"}],"workflow_outputs":[{"output_name":"output","label":"jbrowse_html","uuid":"bbb440b6-1923-4c9b-9126-388ae54cbfdb"}],"input_connections":{"track_groups_1|data_tracks_0|data_format|annotation":{"output_name":"snpgff","id":5},"track_groups_2|data_tracks_0|data_format|annotation":{"output_name":"output","id":4},"track_groups_0|data_tracks_0|data_format|annotation":{"output_name":"snpsbam","id":5},"reference_genome|genomes":{"output_name":"output","id":2}},"tool_state":"{\"__page__\": null, \"standalone\": \"\\\"true\\\"\", \"__rerun_remap_job_id__\": null, \"reference_genome\": \"{\\\"genomes\\\": null, \\\"__current_case__\\\": 1, \\\"genome_type_select\\\": \\\"history\\\"}\", \"track_groups\": \"[{\\\"category\\\": \\\"sequence reads\\\", \\\"__index__\\\": 0, \\\"data_tracks\\\": [{\\\"__index__\\\": 0, \\\"data_format\\\": {\\\"auto_snp\\\": \\\"true\\\", \\\"track_visibility\\\": \\\"default_on\\\", \\\"override_apollo_drag\\\": \\\"False\\\", \\\"__current_case__\\\": 3, \\\"override_apollo_plugins\\\": \\\"False\\\", \\\"annotation\\\": null, \\\"data_format_select\\\": \\\"pileup\\\"}}]}, {\\\"category\\\": \\\"variants\\\", \\\"__index__\\\": 1, \\\"data_tracks\\\": [{\\\"__index__\\\": 0, \\\"data_format\\\": {\\\"index\\\": \\\"false\\\", \\\"match_part\\\": {\\\"match_part_select\\\": \\\"false\\\", \\\"__current_case__\\\": 1}, \\\"jbstyle\\\": {\\\"style_classname\\\": \\\"feature\\\", \\\"style_description\\\": \\\"note,description\\\", \\\"style_height\\\": \\\"10px\\\", \\\"max_height\\\": \\\"600\\\", \\\"style_label\\\": \\\"product,name,id\\\"}, \\\"track_visibility\\\": \\\"default_on\\\", \\\"track_config\\\": {\\\"track_class\\\": \\\"JBrowse/View/Track/CanvasFeatures\\\", \\\"canvas_options\\\": {\\\"transcriptType\\\": \\\"\\\", \\\"subParts\\\": \\\"\\\", \\\"impliedUTRs\\\": \\\"false\\\"}, \\\"__current_case__\\\": 0}, \\\"jbcolor_scale\\\": {\\\"color_score\\\": {\\\"color\\\": {\\\"color_select\\\": \\\"automatic\\\", \\\"__current_case__\\\": 0}, \\\"__current_case__\\\": 0, \\\"color_score_select\\\": \\\"none\\\"}}, \\\"override_apollo_drag\\\": \\\"False\\\", \\\"__current_case__\\\": 2, \\\"override_apollo_plugins\\\": \\\"False\\\", \\\"jbmenu\\\": {\\\"track_menu\\\": []}, \\\"annotation\\\": null, \\\"data_format_select\\\": \\\"gene_calls\\\"}}]}, {\\\"category\\\": \\\"annotated reference\\\", \\\"__index__\\\": 2, \\\"data_tracks\\\": [{\\\"__index__\\\": 0, \\\"data_format\\\": {\\\"index\\\": \\\"false\\\", \\\"match_part\\\": {\\\"match_part_select\\\": \\\"false\\\", \\\"__current_case__\\\": 1}, \\\"jbstyle\\\": {\\\"style_classname\\\": \\\"feature\\\", \\\"style_description\\\": \\\"product\\\", \\\"style_height\\\": \\\"10px\\\", \\\"max_height\\\": \\\"600\\\", \\\"style_label\\\": \\\"product\\\"}, \\\"track_visibility\\\": \\\"default_on\\\", \\\"track_config\\\": {\\\"track_class\\\": \\\"JBrowse/View/Track/CanvasFeatures\\\", \\\"canvas_options\\\": {\\\"transcriptType\\\": \\\"\\\", \\\"subParts\\\": \\\"\\\", \\\"impliedUTRs\\\": \\\"false\\\"}, \\\"__current_case__\\\": 0}, \\\"jbcolor_scale\\\": {\\\"color_score\\\": {\\\"color\\\": {\\\"color_select\\\": \\\"automatic\\\", \\\"__current_case__\\\": 0}, \\\"__current_case__\\\": 0, \\\"color_score_select\\\": \\\"none\\\"}}, \\\"override_apollo_drag\\\": \\\"False\\\", \\\"__current_case__\\\": 2, \\\"override_apollo_plugins\\\": \\\"False\\\", \\\"jbmenu\\\": {\\\"track_menu\\\": []}, \\\"annotation\\\": null, \\\"data_format_select\\\": \\\"gene_calls\\\"}}]}]\", \"plugins\": \"{\\\"GCContent\\\": \\\"false\\\", \\\"Bookmarks\\\": \\\"false\\\", \\\"theme\\\": \\\"\\\", \\\"ComboTrackSelector\\\": \\\"false\\\"}\", \"action\": \"{\\\"action_select\\\": \\\"create\\\", \\\"__current_case__\\\": 0}\", \"gencode\": \"\\\"11\\\"\", \"uglyTestingHack\": \"\\\"\\\"\", \"chromInfo\": \"\\\"/usr/local/galaxy/galaxy-dist/tool-data/shared/ucsc/chrom/?.len\\\"\", \"jbgen\": \"{\\\"trackPadding\\\": \\\"20\\\", \\\"show_tracklist\\\": \\\"true\\\", \\\"show_overview\\\": \\\"true\\\", \\\"show_nav\\\": \\\"true\\\", \\\"aboutDescription\\\": \\\"\\\", \\\"defaultLocation\\\": \\\"\\\", \\\"hideGenomeOptions\\\": \\\"false\\\", \\\"shareLink\\\": \\\"true\\\", \\\"show_menu\\\": \\\"true\\\"}\"}","id":6,"tool_shed_repository":{"owner":"iuc","changeset_revision":"836d1aa3e89a","name":"jbrowse","tool_shed":"toolshed.g2.bx.psu.edu"},"uuid":"2a2aad62-4281-4bd1-bb5c-cd8bc078ec85","errors":null,"name":"JBrowse","post_job_actions":{},"label":null,"inputs":[],"position":{"top":10,"left":450},"annotation":"","content_id":"toolshed.g2.bx.psu.edu/repos/iuc/jbrowse/jbrowse/0.7.0.3","type":"tool"}]}],"api":"https://training.galaxyproject.org/training-material/api/topics/variant-analysis/tutorials/microbial-variants/tutorial.json","tools":["toolshed.g2.bx.psu.edu/repos/iuc/jbrowse/jbrowse/0.7.0.3","toolshed.g2.bx.psu.edu/repos/iuc/snippy/snippy/3.2"],"supported_servers":{"exact":[{"url":"https://usegalaxy.be/","name":"UseGalaxy.be","usegalaxy":false},{"url":"https://usegalaxy.eu","name":"UseGalaxy.eu","usegalaxy":true},{"url":"https://usegalaxy.org","name":"UseGalaxy.org (Main)","usegalaxy":true}],"inexact":[{"url":"https://galaxytrakr.org/","name":"GalaxyTrakr","usegalaxy":false},{"url":"https://usegalaxy.cz/","name":"UseGalaxy.cz","usegalaxy":false},{"url":"https://usegalaxy.fr/","name":"UseGalaxy.fr","usegalaxy":false},{"url":"https://usegalaxy.no/","name":"UseGalaxy.no","usegalaxy":false},{"url":"https://usegalaxy.org.au","name":"UseGalaxy.org.au","usegalaxy":true}]},"topic_name_human":"Variant Analysis","admin_install":{"install_tool_dependencies":true,"install_repository_dependencies":true,"install_resolver_dependencies":true,"tools":[{"name":"jbrowse","owner":"iuc","revisions":"836d1aa3e89a","tool_panel_section_label":"Graph/Display Data","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"snippy","owner":"iuc","revisions":"c9a8ef2aa380","tool_panel_section_label":"Variant Calling","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"}]},"admin_install_yaml":"---\ninstall_tool_dependencies: true\ninstall_repository_dependencies: true\ninstall_resolver_dependencies: true\ntools:\n- name: jbrowse\n  owner: iuc\n  revisions: 836d1aa3e89a\n  tool_panel_section_label: Graph/Display Data\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: snippy\n  owner: iuc\n  revisions: c9a8ef2aa380\n  tool_panel_section_label: Variant Calling\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n","tours":false,"video":false,"slides_recordings":false,"translations":{"tutorial":[],"slides":[],"video":false},"license":"CC-BY-4.0","type":"tutorial"}