{"layout":"tutorial_hands_on","title":"Finding the muon stopping site with pymuon-suite in Galaxy","level":"Introductory","zenodo_link":"https://zenodo.org/records/10219558","questions":["What are stopping sites and why is finding them important?","What computational techniques can be used to find stopping sites?","How can Galaxy help me with my analysis?"],"objectives":["Understand why finding stopping sites is useful","Use pymuon-suite in Galaxy to find stopping sites","Understand the limitations of these tools and techniques"],"time_estimation":"1H","key_points":["Galaxy supports multiple PyMuonSuite tools which can be used together to find muon stopping sites","The workflow for finding the stopping site involves three stages - structure generation, structure optimisation, and structure clustering","Within the UEP, the optimisation stage is based on analytically calculating the electrostatic forces applied to the muon, which can be performed via Galaxy.","The approach requires a CASTEP DFT calculation to be completed as a starting point"],"contributions":{"authorship":["leandro-liborio","elichad","patrick-austin"],"editing":["leandro-liborio"],"funding":["eurosciencegateway"]},"subtopic":"muon-spectroscopy","priority":2,"abbreviations":{"AIRSS":"Ab Initio Random Structure Search","DFT":"Density Functional Theory","UEP":"Unperturbed Electrostatic Potential"},"recordings":[{"youtube_id":"rFPtDmq7uO8","date":"2024-01-26","length":"22M","speakers":["leandro-liborio"],"captioners":["leandro-liborio"]}],"js_requirements":{"mathjax":null,"mermaid":false},"short_id":"T00402","symlink":null,"url":"/topics/materials-science/tutorials/muon-stopping-sites-muairss-uep/tutorial.html","topic_name":"materials-science","tutorial_name":"muon-stopping-sites-muairss-uep","dir":"topics/materials-science/tutorials/muon-stopping-sites-muairss-uep","id":"materials-science/muon-stopping-sites-muairss-uep","hands_on":true,"slides":false,"mod_date":"2024-06-14 09:56:50 +0000","pub_date":"2024-01-22 20:44:48 +0000","version":2,"workflows":[{"workflow":"muairss-uep.ga","tests":true,"url":"https://training.galaxyproject.org/training-material/topics/materials-science/tutorials/muon-stopping-sites-muairss-uep/workflows/muairss-uep.ga","url_html":"https://training.galaxyproject.org/training-material/topics/materials-science/tutorials/muon-stopping-sites-muairss-uep/workflows/muairss-uep.html","path":"topics/materials-science/tutorials/muon-stopping-sites-muairss-uep/workflows/muairss-uep.ga","wfid":"materials-science-muon-stopping-sites-muairss-uep","wfname":"muairss-uep","trs_endpoint":"https://training.galaxyproject.org/training-material/api/ga4gh/trs/v2/tools/materials-science-muon-stopping-sites-muairss-uep/versions/muairss-uep","license":"MIT","parent_id":"materials-science/muon-stopping-sites-muairss-uep","topic_id":"materials-science","tutorial_id":"muon-stopping-sites-muairss-uep","creators":[{"class":"Organization","name":"Muon Spectroscopy Computational Project","url":"https://muon-spectroscopy-computational-project.github.io/"}],"name":"Finding the Muon Stopping Site: pymuon-suite in Galaxy","title":"Finding the Muon Stopping Site: pymuon-suite in Galaxy","version":1,"description":"","tags":[],"features":{"report":null,"subworkflows":false,"comments":false,"parameters":false},"workflowhub_id":"1109","history":[{"hash":"cd4b1f827bc53928da8d0afb85d1c83590fc2638","unix":"1702051023","message":"Changes for linting and remove MuSpinSim content #1","short_hash":"cd4b1f827","num":3},{"hash":"5b3763af3729dbb2092e0757bd3aea5714960f71","unix":"1701764649","message":"Updated tutorial for finding the muon stopping site with Galaxy","short_hash":"5b3763af3","num":2},{"hash":"593f4002b4d9ecce6f6a8a91d700dea075c3662f","unix":"1673882604","message":"Address various review comments","short_hash":"593f4002b","num":1}],"test_results":null,"modified":"2024-10-03 14:12:17 +0000","mermaid":"flowchart TD\n  0[\"ℹ️ Input Dataset\\nCopper-out.cell\"];\n  style 0 stroke:#2c3143,stroke-width:4px;\n  1[\"ℹ️ Input Dataset\\nCopper.den_fmt\"];\n  style 1 stroke:#2c3143,stroke-width:4px;\n  2[\"ℹ️ Input Dataset\\nCopper.castep\"];\n  style 2 stroke:#2c3143,stroke-width:4px;\n  3[\"PyMuonSuite AIRSS UEP Optimise\"];\n  2 -->|output| 3;\n  1 -->|output| 3;\n  0 -->|output| 3;\n  f3be7cd2-3974-49f2-aa0e-96c79b4ab34c[\"Output\\nAll muons in host material\"];\n  3 --> f3be7cd2-3974-49f2-aa0e-96c79b4ab34c;\n  style f3be7cd2-3974-49f2-aa0e-96c79b4ab34c stroke:#2c3143,stroke-width:4px;\n  4[\"PyMuonSuite AIRSS Cluster\"];\n  3 -->|uep_results| 4;","graph_dot":"digraph main {\n  node [fontname=\"Atkinson Hyperlegible\", shape=box, color=white,style=filled,color=peachpuff,margin=\"0.2,0.2\"];\n  edge [fontname=\"Atkinson Hyperlegible\"];\n  0[color=lightblue,label=\"ℹ️ Input Dataset\\nCopper-out.cell\"]\n  1[color=lightblue,label=\"ℹ️ Input Dataset\\nCopper.den_fmt\"]\n  2[color=lightblue,label=\"ℹ️ Input Dataset\\nCopper.castep\"]\n  3[label=\"PyMuonSuite AIRSS UEP Optimise\"]\n  2 -> 3 [label=\"output\"]\n  1 -> 3 [label=\"output\"]\n  0 -> 3 [label=\"output\"]\n  kf3be7cd2397449f2aa0e96c79b4ab34c[color=lightseagreen,label=\"Output\\nAll muons in host material\"]\n  3 -> kf3be7cd2397449f2aa0e96c79b4ab34c\n  4[label=\"PyMuonSuite AIRSS Cluster\"]\n  3 -> 4 [label=\"uep_results\"]\n}","workflow_tools":["toolshed.g2.bx.psu.edu/repos/muon-spectroscopy-computational-project/pm_muairss_read/pm_muairss_read/0.3.0+galaxy0","toolshed.g2.bx.psu.edu/repos/muon-spectroscopy-computational-project/pm_uep_opt/pm_uep_opt/0.3.0+galaxy1"],"inputs":[{"annotation":"CASTEP structural file for the relaxed host material","content_id":null,"errors":null,"id":0,"input_connections":{},"inputs":[{"description":"CASTEP structural file for the relaxed host material","name":"Copper-out.cell"}],"label":"Copper-out.cell","name":"Input dataset","outputs":[],"position":{"left":2.0965249510338584,"top":0.08734987455441257},"tool_id":null,"tool_state":"{\"optional\": false, \"tag\": null}","tool_version":null,"type":"data_input","uuid":"0a1cc8d8-c2d9-48f6-9a92-9d96778249dc","when":null,"workflow_outputs":[]},{"annotation":"CASTEP charge density file","content_id":null,"errors":null,"id":1,"input_connections":{},"inputs":[{"description":"CASTEP charge density file","name":"Copper.den_fmt"}],"label":"Copper.den_fmt","name":"Input dataset","outputs":[],"position":{"left":2.0965249510338584,"top":86.09728918976163},"tool_id":null,"tool_state":"{\"optional\": false, \"tag\": null}","tool_version":null,"type":"data_input","uuid":"73e18b25-ebb9-4835-933c-1b8c1feb74cb","when":null,"workflow_outputs":[]},{"annotation":"main CASTEP output file ","content_id":null,"errors":null,"id":2,"input_connections":{},"inputs":[{"description":"main CASTEP output file ","name":"Copper.castep"}],"label":"Copper.castep","name":"Input dataset","outputs":[],"position":{"left":0,"top":173.59228833890583},"tool_id":null,"tool_state":"{\"optional\": false, \"tag\": null}","tool_version":null,"type":"data_input","uuid":"2ac4de9c-0f0a-4bdb-971a-cd471c08111e","when":null,"workflow_outputs":[]}],"outputs":[{"annotation":"Galaxy tool used to: load the CASTEP files; complete the Generation parameters to set up the creation of randomly populated muonated structures; and complete the Optimisation parameters to set up the relaxation the electrostatic forces of the muon in each of the randomly populated muonated structures.","content_id":"toolshed.g2.bx.psu.edu/repos/muon-spectroscopy-computational-project/pm_uep_opt/pm_uep_opt/0.3.0+galaxy1","errors":null,"id":3,"input_connections":{"castep_log":{"id":2,"output_name":"output"},"charge_density":{"id":1,"output_name":"output"},"structure":{"id":0,"output_name":"output"}},"inputs":[],"label":"PyMuonSuite AIRSS UEP Optimise","name":"PyMuonSuite AIRSS UEP Optimise","outputs":[{"name":"uep_results","type":"zip"},{"name":"allpos_file","type":"_sniff_"}],"position":{"left":345.2278179241512,"top":0},"post_job_actions":{},"tool_id":"toolshed.g2.bx.psu.edu/repos/muon-spectroscopy-computational-project/pm_uep_opt/pm_uep_opt/0.3.0+galaxy1","tool_shed_repository":{"changeset_revision":"eea73e1f65cb","name":"pm_uep_opt","owner":"muon-spectroscopy-computational-project","tool_shed":"toolshed.g2.bx.psu.edu"},"tool_state":"{\"__input_ext\": \"input\", \"castep_log\": {\"__class__\": \"ConnectedValue\"}, \"charge_density\": {\"__class__\": \"ConnectedValue\"}, \"chromInfo\": \"/srv/galaxy/var/tool_data/shared/ucsc/chrom/?.len\", \"generation_params\": {\"poisson_r\": \"0.6\", \"vdw_scale\": \"0.5\", \"random_seed\": null, \"allpos_ext\": \"cif\"}, \"optimisation_params\": {\"geom_steps\": \"30\", \"geom_force_tol\": \"0.05\", \"uep_gw_factor\": \"5.0\"}, \"structure\": {\"__class__\": \"ConnectedValue\"}, \"testing\": \"false\", \"__page__\": null, \"__rerun_remap_job_id__\": null}","tool_version":"0.3.0+galaxy1","type":"tool","uuid":"22131f07-c4c4-4ec0-9a45-5c8c8069600c","when":null,"workflow_outputs":[{"label":"All muons in host material","output_name":"allpos_file","uuid":"f3be7cd2-3974-49f2-aa0e-96c79b4ab34c"}]}]}],"api":"https://training.galaxyproject.org/training-material/api/topics/materials-science/tutorials/muon-stopping-sites-muairss-uep/tutorial.json","tools":["toolshed.g2.bx.psu.edu/repos/muon-spectroscopy-computational-project/pm_muairss_read/pm_muairss_read/0.3.0+galaxy0","toolshed.g2.bx.psu.edu/repos/muon-spectroscopy-computational-project/pm_uep_opt/pm_uep_opt/0.3.0+galaxy1"],"supported_servers":{"exact":[{"url":"https://usegalaxy.cz/","name":"UseGalaxy.cz","usegalaxy":false},{"url":"https://usegalaxy.eu","name":"UseGalaxy.eu","usegalaxy":true}],"inexact":[]},"supported_servers_matrix":{"servers":[{"url":"http://apostl.moffitt.org/","name":"APOSTL"},{"url":"http://smile.hku.hk/SARGs","name":"ARGs-OAP"},{"url":"https://iris.angers.inra.fr/galaxypub-cfbp","name":"CIRM-CFBP"},{"url":"https://vm-chemflow-francegrille.eu/","name":"ChemFlow"},{"url":"https://hyperbrowser.uio.no/coloc-stats","name":"Coloc-stats"},{"url":"https://coralsnp.science.psu.edu/galaxy/","name":"CoralSNP"},{"url":"http://cropgalaxy.excellenceinbreeding.org/","name":"CropGalaxy"},{"url":"http://dintor.eurac.edu/","name":"Dintor"},{"url":"http://www.freebioinfo.org/","name":"FreeBioinfo"},{"url":"http://igg.cloud.ba.infn.it/galaxy","name":"GASLINI"},{"url":"https://galaxy.mesocentre.uca.fr","name":"Galaxy@AuBi","usegalaxy":false},{"url":"https://galaxy.pasteur.fr/","name":"Galaxy@Pasteur","usegalaxy":false},{"url":"https://galaxytrakr.org/","name":"GalaxyTrakr","usegalaxy":false},{"url":"http://hyperbrowser.uio.no/hb/","name":"Genomic Hyperbrowser"},{"url":"http://gigagalaxy.net/","name":"GigaGalaxy"},{"url":"https://galaxy.hyphy.org/","name":"HyPhy HIV NGS Tools","usegalaxy":false},{"url":"https://galaxy-web.ipk-gatersleben.de","name":"IPK Galaxy Blast Suite"},{"url":"https://www.immportgalaxy.org/","name":"ImmPort Galaxy"},{"url":"http://galaxy.interactomix.com/","name":"InteractoMIX"},{"url":"https://mississippi.sorbonne-universite.fr","name":"MISSISSIPPI","usegalaxy":false},{"url":"https://neo.engr.uconn.edu/","name":"Mandoiu Lab"},{"url":"http://mapping-by-sequencing.vm.uni-freiburg.de:8080/","name":"MiModD NacreousMap"},{"url":"http://galaxy.inf.ethz.ch","name":"Oqtans"},{"url":"https://palfinder.ls.manchester.ac.uk/","name":"Palfinder"},{"url":"http://pepsimili.e-nios.com:8080/","name":"PepSimili","usegalaxy":false},{"url":"https://galaxy.bio.di.uminho.pt/","name":"PhagePromotor","usegalaxy":false},{"url":"https://usegalaxy.be/","name":"UseGalaxy.be","usegalaxy":false},{"url":"https://usegalaxy.cz/","name":"UseGalaxy.cz","usegalaxy":false},{"url":"https://usegalaxy.eu","name":"UseGalaxy.eu","usegalaxy":true},{"url":"https://usegalaxy.fr/","name":"UseGalaxy.fr","usegalaxy":false},{"url":"https://usegalaxy.no/","name":"UseGalaxy.no","usegalaxy":false},{"url":"https://usegalaxy.org","name":"UseGalaxy.org (Main)","usegalaxy":true},{"url":"https://usegalaxy.org.au","name":"UseGalaxy.org.au","usegalaxy":true},{"url":"https://viralvariant.anses.fr/","name":"Viral Variant Visualizer (VVV)"}],"tools":[{"id":"toolshed.g2.bx.psu.edu/repos/muon-spectroscopy-computational-project/pm_muairss_read/pm_muairss_read/0.3.0+galaxy0","servers":[{"state":"missing","server":"http://apostl.moffitt.org/"},{"state":"missing","server":"http://smile.hku.hk/SARGs"},{"state":"missing","server":"https://iris.angers.inra.fr/galaxypub-cfbp"},{"state":"missing","server":"https://vm-chemflow-francegrille.eu/"},{"state":"missing","server":"https://hyperbrowser.uio.no/coloc-stats"},{"state":"missing","server":"https://coralsnp.science.psu.edu/galaxy/"},{"state":"missing","server":"http://cropgalaxy.excellenceinbreeding.org/"},{"state":"missing","server":"http://dintor.eurac.edu/"},{"state":"missing","server":"http://www.freebioinfo.org/"},{"state":"missing","server":"http://igg.cloud.ba.infn.it/galaxy"},{"state":"missing","server":"https://galaxy.mesocentre.uca.fr"},{"state":"missing","server":"https://galaxy.pasteur.fr/"},{"state":"missing","server":"https://galaxytrakr.org/"},{"state":"missing","server":"http://hyperbrowser.uio.no/hb/"},{"state":"missing","server":"http://gigagalaxy.net/"},{"state":"missing","server":"https://galaxy.hyphy.org/"},{"state":"missing","server":"https://galaxy-web.ipk-gatersleben.de"},{"state":"missing","server":"https://www.immportgalaxy.org/"},{"state":"missing","server":"http://galaxy.interactomix.com/"},{"state":"missing","server":"https://mississippi.sorbonne-universite.fr"},{"state":"missing","server":"https://neo.engr.uconn.edu/"},{"state":"missing","server":"http://mapping-by-sequencing.vm.uni-freiburg.de:8080/"},{"state":"missing","server":"http://galaxy.inf.ethz.ch"},{"state":"missing","server":"https://palfinder.ls.manchester.ac.uk/"},{"state":"missing","server":"http://pepsimili.e-nios.com:8080/"},{"state":"missing","server":"https://galaxy.bio.di.uminho.pt/"},{"state":"missing","server":"https://usegalaxy.be/"},{"state":"exact","version":"0.3.0+galaxy0","server":"https://usegalaxy.cz/"},{"state":"exact","version":"0.3.0+galaxy0","server":"https://usegalaxy.eu"},{"state":"missing","server":"https://usegalaxy.fr/"},{"state":"missing","server":"https://usegalaxy.no/"},{"state":"missing","server":"https://usegalaxy.org"},{"state":"missing","server":"https://usegalaxy.org.au"},{"state":"missing","server":"https://viralvariant.anses.fr/"}],"version":"0.3.0+galaxy0"},{"id":"toolshed.g2.bx.psu.edu/repos/muon-spectroscopy-computational-project/pm_uep_opt/pm_uep_opt/0.3.0+galaxy1","servers":[{"state":"missing","server":"http://apostl.moffitt.org/"},{"state":"missing","server":"http://smile.hku.hk/SARGs"},{"state":"missing","server":"https://iris.angers.inra.fr/galaxypub-cfbp"},{"state":"missing","server":"https://vm-chemflow-francegrille.eu/"},{"state":"missing","server":"https://hyperbrowser.uio.no/coloc-stats"},{"state":"missing","server":"https://coralsnp.science.psu.edu/galaxy/"},{"state":"missing","server":"http://cropgalaxy.excellenceinbreeding.org/"},{"state":"missing","server":"http://dintor.eurac.edu/"},{"state":"missing","server":"http://www.freebioinfo.org/"},{"state":"missing","server":"http://igg.cloud.ba.infn.it/galaxy"},{"state":"missing","server":"https://galaxy.mesocentre.uca.fr"},{"state":"missing","server":"https://galaxy.pasteur.fr/"},{"state":"missing","server":"https://galaxytrakr.org/"},{"state":"missing","server":"http://hyperbrowser.uio.no/hb/"},{"state":"missing","server":"http://gigagalaxy.net/"},{"state":"missing","server":"https://galaxy.hyphy.org/"},{"state":"missing","server":"https://galaxy-web.ipk-gatersleben.de"},{"state":"missing","server":"https://www.immportgalaxy.org/"},{"state":"missing","server":"http://galaxy.interactomix.com/"},{"state":"missing","server":"https://mississippi.sorbonne-universite.fr"},{"state":"missing","server":"https://neo.engr.uconn.edu/"},{"state":"missing","server":"http://mapping-by-sequencing.vm.uni-freiburg.de:8080/"},{"state":"missing","server":"http://galaxy.inf.ethz.ch"},{"state":"missing","server":"https://palfinder.ls.manchester.ac.uk/"},{"state":"missing","server":"http://pepsimili.e-nios.com:8080/"},{"state":"missing","server":"https://galaxy.bio.di.uminho.pt/"},{"state":"missing","server":"https://usegalaxy.be/"},{"state":"exact","version":"0.3.0+galaxy1","server":"https://usegalaxy.cz/"},{"state":"exact","version":"0.3.0+galaxy1","server":"https://usegalaxy.eu"},{"state":"missing","server":"https://usegalaxy.fr/"},{"state":"missing","server":"https://usegalaxy.no/"},{"state":"missing","server":"https://usegalaxy.org"},{"state":"missing","server":"https://usegalaxy.org.au"},{"state":"missing","server":"https://viralvariant.anses.fr/"}],"version":"0.3.0+galaxy1"}]},"topic_name_human":"Materials Science","admin_install":{"install_tool_dependencies":true,"install_repository_dependencies":true,"install_resolver_dependencies":true,"tools":[{"name":"pm_muairss_read","owner":"muon-spectroscopy-computational-project","revisions":"40071ff77285","tool_panel_section_label":"Muon Spectroscopy","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"pm_uep_opt","owner":"muon-spectroscopy-computational-project","revisions":"eea73e1f65cb","tool_panel_section_label":"Muon Spectroscopy","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"}]},"admin_install_yaml":"---\ninstall_tool_dependencies: true\ninstall_repository_dependencies: true\ninstall_resolver_dependencies: true\ntools:\n- name: pm_muairss_read\n  owner: muon-spectroscopy-computational-project\n  revisions: 40071ff77285\n  tool_panel_section_label: Muon Spectroscopy\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: pm_uep_opt\n  owner: muon-spectroscopy-computational-project\n  revisions: eea73e1f65cb\n  tool_panel_section_label: Muon Spectroscopy\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n","tours":false,"video":false,"slides_recordings":false,"translations":{"tutorial":[],"slides":[],"video":false},"license":"CC-BY-4.0","type":"tutorial","contributors":[{"name":"Leandro Liborio","email":"leandro.liborio@stfc.ac.uk","joined":"2022-11","id":"leandro-liborio","url":"https://training.galaxyproject.org/training-material/api/contributors/leandro-liborio.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/leandro-liborio/"},{"name":"Eli Chadwick","email":"eli.chadwick@manchester.ac.uk","orcid":"0000-0002-0035-6475","joined":"2022-11","id":"elichad","url":"https://training.galaxyproject.org/training-material/api/contributors/elichad.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/elichad/"},{"name":"Patrick Austin","email":"patrick.austin@stfc.ac.uk","joined":"2022-11","id":"patrick-austin","url":"https://training.galaxyproject.org/training-material/api/contributors/patrick-austin.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/patrick-austin/"},{"name":"Leandro Liborio","email":"leandro.liborio@stfc.ac.uk","joined":"2022-11","id":"leandro-liborio","url":"https://training.galaxyproject.org/training-material/api/contributors/leandro-liborio.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/leandro-liborio/"},{"name":"EuroScienceGateway","github":false,"joined":"2023-10","avatar":"/training-material/assets/images/eurosciencegateway.png","url":"https://training.galaxyproject.org/training-material/api/funders/eurosciencegateway.json","funder":true,"funding_id":"101057388","funding_system":"cordis","funding_statement":"EuroScienceGateway was funded by the European Union programme Horizon Europe (HORIZON-INFRA-2021-EOSC-01-04) under grant agreement number 101057388 and by UK Research and Innovation (UKRI) under the UK government’s Horizon Europe funding guarantee grant number 10038963.","members":["abretaud","anuprulez","bgruening","erxleben","pauldg","rlibouba"],"id":"eurosciencegateway","page":"https://training.galaxyproject.org/training-material/hall-of-fame/eurosciencegateway/"}]}