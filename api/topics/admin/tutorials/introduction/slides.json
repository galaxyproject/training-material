{"layout":"introduction_slides","logo":"assets/images/gat.png","subtopic":"core","priority":1,"redirect_from":["/topics/admin/slides/introduction","/short/admin/introduction/slides","/short/S00015"],"title":"Galaxy from an administrator's point of view","zenodo_link":"","questions":["What options to deploy Galaxy do I have?","Which platforms are supported by Galaxy?","What requirements does Galaxy have?"],"objectives":["Learn about different options about Galaxy deployment.","Make an educated decision about your preferred deployment model."],"time_estimation":"20m","key_points":["Galaxy is scalable from personal computers to huge HPC and cloud-instances.","Amount of expected users, types of common tasks, and storage capabilities have a big impact on the deployment."],"contributors":["valentinmarcon","natefoo","bgruening","hexylena"],"js_requirements":{"mathjax":null,"mermaid":false},"short_id":"S00015","url":"/topics/admin/tutorials/introduction/slides.html","topic_name":"admin","tutorial_name":"introduction","dir":"topics/admin/tutorials/introduction","symlink":null,"id":"admin/introduction","ref_tutorials":[],"ref_slides":["![Picture with 125+ platforms for using galaxy written and a number of screenshots of those galaxies.](../../images/use-resource-banner.png)\n\n---\n\n# Where can Galaxy run?\n\n\n\n* Cloud (SaaS)\n  - A usegalaxy.* site: [Galaxy France](https://usegalaxy.fr), [Galaxy Main](https://usegalaxy.org), [Galaxy Europe](https://usegalaxy.eu), [Galaxy Australia](https://usegalaxy.org.au)\n  - [Public Galaxy Servers](https://galaxyproject.org/use)\n  - [Amazon EC2 or MS Azure](https://launch.usegalaxy.org/)\n  - Semi-private cloud (e.g.: [NeCTAR](https://nectar.org.au/), [Jetstream](http://jetstream-cloud.org/))\n* Private cloud (build your own Galaxy SaaS)\n* Cloud (IaaS)\n  - Any cloud\n* Scalable Local Server\n  - Dedicated or shared compute cluster(s)\n  - Cloud compute resources\n* Standalone Local Server\n\n\n---\n\n# Choosing where to run\n\n[Resource Directory](https://galaxyproject.org/use/)\n\nSupported                                         | UseGalaxy.* | Local     | Cloud\n---------                                         | ----        | -----     | -----\nModerate Data                                     | âœ…          | âœ…        | âœ…\nBig Data                                          | âŒ          | ðŸ¤·â€â™€ï¸ | âœ…\nModerate Computations                             | âœ…          | âœ…        | âœ…\nLong/Expensive Computations                       | âŒ          | ðŸ¤·â€  | âœ…\nYou want to share your Galaxy objects with others | âœ…          | âœ…        | âœ…\nAll needed Tools are pre-installed                | âœ…          | ðŸ¤·â€â™‚ï¸ | âœ…\nHuman Data / Proprietary Data                     | âŒ          | âœ…        | âœ…\nNo network transfer of data                       | âŒ          | âœ…        | âŒ\n\n---\n\n## Reasons to Install Your Own Galaxy\n\n- You want to run a local [production Galaxy](https://docs.galaxyproject.org/en/latest/admin/production.html)\n- You want to develop [Galaxy tools](https://galaxyproject.org/admin/tools/add-tool-tutorial)\n- You want to [Develop Galaxy](https://galaxyproject.org/develop/) itself\n- [Install](https://galaxyproject.org/admin/tools/add-tool-tutorial) and use tools unavailable on [public Galaxies](https://galaxyproject.org/public-galaxy-servers)\n- Use sensitive data (e.g. clinical)\n- Process large datasets that are too big for public Galaxies\n- [plug-in](https://galaxyproject.org/admin/internals/data-sources) new datasources\n\n\n---\n\n# Software Requirements\n\nRequired:\n  - Galaxy is written in Python and depends on **Python 3.5** or newer\n\nMinimal [production](https://docs.galaxyproject.org/en/master/admin/production.html) requirements:\n  - [PostgreSQL](/training-material/topics/admin/tutorials/database/slides.html)\n  - Reverse proxy server (NGINX, Apache)\n\n---\n\n# Hardware Requirements\n\nThis depends:\n\n- What do you intend to run?\n- Where do you intend to run it?\n\nIf possible, run the Galaxy server **separate** from Galaxy jobs\n\n**Storage** will usually be the biggest concern\n\n???\n\n- Depends on your available infrastructure\n- If you are storage limited, can be addressed by policy of deleting old/unused histories\n- If you are compute limited, can be addressed with queue limits\n\n---\n# Server Hardware Requirements\n\nBased on concurrent user count and assuming separate compute for jobs:\n\nUsers     | Resource estimate\n----------|-------------------\n1 - 5     | 1 core, 1GB, 10 TB\n5 - 20    | 2 cores, 2 GB, 40 TB\n20 - 40   | 8 cores, 8 GB, 200 TB\n40+       | multiple hosts, 16 GB/host, 500 TB, dedicated DB host\n\nStorage is more difficult to estimate since it is, like compute, **analysis** and **policy** dependent\n\n---\ntemplate: left-aligned\n\n# Galaxy Storage Philosophy\n\n- Foster transparency and reproducibility\n- Data is always created, *never overwritten*\n- Copying history or library datasets associate them with the original file on disk without an actual copy\n- By default, data is never really deleted unless *explicitly instructed*\n- Even deleted data can be undeleted unless *forcibly purged*\n\n---\n\ntemplate: left-aligned\n\n# Storage Requirements\n\nAn \"average\" 2018 NGS analysis (by Anton Nekrutenko): **66 GB**\n\n10 users, 10 histories: **> 6 TB**\n\nSolutions:\n\n- Quotas\n- Set job limits in the job conf\n- Clean up deleted data (with a cron job)\n- Forced removal based on age\n- Users can configure their workflows to delete intermediate tool outputs\n- Data libraries for common data\n- Public servers: require email verification (and watch for duplicates)\n- Plug in more/heterogeneous storage using Object Store configuration\n\n---\n\n# Compute Requirements\n\nThis depends:\n\n- What tools will your users be using?\n  - What are their requirements?\n- In general, the most commonly used tools use a single core\n  - But can use lots of memory!\n- Some compute-intensive tools use multiple cores\n\nusegalaxy.org allocates from **8 GB/core** to **16 GB/core**\n\nConnecting Galaxy to clusters/HPC is covered in the advanced section.\n\n---\n\n# Making plans\n\n**Before** deploying your first Galaxy server:\n\n- Figure out where Galaxy will be stored\n  - Make sure it will be accessible to any eventual compute\n- Figure out where data will be stored\n  - Make sure it will be accessible to any eventual compute\n\n---\n\n# Galaxy deployment options\n\n- As developer: `git clone https://github.com/galaxyproject/galaxy.git`\n- Ready-to-use locally: [Docker](https://github.com/bgruening/docker-galaxy-stable/)\n- Production server: configuration management (e.g. Ansible)\n\nIn future:\n\n- Alternative to git clone: Galaxy wheel in PyPI\n\n---\n\n# Deployment Best Practices\n\n- **Use configuration management**\n  - [Ansible](http://docs.ansible.com) for which Galaxy Project maintains roles ([tutorial](https://training.galaxyproject.org/training-material/topics/admin/tutorials/ansible/slides.html))\n  - Other systems are possible (Chef, Puppet, SaltStack, CFEngine) but do not have project-maintained roles.\n\n- Whether you use configuration management or not, *record every change you make on a version control system* (e.g. git):\n  - Large, complex deployments grow organically\n  - If you don't know what you did, you can't do it again\n\n---\n\ntemplate: left-aligned\n\n# System Administration Best Practices\n\n- Take security seriously\n- **Update Galaxy when security updates are released**\n- Follow OS security best practices\n- Privilege separate code/job/data ownership\n- Write protect Galaxy and data if you can\n- Read-only cluster mounts\n\nBack up everything (except that which is managed by configuration management)\n"],"hands_on":false,"slides":true,"mod_date":"2024-02-13 10:58:22 +0000","pub_date":"2017-06-12 08:10:40 +0000","version":7,"api":"https://training.galaxyproject.org/training-material/api/topics/admin/tutorials/introduction/tutorial.json","tools":[],"supported_servers":[],"topic_name_human":"Galaxy Server administration","admin_install":{"install_tool_dependencies":true,"install_repository_dependencies":true,"install_resolver_dependencies":true,"tools":[]},"admin_install_yaml":"---\ninstall_tool_dependencies: true\ninstall_repository_dependencies: true\ninstall_resolver_dependencies: true\ntools: []\n","tours":false,"video":false,"slides_recordings":false,"translations":{"tutorial":[],"slides":[],"video":false},"license":"CC-BY-4.0","type":"tutorial"}