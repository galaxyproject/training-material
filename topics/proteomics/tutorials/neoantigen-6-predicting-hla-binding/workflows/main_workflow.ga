{"a_galaxy_workflow": "true", "annotation": "Prediction of HLA binding for verified candidates", "comments": [], "creator": [{"class": "Organization", "name": "galaxyp"}], "format-version": "0.1", "license": "GPL-3.0-or-later", "name": "GigaScience-RNAseq-Optitype-seq2HLA-to-IEDB-alleles", "report": {"markdown": "\n# Workflow Execution Report\n\n## Workflow Inputs\n```galaxy\ninvocation_inputs()\n```\n\n## Workflow Outputs\n```galaxy\ninvocation_outputs()\n```\n\n## Workflow\n```galaxy\nworkflow_display()\n```\n"}, "steps": {"0": {"annotation": "Paired RNAseq forward reads.", "content_id": null, "errors": null, "id": 0, "input_connections": {}, "inputs": [{"description": "Paired RNAseq forward reads.", "name": "R1.fastq"}], "label": "R1.fastq", "name": "Input dataset", "outputs": [], "position": {"left": 0, "top": 172.50329230957024}, "tool_id": null, "tool_state": "{\"optional\": false, \"format\": [\"fastqsanger\", \"fastqsanger.gz\"], \"tag\": null}", "tool_version": null, "type": "data_input", "uuid": "0db8cd2f-9c00-4c93-96fd-1b756cc83c66", "when": null, "workflow_outputs": []}, "1": {"annotation": "Paired RNAseq reverse reads.", "content_id": null, "errors": null, "id": 1, "input_connections": {}, "inputs": [{"description": "Paired RNAseq reverse reads.", "name": "R2.fastq"}], "label": "R2.fastq", "name": "Input dataset", "outputs": [], "position": {"left": 3.6874771118164062, "top": 283.5241243713378}, "tool_id": null, "tool_state": "{\"optional\": false, \"format\": [\"fastqsanger\", \"fastqsanger.gz\"], \"tag\": null}", "tool_version": null, "type": "data_input", "uuid": "6c668770-34f7-4091-a830-a68030244843", "when": null, "workflow_outputs": []}, "2": {"annotation": "HLA genotyping output", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/optitype/optitype/1.3.5+galaxy0", "errors": null, "id": 2, "input_connections": {"fastq_input|fastq_input1": {"id": 0, "output_name": "output"}, "fastq_input|fastq_input2": {"id": 1, "output_name": "output"}}, "inputs": [{"description": "runtime parameter for tool OptiType", "name": "fastq_input"}, {"description": "runtime parameter for tool OptiType", "name": "fastq_input"}], "label": "Optitype", "name": "OptiType", "outputs": [{"name": "coverage_plot", "type": "pdf"}, {"name": "result", "type": "tabular"}], "position": {"left": 501.484375, "top": 0}, "post_job_actions": {"RenameDatasetActioncoverage_plot": {"action_arguments": {"newname": "OptiType_on_input_datasets_coverage_plot"}, "action_type": "RenameDatasetAction", "output_name": "coverage_plot"}, "RenameDatasetActionresult": {"action_arguments": {"newname": "OptiType_on_input_datasets_result"}, "action_type": "RenameDatasetAction", "output_name": "result"}, "TagDatasetActioncoverage_plot": {"action_arguments": {"tags": "#Optitype"}, "action_type": "TagDatasetAction", "output_name": "coverage_plot"}, "TagDatasetActionresult": {"action_arguments": {"tags": "#Optitype"}, "action_type": "TagDatasetAction", "output_name": "result"}}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/optitype/optitype/1.3.5+galaxy0", "tool_shed_repository": {"changeset_revision": "fd974c5df8bc", "name": "optitype", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"beta\": null, \"enumerations\": \"3\", \"fastq_input\": {\"fastq_input_selector\": \"paired\", \"__current_case__\": 0, \"fastq_input1\": {\"__class__\": \"ConnectedValue\"}, \"fastq_input2\": {\"__class__\": \"ConnectedValue\"}}, \"read_type\": \"--rna\", \"solver\": \"glpk\", \"unpaired_weight\": \"0.0\", \"use_discordant\": false, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "1.3.5+galaxy0", "type": "tool", "uuid": "fa062606-0731-448f-825d-be633335c923", "when": null, "workflow_outputs": [{"label": "OptiType_on_input_datasets_result", "output_name": "result", "uuid": "cce6a623-1f69-47f9-af17-f6d147bc6494"}, {"label": "OptiType_on_input_datasets_coverage_plot", "output_name": "coverage_plot", "uuid": "c3aeb7f3-89e2-4b9b-b8af-481955d7de61"}]}, "3": {"annotation": "HLA genotyping output", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/seq2hla/seq2hla/2.3+galaxy0", "errors": null, "id": 3, "input_connections": {"fastq_input|fastq_input1": {"id": 0, "output_name": "output"}, "fastq_input|fastq_input2": {"id": 1, "output_name": "output"}}, "inputs": [{"description": "runtime parameter for tool seq2HLA", "name": "fastq_input"}, {"description": "runtime parameter for tool seq2HLA", "name": "fastq_input"}], "label": "seq2HLA", "name": "seq2HLA", "outputs": [{"name": "seq2hla_log", "type": "txt"}, {"name": "c1_genotype2digits", "type": "tabular"}, {"name": "c1_genotype4digits", "type": "tabular"}, {"name": "c2_genotype4digits", "type": "tabular"}, {"name": "c1_expression", "type": "tabular"}, {"name": "c2_expression", "type": "tabular"}, {"name": "ambiguity", "type": "txt"}], "position": {"left": 517.2152581356928, "top": 370.18557425006134}, "post_job_actions": {"HideDatasetActionc1_expression": {"action_arguments": {}, "action_type": "HideDatasetAction", "output_name": "c1_expression"}, "HideDatasetActionc1_genotype2digits": {"action_arguments": {}, "action_type": "HideDatasetAction", "output_name": "c1_genotype2digits"}, "HideDatasetActionc2_expression": {"action_arguments": {}, "action_type": "HideDatasetAction", "output_name": "c2_expression"}, "HideDatasetActionc2_genotype4digits": {"action_arguments": {}, "action_type": "HideDatasetAction", "output_name": "c2_genotype4digits"}, "HideDatasetActionseq2hla_log": {"action_arguments": {}, "action_type": "HideDatasetAction", "output_name": "seq2hla_log"}, "RenameDatasetActionc1_genotype4digits": {"action_arguments": {"newname": "seq2HLA_genotype_4digits"}, "action_type": "RenameDatasetAction", "output_name": "c1_genotype4digits"}, "TagDatasetActionambiguity": {"action_arguments": {"tags": "#seq2HLA"}, "action_type": "TagDatasetAction", "output_name": "ambiguity"}, "TagDatasetActionc1_expression": {"action_arguments": {"tags": "#seq2HLA"}, "action_type": "TagDatasetAction", "output_name": "c1_expression"}, "TagDatasetActionc1_genotype4digits": {"action_arguments": {"tags": "#seq2HLA"}, "action_type": "TagDatasetAction", "output_name": "c1_genotype4digits"}, "TagDatasetActionc2_expression": {"action_arguments": {"tags": "#seq2HLA"}, "action_type": "TagDatasetAction", "output_name": "c2_expression"}, "TagDatasetActionc2_genotype4digits": {"action_arguments": {"tags": "#seq2HLA"}, "action_type": "TagDatasetAction", "output_name": "c2_genotype4digits"}}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/seq2hla/seq2hla/2.3+galaxy0", "tool_shed_repository": {"changeset_revision": "86d0ce0560a1", "name": "seq2hla", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"fastq_input\": {\"fastq_input_selector\": \"paired\", \"__current_case__\": 0, \"fastq_input1\": {\"__class__\": \"ConnectedValue\"}, \"fastq_input2\": {\"__class__\": \"ConnectedValue\"}}, \"run_name\": \"STS26TGen\", \"trim\": null, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "2.3+galaxy0", "type": "tool", "uuid": "8ce88cf1-03d5-40c0-9b17-1ce3ab93ec1e", "when": null, "workflow_outputs": [{"label": "seq2HLA_genotype_4digits", "output_name": "c1_genotype4digits", "uuid": "be8e1b19-4a02-4d37-b716-355aac3466d6"}]}, "4": {"annotation": "reformatting the data to make it easy to interpret", "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/9.3+galaxy1", "errors": null, "id": 4, "input_connections": {"infile": {"id": 2, "output_name": "result"}}, "inputs": [], "label": "Reformated-Optitype-Data", "name": "Text reformatting", "outputs": [{"name": "outfile", "type": "input"}], "position": {"left": 749.984375, "top": 145.35746406249993}, "post_job_actions": {"HideDatasetActionoutfile": {"action_arguments": {}, "action_type": "HideDatasetAction", "output_name": "outfile"}, "RenameDatasetActionoutfile": {"action_arguments": {"newname": "Reformated-Optitype-Data"}, "action_type": "RenameDatasetAction", "output_name": "outfile"}}, "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/9.3+galaxy1", "tool_shed_repository": {"changeset_revision": "86755160afbf", "name": "text_processing", "owner": "bgruening", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"code\": \"$1 ~ /[0-9]/{ \\n    for (i = 2; i <=7; i++) { allele[$i]++}\\n}\\nEND {\\n    for (i in allele) {\\n        print i\\n    }\\n}\", \"infile\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "9.3+galaxy1", "type": "tool", "uuid": "201675b0-58d0-418a-b378-ce746a612b85", "when": null, "workflow_outputs": [{"label": "Reformated-Optitype-Data", "output_name": "outfile", "uuid": "b359062d-bb66-4ad6-a4fe-a80c71671a6a"}]}, "5": {"annotation": "extract IEDB alleles", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/query_tabular/query_tabular/3.3.2", "errors": null, "id": 5, "input_connections": {"tables_0|table": {"id": 4, "output_name": "outfile"}, "tables_1|table": {"id": 3, "output_name": "c1_genotype4digits"}}, "inputs": [{"description": "runtime parameter for tool Query Tabular", "name": "add_to_database"}], "label": "IEDB_alleles", "name": "Query Tabular", "outputs": [{"name": "output", "type": "tabular"}, {"name": "output1", "type": "tabular"}, {"name": "output2", "type": "tabular"}], "position": {"left": 1030.6875, "top": 305.6074640624999}, "post_job_actions": {"RemoveTagDatasetActionoutput1": {"action_arguments": {"tags": "#seq2HLA"}, "action_type": "RemoveTagDatasetAction", "output_name": "output1"}, "RemoveTagDatasetActionoutput2": {"action_arguments": {"tags": "#Optitype"}, "action_type": "RemoveTagDatasetAction", "output_name": "output2"}, "RenameDatasetActionoutput": {"action_arguments": {"newname": "IEDB-Optitype-seq2HLA-alleles"}, "action_type": "RenameDatasetAction", "output_name": "output"}, "RenameDatasetActionoutput1": {"action_arguments": {"newname": "IEDB_Optitype_alleles"}, "action_type": "RenameDatasetAction", "output_name": "output1"}, "RenameDatasetActionoutput2": {"action_arguments": {"newname": "IEDB_seq2HLA_alleles"}, "action_type": "RenameDatasetAction", "output_name": "output2"}}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/query_tabular/query_tabular/3.3.2", "tool_shed_repository": {"changeset_revision": "cf4397560712", "name": "query_tabular", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"add_to_database\": {\"withdb\": {\"__class__\": \"RuntimeValue\"}}, \"addqueries\": {\"queries\": [{\"__index__\": 0, \"sqlquery\": \"SELECT c1 FROM optitype\\nORDER BY c1\", \"query_result\": {\"header\": \"no\", \"__current_case__\": 1}}, {\"__index__\": 1, \"sqlquery\": \"SELECT c1 FROM seq2hla WHERE c1 LIKE '%*%:%' \\nUNION \\nSELECT c2 FROM seq2hla WHERE c2 LIKE '%*%:%'\", \"query_result\": {\"header\": \"no\", \"__current_case__\": 1}}]}, \"modify_database\": {\"sql_stmts\": []}, \"query_result\": {\"header\": \"no\", \"__current_case__\": 1}, \"save_db\": false, \"sqlquery\": \"SELECT hla\\nFROM\\n(SELECT c1 AS \\\"hla\\\" FROM optitype\\nUNION\\nSELECT c1 AS \\\"hla\\\" FROM seq2hla WHERE c1 LIKE '%*%:%'\\nUNION \\nSELECT c2 AS \\\"hla\\\" FROM seq2hla WHERE c2 LIKE '%*%:%') \\nORDER BY hla\", \"tables\": [{\"__index__\": 0, \"table\": {\"__class__\": \"ConnectedValue\"}, \"input_opts\": {\"linefilters\": [{\"__index__\": 0, \"filter\": {\"filter_type\": \"regex\", \"__current_case__\": 8, \"regex_pattern\": \"^(\\\\w+[*]\\\\d\\\\d:\\\\d\\\\d\\\\d?).*$\", \"regex_action\": \"include_match\"}}, {\"__index__\": 1, \"filter\": {\"filter_type\": \"replace\", \"__current_case__\": 11, \"column\": \"c1\", \"regex_pattern\": \"^(\\\\w+[*]\\\\d\\\\d:\\\\d\\\\d\\\\d?).*$\", \"regex_replace\": \"HLA-\\\\1\", \"add\": null}}]}, \"tbl_opts\": {\"table_name\": \"optitype\", \"column_names_from_first_line\": false, \"col_names\": \"\", \"load_named_columns\": false, \"pkey_autoincr\": \"\", \"indexes\": []}}, {\"__index__\": 1, \"table\": {\"__class__\": \"ConnectedValue\"}, \"input_opts\": {\"linefilters\": [{\"__index__\": 0, \"filter\": {\"filter_type\": \"skip\", \"__current_case__\": 0, \"skip_lines\": \"1\"}}, {\"__index__\": 1, \"filter\": {\"filter_type\": \"select_columns\", \"__current_case__\": 9, \"columns\": \"2,4\"}}, {\"__index__\": 2, \"filter\": {\"filter_type\": \"replace\", \"__current_case__\": 11, \"column\": \"1\", \"regex_pattern\": \"^(\\\\w+[*]\\\\d\\\\d:\\\\d\\\\d\\\\d?).*$\", \"regex_replace\": \"HLA-\\\\1\", \"add\": null}}, {\"__index__\": 3, \"filter\": {\"filter_type\": \"replace\", \"__current_case__\": 11, \"column\": \"2\", \"regex_pattern\": \"^(\\\\w+[*]\\\\d\\\\d:\\\\d\\\\d\\\\d?).*$\", \"regex_replace\": \"HLA-\\\\1\", \"add\": null}}]}, \"tbl_opts\": {\"table_name\": \"seq2hla\", \"column_names_from_first_line\": false, \"col_names\": \"\", \"load_named_columns\": false, \"pkey_autoincr\": \"\", \"indexes\": []}}], \"workdb\": \"workdb.sqlite\", \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "3.3.2", "type": "tool", "uuid": "c6860475-0a44-4212-a7ca-2db2c8696b93", "when": null, "workflow_outputs": [{"label": "IEDB_Optitype_alleles", "output_name": "output1", "uuid": "865da3d9-67ed-44ef-b019-f489ad834188"}, {"label": "IEDB-Optitype-seq2HLA-alleles", "output_name": "output", "uuid": "e7f83293-69fa-44c9-9627-904c2b0dde97"}, {"label": "IEDB_seq2HLA_alleles", "output_name": "output2", "uuid": "cc73bee6-39bd-44d3-915c-ef38d15fe3af"}]}}, "tags": ["HLA", "name:neoantigen"], "uuid": "ab6a2e5a-964a-41a1-bb3e-7c84e0b5c17c", "version": 0}