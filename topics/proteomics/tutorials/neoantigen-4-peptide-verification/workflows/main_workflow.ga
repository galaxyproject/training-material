{"a_galaxy_workflow": "true", "annotation": "Validate the NeoAntigen Candidates from FragPipe discovery through the PepQuery Novel search", "comments": [], "creator": [{"class": "Organization", "name": "GalaxyP"}], "format-version": "0.1", "license": "GPL-3.0-or-later", "name": "GigaScience_PepQuery2_demonstration_STS26T_neoantigen_candidates_workflow", "report": {"markdown": "\n# Workflow Execution Report\n\n## Workflow Inputs\n```galaxy\ninvocation_inputs()\n```\n\n## Workflow Outputs\n```galaxy\ninvocation_outputs()\n```\n\n## Workflow\n```galaxy\nworkflow_display()\n```\n"}, "steps": {"0": {"annotation": "Candidate Neoantigens from Fragpipe Workflow", "content_id": null, "errors": null, "id": 0, "input_connections": {}, "inputs": [{"description": "Candidate Neoantigens from Fragpipe Workflow", "name": "Candidate_Neoantigens"}], "label": "Candidate_Neoantigens", "name": "Input dataset", "outputs": [], "position": {"left": 0, "top": 0}, "tool_id": null, "tool_state": "{\"optional\": false, \"tag\": null}", "tool_version": null, "type": "data_input", "uuid": "60cb8414-561d-4004-a2e2-8b90f51bb7e4", "when": null, "workflow_outputs": []}, "1": {"annotation": "Known human and contaminant protein fasta database", "content_id": null, "errors": null, "id": 1, "input_connections": {}, "inputs": [{"description": "Known human and contaminant protein fasta database", "name": "HUMAN_Uniprot_and_CRAP.fasta"}], "label": "HUMAN_Uniprot_and_CRAP.fasta", "name": "Input dataset", "outputs": [], "position": {"left": 1.47265625, "top": 113.1015625}, "tool_id": null, "tool_state": "{\"optional\": false, \"tag\": null}", "tool_version": null, "type": "data_input", "uuid": "dcb42406-0659-4ed1-be73-0d3437f586ad", "when": null, "workflow_outputs": []}, "2": {"annotation": "RAW File", "content_id": null, "errors": null, "id": 2, "input_connections": {}, "inputs": [{"description": "RAW File", "name": "Input Raw-files"}], "label": "Input Raw-files", "name": "Input dataset", "outputs": [], "position": {"left": 12.6328125, "top": 330.1953125}, "tool_id": null, "tool_state": "{\"optional\": false, \"tag\": null}", "tool_version": null, "type": "data_input", "uuid": "290d38c4-dfbe-4009-89d8-701aaed023d2", "when": null, "workflow_outputs": []}, "3": {"annotation": "this is for blastP taxid restrictions- homo sapiens-9606", "content_id": null, "errors": null, "id": 3, "input_connections": {}, "inputs": [{"description": "this is for blastP taxid restrictions- homo sapiens-9606", "name": "Human-TAX-ID"}], "label": "Human-TAX-ID", "name": "Input dataset", "outputs": [], "position": {"left": 663.48828125, "top": 210.65625}, "tool_id": null, "tool_state": "{\"optional\": false, \"tag\": null}", "tool_version": null, "type": "data_input", "uuid": "e579dcc6-3daf-41ba-81e4-9b40f32e70ee", "when": null, "workflow_outputs": []}, "4": {"annotation": "Converting Raw to MGF", "content_id": "toolshed.g2.bx.psu.edu/repos/galaxyp/msconvert/msconvert/3.0.20287.2", "errors": null, "id": 4, "input_connections": {"input": {"id": 2, "output_name": "output"}}, "inputs": [], "label": "Converting_RAW_to_MGF", "name": "msconvert", "outputs": [{"name": "output", "type": "mzml"}], "position": {"left": 47.16005404527099, "top": 546.0879848438761}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/galaxyp/msconvert/msconvert/3.0.20287.2", "tool_shed_repository": {"changeset_revision": "6153e8ada1ee", "name": "msconvert", "owner": "galaxyp", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"data_processing\": {\"peak_picking\": {\"pick_peaks\": true, \"__current_case__\": 1, \"pick_peaks_ms_levels\": \"1-\", \"pick_peaks_algorithm\": \"vendor\"}, \"precursor_refinement\": {\"use_mzrefinement\": false, \"__current_case__\": 0}, \"charge_state_calculation\": {\"charge_state_calculation_method\": \"false\", \"__current_case__\": 0}, \"thresholds\": [], \"filter_mz_windows\": {\"do_mzwindow_filter\": false, \"__current_case__\": 0}, \"etd_filtering\": {\"do_etd_filtering\": false, \"__current_case__\": 0}, \"ms2denoise\": {\"denoise\": false, \"__current_case__\": 1}, \"ms2deisotope\": false, \"demultiplex\": {\"demultiplex_on\": false, \"__current_case__\": 1}}, \"filtering\": {\"activation\": \"false\", \"indices\": [], \"scan_numbers\": [], \"strip_it\": false, \"filter_ms_levels\": {\"do_ms_level_filter\": false, \"__current_case__\": 0}, \"polarity\": \"false\", \"analyzer\": \"false\"}, \"general_options\": {\"combineIonMobilitySpectra\": false, \"scan_summing\": {\"do_scan_summing\": false, \"__current_case__\": 0}, \"simAsSpectra\": false, \"srmAsSpectra\": false, \"acceptZeroLengthSpectra\": false, \"ignoreUnknownInstrumentError\": false, \"multi_run_output\": {\"do_multi_run_output\": false, \"__current_case__\": 0, \"runIndexSet\": \"0\"}}, \"input\": {\"__class__\": \"ConnectedValue\"}, \"license_agreement\": true, \"output_type\": \"mgf\", \"settings\": {\"mz_encoding\": \"64\", \"intensity_encoding\": \"32\", \"binary_compression\": \"zlib\", \"gzip_compression\": false}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "3.0.20287.2", "type": "tool", "uuid": "d654a201-dad0-47ce-b007-9f109e691ff2", "when": null, "workflow_outputs": []}, "5": {"annotation": "PepQuery against HUMAN and contaminants to know filter peptides that doesn't match to anything in the known Uniprot database", "content_id": "toolshed.g2.bx.psu.edu/repos/galaxyp/pepquery2/pepquery2/2.0.2+galaxy2", "errors": null, "id": 5, "input_connections": {"req_inputs|db_type|db_file": {"id": 1, "output_name": "output"}, "req_inputs|input_type|multiple|input": {"id": 0, "output_name": "output"}, "req_inputs|ms_dataset|spectrum_files": {"id": 4, "output_name": "output"}}, "inputs": [], "label": "PepQuery2", "name": "PepQuery2", "outputs": [{"name": "log_txt", "type": "txt"}, {"name": "psm_rank_txt", "type": "tabular"}, {"name": "ptm_detail_txt", "type": "tabular"}], "position": {"left": 346.6796875, "top": 13.5}, "post_job_actions": {"ChangeDatatypeActionpsm_rank_txt": {"action_arguments": {"newtype": "tabular"}, "action_type": "ChangeDatatypeAction", "output_name": "psm_rank_txt"}, "RenameDatasetActionpsm_rank_txt": {"action_arguments": {"newname": "PepQuery_psm_rank_txt"}, "action_type": "RenameDatasetAction", "output_name": "psm_rank_txt"}}, "tool_id": "toolshed.g2.bx.psu.edu/repos/galaxyp/pepquery2/pepquery2/2.0.2+galaxy2", "tool_shed_repository": {"changeset_revision": "c32806a80862", "name": "pepquery2", "owner": "galaxyp", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"digestion\": {\"enzyme\": \"0\", \"max_missed_cleavages\": null}, \"fast\": true, \"modifications\": {\"fixed_mod\": [\"0\"], \"var_mod\": [\"2\"], \"max_mods\": null, \"unmodified\": false, \"aa\": false}, \"ms_params\": {\"tolerance_params\": {\"precursor_tolerance\": null, \"precursor_unit\": \"ppm\", \"tolerance\": null}, \"search\": {\"frag_method\": \"1\", \"scoring_method\": null, \"extra_score_validation\": false, \"min_charge\": \"2\", \"max_charge\": \"3\", \"min_peaks\": null, \"isotope_error\": \"\", \"min_score\": null, \"min_length\": \"8\", \"max_length\": \"9\", \"num_random_peptides\": null}}, \"outputs_selected\": [\"psm_rank.txt\", \"ptm_detail.txt\"], \"parameter_set\": \"\", \"req_inputs\": {\"input_type\": {\"input_type_selector\": \"peptide\", \"__current_case__\": 0, \"multiple\": {\"peptide_input_selector\": \"multiple\", \"__current_case__\": 0, \"input\": {\"__class__\": \"ConnectedValue\"}}}, \"db_type\": {\"db_type_selector\": \"history\", \"__current_case__\": 0, \"db_file\": {\"__class__\": \"ConnectedValue\"}}, \"ms_dataset\": {\"ms_dataset_type\": \"history\", \"__current_case__\": 0, \"spectrum_files\": {\"__class__\": \"ConnectedValue\"}}, \"indexType\": \"2\"}, \"validation\": {\"task_type\": \"novel\", \"__current_case__\": 0}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "2.0.2+galaxy2", "type": "tool", "uuid": "104e3c02-2fa4-4e15-96ad-9159cee7c414", "when": null, "workflow_outputs": [{"label": "PepQuery_psm_rank_txt", "output_name": "psm_rank_txt", "uuid": "22b213c0-f1b4-4a89-9ee5-c32b72bd8715"}]}, "6": {"annotation": "Extract Peptides with the confident column as \"Yes\"", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/query_tabular/query_tabular/3.3.2", "errors": null, "id": 6, "input_connections": {"tables_0|table": {"id": 5, "output_name": "psm_rank_txt"}}, "inputs": [{"description": "runtime parameter for tool Query Tabular", "name": "add_to_database"}], "label": "PepQuery_Validated_Peptides", "name": "Query Tabular", "outputs": [{"name": "output", "type": "tabular"}], "position": {"left": 356.89168981860706, "top": 336.40387311186873}, "post_job_actions": {"RenameDatasetActionoutput": {"action_arguments": {"newname": "PepQuery_Validated_Peptides"}, "action_type": "RenameDatasetAction", "output_name": "output"}}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/query_tabular/query_tabular/3.3.2", "tool_shed_repository": {"changeset_revision": "cf4397560712", "name": "query_tabular", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"add_to_database\": {\"withdb\": {\"__class__\": \"RuntimeValue\"}}, \"addqueries\": {\"queries\": []}, \"modify_database\": {\"sql_stmts\": []}, \"query_result\": {\"header\": \"no\", \"__current_case__\": 1}, \"save_db\": false, \"sqlquery\": \"SELECT c1,c4\\nFROM t1\\nWHERE (c20 = 'Yes')\\n\", \"tables\": [{\"__index__\": 0, \"table\": {\"__class__\": \"ConnectedValue\"}, \"input_opts\": {\"linefilters\": []}, \"tbl_opts\": {\"table_name\": \"\", \"column_names_from_first_line\": false, \"col_names\": \"\", \"load_named_columns\": false, \"pkey_autoincr\": \"\", \"indexes\": []}}], \"workdb\": \"workdb.sqlite\", \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "3.3.2", "type": "tool", "uuid": "de4476bf-a724-40d5-b0a0-4fd1f01e1ea5", "when": null, "workflow_outputs": [{"label": "PepQuery_Validated_Peptides", "output_name": "output", "uuid": "3bbac43a-16eb-48d0-9144-8b86ee735cb0"}]}, "7": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/tabular_to_fasta/tab2fasta/1.1.1", "errors": null, "id": 7, "input_connections": {"input": {"id": 6, "output_name": "output"}}, "inputs": [], "label": "Getting-blast-ready", "name": "Tabular-to-FASTA", "outputs": [{"name": "output", "type": "fasta"}], "position": {"left": 659.9046752732726, "top": 7.0390625}, "post_job_actions": {"RenameDatasetActionoutput": {"action_arguments": {"newname": "BLAST-P-READY-Peptides"}, "action_type": "RenameDatasetAction", "output_name": "output"}}, "tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/tabular_to_fasta/tab2fasta/1.1.1", "tool_shed_repository": {"changeset_revision": "0a7799698fe5", "name": "tabular_to_fasta", "owner": "devteam", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"input\": {\"__class__\": \"ConnectedValue\"}, \"seq_col\": \"1\", \"title_col\": [\"2\"], \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "1.1.1", "type": "tool", "uuid": "152cce01-4d55-4f63-9cb5-f793289bd2fd", "when": null, "workflow_outputs": [{"label": "BLAST-P-READY-Peptides", "output_name": "output", "uuid": "62cd5a4c-20a3-4e14-9aac-12702b085b3b"}]}, "8": {"annotation": "BLAST-Protein against swissprot, ref seq and NCBI NR and filtering for HUMAN only results", "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_blastp_wrapper/2.14.1+galaxy2", "errors": null, "id": 8, "input_connections": {"adv_opts|adv_optional_id_files_opts|taxidlist": {"id": 3, "output_name": "output"}, "query": {"id": 7, "output_name": "output"}}, "inputs": [], "label": "BLAST-Protein", "name": "NCBI BLAST+ blastp", "outputs": [{"name": "output1", "type": "tabular"}], "position": {"left": 921.41796875, "top": 49.33984375}, "post_job_actions": {"RenameDatasetActionoutput1": {"action_arguments": {"newname": "BlastP-output"}, "action_type": "RenameDatasetAction", "output_name": "output1"}}, "tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_blastp_wrapper/2.14.1+galaxy2", "tool_shed_repository": {"changeset_revision": "cbf3f518b668", "name": "ncbi_blast_plus", "owner": "devteam", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"adv_opts\": {\"adv_opts_selector\": \"advanced\", \"__current_case__\": 1, \"filter_query\": false, \"matrix_gapcosts\": {\"matrix\": \"PAM30\", \"__current_case__\": 8, \"gap_costs\": \"-gapopen 9 -gapextend 1\"}, \"max_hits\": \"0\", \"max_hsps\": \"1\", \"word_size\": \"2\", \"window_size\": \"15\", \"threshold\": \"16\", \"comp_based_stats\": \"0\", \"parse_deflines\": false, \"adv_optional_id_files_opts\": {\"adv_optional_id_files_opts_selector\": \"taxidlist\", \"__current_case__\": 4, \"taxidlist\": {\"__class__\": \"ConnectedValue\"}}, \"qcov_hsp_perc\": \"0.0\", \"use_sw_tback\": false}, \"blast_type\": \"blastp-short\", \"db_opts\": {\"db_opts_selector\": \"db\", \"__current_case__\": 0, \"database\": [\"nr_2023-09-03\"], \"histdb\": \"\", \"subject\": \"\"}, \"evalue_cutoff\": \"200000.0\", \"output\": {\"out_format\": \"ext\", \"__current_case__\": 1}, \"query\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "2.14.1+galaxy2", "type": "tool", "uuid": "c5323322-0b52-4ec5-8053-e9fece6a7de3", "when": null, "workflow_outputs": [{"label": "BlastP-output", "output_name": "output1", "uuid": "69ed808c-2254-4808-bbf3-140d87279ebf"}]}, "9": {"annotation": "Extracting Novel peptides after BlastP", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/query_tabular/query_tabular/3.3.2", "errors": null, "id": 9, "input_connections": {"tables_0|table": {"id": 8, "output_name": "output1"}, "tables_1|table": {"id": 6, "output_name": "output"}}, "inputs": [{"description": "runtime parameter for tool Query Tabular", "name": "add_to_database"}], "label": "Novel_Peptides_from_PepQuery", "name": "Query Tabular", "outputs": [{"name": "output", "type": "tabular"}], "position": {"left": 921.34375, "top": 308.70703125}, "post_job_actions": {"RenameDatasetActionoutput": {"action_arguments": {"newname": "Novel_Peptides_from_PepQuery"}, "action_type": "RenameDatasetAction", "output_name": "output"}}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/query_tabular/query_tabular/3.3.2", "tool_shed_repository": {"changeset_revision": "cf4397560712", "name": "query_tabular", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"add_to_database\": {\"withdb\": {\"__class__\": \"RuntimeValue\"}}, \"addqueries\": {\"queries\": []}, \"modify_database\": {\"sql_stmts\": []}, \"query_result\": {\"header\": \"no\", \"__current_case__\": 1}, \"save_db\": false, \"sqlquery\": \"SELECT DISTINCT pep.*\\nFROM pep \\nJOIN blast ON pep.pep = blast.qseq\\nWHERE pep.pep NOT IN (\\n    SELECT qseq \\n    FROM blast \\n    WHERE pident = 100\\n)\\nAND (blast.pident < 100 \\n     OR blast.gapopen >= 1 \\n     OR blast.length < blast.qlen)\\nORDER BY pep.pep\", \"tables\": [{\"__index__\": 0, \"table\": {\"__class__\": \"ConnectedValue\"}, \"input_opts\": {\"linefilters\": []}, \"tbl_opts\": {\"table_name\": \"blast\", \"column_names_from_first_line\": false, \"col_names\": \"qseqid,sseqid,pident,length,mismatch,gapopen,qstart,qend,sstart,send,evalue,bitscore,sallseqid,score,nident,positive,gaps,ppos,qframe,sframe,qseq,sseq,qlen,slen,salltitles\", \"load_named_columns\": false, \"pkey_autoincr\": \"\", \"indexes\": [{\"__index__\": 0, \"unique\": false, \"index_columns\": \"qseqid\"}]}}, {\"__index__\": 1, \"table\": {\"__class__\": \"ConnectedValue\"}, \"input_opts\": {\"linefilters\": []}, \"tbl_opts\": {\"table_name\": \"pep\", \"column_names_from_first_line\": false, \"col_names\": \"pep,seq\", \"load_named_columns\": false, \"pkey_autoincr\": \"\", \"indexes\": [{\"__index__\": 0, \"unique\": false, \"index_columns\": \"pep\"}]}}], \"workdb\": \"workdb.sqlite\", \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "3.3.2", "type": "tool", "uuid": "07fa3e8e-15c4-463d-a3f6-e229c495e1d8", "when": null, "workflow_outputs": [{"label": "Novel_Peptides_from_PepQuery", "output_name": "output", "uuid": "543e7ef1-069a-44b6-97d2-53884fef62c8"}]}}, "tags": ["name:neoantigen"], "uuid": "cc4417c9-ef45-4932-bad4-8d1f193e3d85", "version": 0}