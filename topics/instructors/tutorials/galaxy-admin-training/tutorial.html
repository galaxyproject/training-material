<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Galaxy Admin Training</title>
        <link rel="stylesheet" href="/training-material/assets/css/bootstrap.min.css?v=3">
        <link rel="stylesheet" href="/training-material/assets/css/bootstrap-toc.min.css">
        <link rel="stylesheet" href="/training-material/assets/css/main.css?v=2">
        <script src="https://kit.fontawesome.com/67b3f98409.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="/training-material/assets/css/academicons.css">
        <link rel="stylesheet" href="/training-material/assets/css/syntax_highlighting.css">
        <link rel="shortcut icon" href="/training-material/favicon.ico" type="image/x-icon" />

        
        
        
        
        
        <meta name="description" content="Galaxy is a great solution to train the bioinformatics co..." />
        <meta property="og:title" content="Galaxy Training: Galaxy Admin Training" />
        <meta property="og:description" content="Galaxy is a great solution to train the bioinformatics co..." />
        <meta property="og:image" content="/training-material/assets/images/GTNLogo1000.png" />
    </head>
    <body data-spy="scroll" data-target="#toc">
        











<!-- Gitter -->


<script>
  ((window.gitter = {}).chat = {}).options = {
  room: 'Galaxy-Training-Network/Lobby'
  };
</script>
<script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>

<header>
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="/training-material/">
                <img src="/training-material/assets/images/GTN-60px.png" height="30" alt="Galaxy Training Network logo">
                Galaxy Training!
            </a>

            <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#top-navbar" aria-controls="top-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="top-navbar">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="/training-material/topics/instructors" title="Go back to list of tutorials">
                            <i class="far fa-folder" aria-hidden="true"></i><span class="visually-hidden">topic</span> Teaching and Hosting Galaxy training
                        </a>
                    </li>

                    <li class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-expanded="false" title="Language Selector">
                            <i class="fas fa-language" aria-hidden="true"></i><span class="visually-hidden">language</span> Language
                        </a>
                        <div class="dropdown-menu">
                            
                            <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=fr&u=https%3A%2F%2Ftraining.galaxyproject.org%2Ftopics%2Finstructors%2Ftutorials%2Fgalaxy-admin-training%2Ftutorial.html&edit-text=&act=url" title="">
                                FranÃ§ais
                            </a>
                            
                            <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=ja&u=https%3A%2F%2Ftraining.galaxyproject.org%2Ftopics%2Finstructors%2Ftutorials%2Fgalaxy-admin-training%2Ftutorial.html&edit-text=&act=url" title="">
                                æ—¥æœ¬èªž
                            </a>
                            
                            <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=es&u=https%3A%2F%2Ftraining.galaxyproject.org%2Ftopics%2Finstructors%2Ftutorials%2Fgalaxy-admin-training%2Ftutorial.html&edit-text=&act=url" title="">
                                EspaÃ±ol
                            </a>
                            
                            <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=pt&u=https%3A%2F%2Ftraining.galaxyproject.org%2Ftopics%2Finstructors%2Ftutorials%2Fgalaxy-admin-training%2Ftutorial.html&edit-text=&act=url" title="">
                                PortuguÃªs
                            </a>
                            
                            <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=ar&u=https%3A%2F%2Ftraining.galaxyproject.org%2Ftopics%2Finstructors%2Ftutorials%2Fgalaxy-admin-training%2Ftutorial.html&edit-text=&act=url" title="">
                                Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
                            </a>
                            
                            <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=&u=https%3A%2F%2Ftraining.galaxyproject.org%2Ftopics%2Finstructors%2Ftutorials%2Fgalaxy-admin-training%2Ftutorial.html&edit-text=&act=url" title="">
                                And more!
                            </a>
                        </div>
                    </li>

                    <li class="nav-item dropdown">
    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-expanded="false" title="Help">
        <i class="far fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">help</span> Help
    </a>
    <div class="dropdown-menu dropdown-menu-right">
        <form method="get" action="https://tess.elixir-europe.org/materials">
            <input type="text" id="search" name="q" value="" style="margin-left: 0.5em;/*! border-radius: 0px; */">
            <input type="hidden" value="Galaxy Training" name="content_provider">
            <input type="submit" value="Search on TeSS" style="width: 92%;border-radius: 0px;margin: 0.5em;background: #f47d20;border: 0px;padding: 0.25em;" class="">
        </form>

        <div class="dropdown-divider"></div>
        <a class="dropdown-item" href="/training-material/faq" title="Check our FAQ">
            FAQ
        </a>
        <a class="dropdown-item" href="https://help.galaxyproject.org/" title="Discuss on Galaxy Help">
            Discuss on Galaxy Help
        </a>

        <div class="dropdown-item">
            <div>
                Theme
            </div>

            <div id="theme-selector" data-toggle="buttons">
                <label data-value="default" class="btn btn-secondary">
                    <input type="radio" name="options" id="default" autocomplete="off"> Default
                </label>
                <label data-value="night" class="btn btn-secondary">
                    <input type="radio" name="options" id="night" autocomplete="off"> Night
                </label>
                <label data-value="midnight" class="btn btn-secondary">
                    <input type="radio" name="options" id="midnight" autocomplete="off"> Midnight
                </label>
                <label data-value="rainbow" class="btn btn-secondary">
                    <input type="radio" name="options" id="rainbow" autocomplete="off"> Rainbow
                </label>
                <label data-value="halloween" class="btn btn-secondary">
                    <input type="radio" name="options" id="halloween" autocomplete="off"> ðŸŽƒ
                </label>
            </div>

        </div>
    </div>
</li>


                    <li class="nav-item">
                        <a class="nav-link" href="https://github.com/galaxyproject/training-material/edit/master/topics/instructors/tutorials/galaxy-admin-training/tutorial.md">
                            <i class="fab fa-github" aria-hidden="true"></i><span class="visually-hidden">github</span> Edit
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>

<div class="container main-content">
    <script type="application/ld+json">
        


{
  "@context": "http://schema.org",
  "@type": "Course",
  "accessMode": [
    "textual",
    "visual"
  ],
  "accessModeSufficient": [
    "textual",
    "visual"
  ],
  "accessibilityControl": [
    "fullKeyboardControl",
    "fullMouseControl"
  ],
  "accessibilityFeature": [
    "alternativeText",
    "tableOfContents"
  ],
  "accessibilitySummary": "Short descriptions are present but long descriptions will be needed for non-visual users",
  "audience": {
    "@type": "EducationalAudience",
    "educationalRole": "students"
  },
  "citation": {
    "@type": "CreativeWork",
    "name": "Community-Driven Data Analysis Training for Biology",
    "url": "https://doi.org/10.1016/j.cels.2018.05.012"
  },
  "copyrightHolder": {
    "@type": "Organization",
    "email": "galaxytrainingnetwork@gmail.com",
    "name": "Galaxy Training Network",
    "url": "https://galaxyproject.org/teach/gtn/"
  },
  "discussionUrl": "https://gitter.im/Galaxy-Training-Network/Lobby",
  "headline": "Galaxy Admin Training",
  "inLanguage": {
    "@type": "Language",
    "name": "English",
    "alternateName": "en"
  },
  "interactivityType": "mixed",
  "isAccessibleForFree": true,
  "license": "https://github.com/galaxyproject/training-material/blob/master/LICENSE.md",
  "producer": {
    "@type": "Organization",
    "email": "galaxytrainingnetwork@gmail.com",
    "name": "Galaxy Training Network",
    "url": "https://galaxyproject.org/teach/gtn/"
  },
  "provider": {
    "@type": "Organization",
    "email": "galaxytrainingnetwork@gmail.com",
    "name": "Galaxy Training Network",
    "url": "https://galaxyproject.org/teach/gtn/"
  },
  "sourceOrganization": {
    "@type": "Organization",
    "email": "galaxytrainingnetwork@gmail.com",
    "name": "Galaxy Training Network",
    "url": "https://galaxyproject.org/teach/gtn/"
  },
  "isPartOf": {
    "@type": "CreativeWork",
    "name": "Teaching and Hosting Galaxy training",
    "description": "Galaxy is a great solution to train the bioinformatics concepts:\nnumerous bioinformatics tools are available (almost 5,000 in the ToolShed), it\ncan be used by people without any computer science skills, it trains to use\ntechnology, outlining available resources and efforts that have made them\naccessible to researchers, it is scalable.<br>\n\nThe Galaxy community via the Galaxy Training Network supports instructors and\nworkshop organizers using with a series of recommandations (tutorials below) and\nregular discussion meetings.<br>\n\nYou can additionally <a href=\"philosophies/\">read about our training philosophies.</a>\n",
    "url": "https://training.galaxyproject.org//training-material/topics/instructors/"
  },
  "courseCode": "instructors / galaxy-admin-training / hands-on",
  "learningResourceType": "hands-on tutorial",
  "name": "Hands-on for 'Galaxy Admin Training' tutorial",
  "url": "https://training.galaxyproject.org//training-material/topics/instructors/tutorials/galaxy-admin-training/tutorial.html",
  "timeRequired": "PT60M",
  "description": "The questions this  addresses are:\n - How do I organise a Galaxy Admin Training (GAT)\n - What do I need to set up?\n - What should I know during the training?\n\n\\nThe objectives are:\n - Interact with the UseGalaxy.eu admins to arrange for infrastructure\n - Run a great training!\n\n",
  "coursePrerequisites": [
    {
      "@type": "Course",
      "url": "https://training.galaxyproject.org//training-material/topics/admin/tutorials/ansible/slides.html",
      "name": "Ansible",
      "description": "Slides for 'Ansible' tutorial",
      "learningResourceType": "slides",
      "interactivityType": "expositive",
      "provider": {
        "@type": "Organization",
        "email": "galaxytrainingnetwork@gmail.com",
        "name": "Galaxy Training Network",
        "url": "https://galaxyproject.org/teach/gtn/"
      }
    },
    {
      "@type": "Course",
      "url": "https://training.galaxyproject.org//training-material/topics/admin/tutorials/ansible/tutorial.html",
      "name": "Ansible",
      "description": "Hands-on for 'Ansible' tutorial",
      "learningResourceType": "hands-on tutorial",
      "interactivityType": "expositive",
      "provider": {
        "@type": "Organization",
        "email": "galaxytrainingnetwork@gmail.com",
        "name": "Galaxy Training Network",
        "url": "https://galaxyproject.org/teach/gtn/"
      }
    },
    {
      "@type": "Course",
      "url": "https://training.galaxyproject.org//training-material/topics/admin/tutorials/terraform/slides.html",
      "name": "Terraform",
      "description": "Slides for 'Terraform' tutorial",
      "learningResourceType": "slides",
      "interactivityType": "expositive",
      "provider": {
        "@type": "Organization",
        "email": "galaxytrainingnetwork@gmail.com",
        "name": "Galaxy Training Network",
        "url": "https://galaxyproject.org/teach/gtn/"
      }
    },
    {
      "@type": "Course",
      "url": "https://training.galaxyproject.org//training-material/topics/admin/tutorials/terraform/tutorial.html",
      "name": "Deploying a compute cluster in OpenStack via Terraform",
      "description": "Hands-on for 'Deploying a compute cluster in OpenStack via Terraform' tutorial",
      "learningResourceType": "hands-on tutorial",
      "interactivityType": "expositive",
      "provider": {
        "@type": "Organization",
        "email": "galaxytrainingnetwork@gmail.com",
        "name": "Galaxy Training Network",
        "url": "https://galaxyproject.org/teach/gtn/"
      }
    }
  ],
  "hasPart": [

  ],
  "author": [
    {
      "@type": "Person",
      "name": "Helena Rasche"
    }
  ],
  "contributor": [
    {
      "@type": "Person",
      "name": "Helena Rasche"
    }
  ],
  "about": [
    {
      "@type": "CreativeWork",
      "name": "Teaching and Hosting Galaxy training",
      "description": "Galaxy is a great solution to train the bioinformatics concepts:\nnumerous bioinformatics tools are available (almost 5,000 in the ToolShed), it\ncan be used by people without any computer science skills, it trains to use\ntechnology, outlining available resources and efforts that have made them\naccessible to researchers, it is scalable.<br>\n\nThe Galaxy community via the Galaxy Training Network supports instructors and\nworkshop organizers using with a series of recommandations (tutorials below) and\nregular discussion meetings.<br>\n\nYou can additionally <a href=\"philosophies/\">read about our training philosophies.</a>\n",
      "url": "https://training.galaxyproject.org//training-material/topics/instructors/"
    }
  ]
}
    </script>

    <section class="tutorial">
        <h1 data-toc-skip>Galaxy Admin Training</h1>
        

        <div class="contributors-line">By: 

<a href="/training-material/hall-of-fame/hexylena/" class="contributor-badge"><img src="https://avatars.githubusercontent.com/hexylena" alt="Helena Rasche">Helena Rasche</a>

</div>

        <blockquote class="overview">
            <h3>Overview</h3>
            <strong><i class="far fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">question</span> Questions</strong>
            <ul>
            
            <li><p>How do I organise a Galaxy Admin Training (GAT)</p>
</li>
            
            <li><p>What do I need to set up?</p>
</li>
            
            <li><p>What should I know during the training?</p>
</li>
            
            </ul>

            <strong><i class="fas fa-bullseye" aria-hidden="true"></i><span class="visually-hidden">objectives</span> Objectives</strong>
            <ul>
            
            <li><p>Interact with the UseGalaxy.eu admins to arrange for infrastructure</p>
</li>
            
            <li><p>Run a great training!</p>
</li>
            
            </ul>

            
            <strong><i class="fas fa-check-circle" aria-hidden="true"></i><span class="visually-hidden">requirements</span> Requirements</strong>
            <ul>
            
            
    <li>
    
        
        
        <a href="/training-material/topics/admin">Galaxy Server administration</a>
        
            <ul>
                
                    
                        
                    
                        
                    
                        
                            
                            <li> Ansible:
                            
                                <a href="/training-material/topics/admin/tutorials/ansible/slides.html"><i class="fab fa-slideshare" aria-hidden="true"></i><span class="visually-hidden">slides</span> slides</a>
                                
                            
                            
                                
                                    - <a href="/training-material/topics/admin/tutorials/ansible/tutorial.html"><i class="fas fa-laptop" aria-hidden="true"></i><span class="visually-hidden">tutorial</span> hands-on</a>
                                
                            
                            </li>
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            
                            <li> Deploying a compute cluster in OpenStack via Terraform:
                            
                                <a href="/training-material/topics/admin/tutorials/terraform/slides.html"><i class="fab fa-slideshare" aria-hidden="true"></i><span class="visually-hidden">slides</span> slides</a>
                                
                            
                            
                                
                                    - <a href="/training-material/topics/admin/tutorials/terraform/tutorial.html"><i class="fas fa-laptop" aria-hidden="true"></i><span class="visually-hidden">tutorial</span> hands-on</a>
                                
                            
                            </li>
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                
            </ul>
        
    
    </li>

            </ul>
            

            
            <p><strong><i class="fas fa-hourglass-half" aria-hidden="true"></i><span class="visually-hidden">time</span> Time estimation:</strong> 60 minutes</p>
            

            

            
            

            

            <p><strong> <i class="far fa-calendar" aria-hidden="true"></i><span class="visually-hidden">last_modification</span> Last modification:</strong> Jan 6, 2021 </p>
        </blockquote>

        <div class="container">
            <div class="row">
                <!-- sidebar, which will move to the top on a small screen -->
                <div class="col-sm-2">
                    <nav id="toc" data-toggle="toc" class="sticky-top"></nav>
                </div>
                <div class="col-sm-10">
                    <h1 class="no_toc" id="introduction">Introduction</h1>

<p><img src="../../images/gat.png" alt="GAT logo is the GTN logo over a space background and text reading galaxy admin traiing." /></p>

<p>Setting up and running a <span class="notranslate">Galaxy</span> Admin Training is not a very complicated process thanks to a significant amount of work that has been put into making it easy and quick.</p>

<p>This tutorial has multiple audiences who are all adressed within this one tutorial. We encourage everyone involved in hosting a GAT event to read this, so you are aware of all of the moving parts which are required for such an event.</p>

<blockquote class="agenda">
  <h3 id="agenda">Agenda</h3>

  <p>In this tutorial, we will see:</p>

<ol id="markdown-toc">
  <li><a href="#planning-your-training" id="markdown-toc-planning-your-training">Planning Your Training</a>    <ol>
      <li><a href="#requesting-infrastructure" id="markdown-toc-requesting-infrastructure">Requesting Infrastructure</a></li>
    </ol>
  </li>
  <li><a href="#provisioning-the-infrastructure" id="markdown-toc-provisioning-the-infrastructure">Provisioning the Infrastructure</a>    <ol>
      <li><a href="#eu-admins-setting-up-vms" id="markdown-toc-eu-admins-setting-up-vms">[EU admins] Setting up VMs</a></li>
      <li><a href="#non-eu-admins-setting-up-the-vms" id="markdown-toc-non-eu-admins-setting-up-the-vms">[Non-EU admins] Setting up the VMs</a></li>
      <li><a href="#everyone-bootstrapping-the-vms" id="markdown-toc-everyone-bootstrapping-the-vms">[Everyone] Bootstrapping the VMs</a></li>
    </ol>
  </li>
  <li><a href="#testing" id="markdown-toc-testing">Testing</a></li>
  <li><a href="#starting-your-training" id="markdown-toc-starting-your-training">Starting Your Training</a></li>
  <li><a href="#during-your-training" id="markdown-toc-during-your-training">During Your Training</a></li>
  <li><a href="#after-your-training" id="markdown-toc-after-your-training">After Your Training</a></li>
</ol>

</blockquote>

<h1 id="planning-your-training">Planning Your Training</h1>

<p>First consider the requirements for your training:</p>

<ul>
  <li>How many days will the training be?</li>
  <li>What topics do you want to cover?</li>
  <li>How many helpers will you need?</li>
  <li>Will the training be online or in person? Teaching online is slower, so you may not be able to cover as many topic as in person; you may also need more helpers.</li>
  <li>Do you have your own infrastructure, or do you need to request infrastructure?</li>
</ul>

<p>We recommend <a href="https://github.com/galaxyproject/admin-training/tree/2020-barcelona">checking out an example schedule from the GAT repository</a> and modifying it based on your needs.</p>

<h2 id="requesting-infrastructure">Requesting Infrastructure</h2>

<p>If you do not have a cloud available that can, at minimum:</p>

<ul>
  <li>setup VMs which are accessible from where your students are</li>
  <li>expose ports 20, 80, 443 (optional), 8080 (optional but nice)</li>
</ul>

<p>Then consider <a href="mailto:galaxy@informatik.uni-freiburg.de?subject=Hosting%20a%20GAT">contacting Use<span class="notranslate">Galaxy</span>.eu</a> and let us know youâ€™d like to host a GAT event. Tell us the number of students and dates of the event.</p>

<h1 id="provisioning-the-infrastructure">Provisioning the Infrastructure</h1>

<p>Skip to the section on setting up below that is appropriate for you</p>

<h2 id="eu-admins-setting-up-vms">[EU admins] Setting up VMs</h2>

<blockquote class="notranslate hands_on">
  <h3 id="hands_on-eu-setting-up-vms"><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">hands_on</span> EU: Setting up VMs</h3>

  <ol>
    <li>
      <p>Open a PR editing the <a href="https://github.com/usegalaxy-eu/infrastructure/blob/master/gat.tf#L1">count variable</a> and increasing it to the desired number of VMs.</p>
    </li>
    <li>
      <p>Merge</p>
    </li>
    <li>
      <p>Once deployed, clone/pull the repository locally and run <code class="language-plaintext highlighter-rouge">./bin/process-training-output.sh</code></p>

      <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ./bin/process-training-output.sh
ubuntu  gat-0.training.<span class="notranslate">galaxy</span>project.eu ...
ubuntu  gat-1.training.<span class="notranslate">galaxy</span>project.eu ...
</code></pre></div>      </div>
    </li>
    <li>
      <p>Place this in the <a href="http://gxy.io/gatmachines">GAT Machines</a> sp<span class="notranslate">reads</span>heet in the correct tab.</p>
    </li>
  </ol>

</blockquote>

<h2 id="non-eu-admins-setting-up-the-vms">[Non-EU admins] Setting up the VMs</h2>

<blockquote class="notranslate hands_on">
  <h3 id="hands_on-non-eu-setting-up-vms"><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">hands_on</span> Non-EU: Setting up VMs</h3>

  <ol>
    <li>
      <p>If you have your own cloud, setup VMs per student. We strongly recommend:</p>

      <ul>
        <li>Ubuntu 18.04+</li>
        <li>8Gb RAM</li>
        <li>2 VCPUs</li>
      </ul>

      <p>If youâ€™re using terraform, you can take inspiration from <a href="https://github.com/usegalaxy-eu/infrastructure/blob/master/gat.tf">Use<span class="notranslate">Galaxy</span>.euâ€™s terraform configuration</a></p>
    </li>
    <li>
      <p>Place the list of use<span class="notranslate">rna</span>mes and IPs and passwords in the <a href="http://gxy.io/gatmachines">GAT Machines</a> sp<span class="notranslate">reads</span>heet in the correct tab.</p>
    </li>
  </ol>

</blockquote>

<h2 id="everyone-bootstrapping-the-vms">[Everyone] Bootstrapping the VMs</h2>

<p>Once your VMs are running, great! Now youâ€™ll need to bootstrap the instances and prepare them for student use.</p>

<p>The GAT team maintains some infrastructure to handle the bootstrapping in <a href="https://github.com/galaxyproject/admin-training/tree/2020-bcc/bootstrap-instances">the GAT repository</a></p>

<p>We use a more complicated hosts file in the project, as we have multiple pools of VMs across global regions. This is seen in the <code class="language-plaintext highlighter-rouge">workshop_eu</code> and <code class="language-plaintext highlighter-rouge">workshop_oz</code> groups, and the corresponding commands in the Makefile. However, this distinction of regions is not necessary. The most simple hosts file looks like:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Your Machines
[workshop_instances]
192.0.2.1
192.0.2.2
192.0.2.3
...

# Some variables for those machines
[workshop_instances:vars]
ansible_host_key_checking = false
ansible_user = ubuntu
ansible_become = true
ansible_ssh_private_key_file = ~/admintraining.key
set_password = true      # Generate a random password
</code></pre></div></div>

<blockquote class="notranslate hands_on">
  <h3 id="hands_on-everyone-setting-up-vms"><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">hands_on</span> Everyone: Setting up VMs</h3>

  <ol>
    <li>
      <p><code class="language-plaintext highlighter-rouge">git clone https://github.com/<span class="notranslate">galaxy</span>project/admin-training/</code> and change into that repo</p>
    </li>
    <li>
      <p><code class="language-plaintext highlighter-rouge">cd bootstrap-instances</code></p>
    </li>
    <li>
      <p>In the <code class="language-plaintext highlighter-rouge">hosts</code> file, edit the <code class="language-plaintext highlighter-rouge">[workshop_eu]</code> section to list all of your IPs or DNS entries.</p>

      <p>You can specify <code class="language-plaintext highlighter-rouge">ansible_user=something</code> if it uses a different use<span class="notranslate">rna</span>me, and <code class="language-plaintext highlighter-rouge">ansible_password=password</code> for each machine. E.g.</p>

      <p>A range of DNS entries (<code class="language-plaintext highlighter-rouge">gat-0</code> to <code class="language-plaintext highlighter-rouge">gat-39</code>)</p>

      <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[workshop_]
gat-[0:39].training.<span class="notranslate">galaxy</span>project.eu
</code></pre></div>      </div>

      <p>Some IPs</p>

      <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[workshop_eu]
192.0.2.1
192.0.2.2
192.0.2.3
192.0.2.4
</code></pre></div>      </div>

      <p>Some IPs with additional information</p>

      <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[workshop_eu]
192.0.2.1 ansible_password=2121
192.0.2.2 ansible_password=1212
192.0.2.3 ansible_password=4321
192.0.2.4 ansible_password=1235

[workshop_instances:vars]
ansible_user = myuser
</code></pre></div>      </div>

      <p>Remove the <code class="language-plaintext highlighter-rouge">workshop_oz</code> from the top of the file under <code class="language-plaintext highlighter-rouge">[workshop_instances:children]</code></p>
    </li>
    <li>
      <p>Setup a python virtualenv and activate it.</p>
    </li>
    <li>
      <p>Install the requirements (listed in <code class="language-plaintext highlighter-rouge">requirements.txt</code>)</p>
    </li>
    <li>
      <p>Run <code class="language-plaintext highlighter-rouge">make all</code></p>
    </li>
  </ol>

</blockquote>

<p>The last command runs the <code class="language-plaintext highlighter-rouge">playbook.yml</code>, which in turn does a large number of things:</p>

<ul>
  <li>Bootstraps python on the machine if it isnâ€™t available already (Ubuntu stopped including it for some reason.)</li>
  <li>(Generates if needed) and copies an SSH key to all of the machines to make login easier (this is stored in <code class="language-plaintext highlighter-rouge">id_rsa</code> and <code class="language-plaintext highlighter-rouge">id_rsa.pub</code> in the same directory as the makefile.)</li>
  <li>This key is set as the ubuntu userâ€™s key, and added to their authorized_keys, to permit them to run ansible easily on that machine (if they donâ€™t configure the local connection correctly.)
    <ul>
      <li>(When pulsar is in use) the pulsar machines are provisioned identically to the ones where <span class="notranslate">Galaxy</span> is setup, so the students can login passwordlessly to their pulsar machine.</li>
    </ul>
  </li>
  <li>Updates packages (slow)</li>
  <li>Installs basic dependencies (emacs, vim, nano, git, etc.)</li>
  <li>Adds the <code class="language-plaintext highlighter-rouge">gat-cli</code> script to <code class="language-plaintext highlighter-rouge">/usr/bin/gat</code></li>
  <li>Optionally sets a password to the machine
    <ul>
      <li>If you set <code class="language-plaintext highlighter-rouge">set_password=true</code> in the hosts file, you can set a password on machines.</li>
      <li>This is useful when your machines only have an SSH key on them, and no password set for students.</li>
    </ul>
  </li>
  <li>Reboots the machines</li>
</ul>

<h1 id="testing">Testing</h1>

<p>Once your VMs are ready, you should test ALL of the lessons you intend to teach. Most of the training should be fine, but sometimes changes in e.g. <span class="notranslate">Galaxy</span> versions or the availability of newer versions of some ansible modules will indicate you should test the training as you plan to teach it, and update the training materials where relevant.</p>

<h1 id="starting-your-training">Starting Your Training</h1>

<p>We recommend providing a website <a href="https://github.com/galaxyproject/admin-training/tree/2020-barcelona">similar to our GitHub repository</a> (or using our repository! Ask us for a branch.) with at minimum the following links:</p>

<ul>
  <li><strong>Q&amp;A</strong> pointing to a Google document where students can ask questions.
    <ul>
      <li>In our experience this is an excellent format for discussion: it allows students to ask as many questions as they have, and responses can be given in real-time right below each question.</li>
      <li>Additionally images and complex formatting is easy</li>
      <li>Lastly, itâ€™s <em>anonymous</em> which many students prefer.</li>
    </ul>
  </li>
  <li><strong>Chat</strong> pointing to <code class="language-plaintext highlighter-rouge">https://gxy.io/gatchat</code> (or your preferred channel)</li>
  <li><strong>VM List</strong> pointing to <code class="language-plaintext highlighter-rouge">https://gxy.io/gatmachines</code> (or your own sp<span class="notranslate">reads</span>heet)</li>
  <li>The slides and tutorials for your training.</li>
</ul>

<h1 id="during-your-training">During Your Training</h1>

<p>During planning for BCC2020 we found that monitoring student progress would be extremely difficult, it was not a situation we had encountered before as this was the first remote GAT during the pandemic. So we developed a small utility, the <code class="language-plaintext highlighter-rouge">gat-cli</code>, which assists in monitoring studentsâ€™ progress.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ gat
<span class="notranslate">Galaxy</span> Admin Training (gat) tool:

  gat status-ansible     [Admin] Check status of ansible training
  gat status-<span class="notranslate">galaxy</span>      [Admin] Check status of ansible-<span class="notranslate">galaxy</span> training
  gat status-cvmfs       [Admin] Check status of cvmfs training
  gat status-pulsar      [Admin] Check status of pulsar training
</code></pre></div></div>

<p>Each of these commands run a couple checks on their local machine. For example the <code class="language-plaintext highlighter-rouge">status-<span class="notranslate">galaxy</span></code> command checks:</p>

<ul>
  <li>Check that the <code class="language-plaintext highlighter-rouge">postgresql</code> service is running</li>
  <li>Does a db named <code class="language-plaintext highlighter-rouge"><span class="notranslate">galaxy</span></code> exist</li>
  <li>Does http://localhost:8080/api/version respond with <em>some</em> content</li>
  <li>Check that the <code class="language-plaintext highlighter-rouge"><span class="notranslate">galaxy</span></code> service is running</li>
  <li>Check that the <code class="language-plaintext highlighter-rouge">nginx</code> service is running</li>
  <li>Does https://localhost:443/api/version respond with <em>some</em> content</li>
</ul>

<p>However, the <code class="language-plaintext highlighter-rouge">gat</code> command is only available on the VMs, so weâ€™ve written an ansible task (wrapped in the Makefile) which SSHs into every machine, and runs the gat command for you:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ make check-<span class="notranslate">galaxy</span>-eu
gat-19    postgres âœ˜ âœ˜ <span class="notranslate">galaxy</span>(http) âœ˜ SysD-gxy âœ˜ SysD-nginx âœ˜ <span class="notranslate">galaxy</span>(ssl) âœ˜
gat-22    postgres âœ” âœ˜ <span class="notranslate">galaxy</span>(http) âœ˜ SysD-gxy âœ˜ SysD-nginx âœ˜ <span class="notranslate">galaxy</span>(ssl) âœ˜
gat-2     postgres âœ” âœ” <span class="notranslate">galaxy</span>(http) âœ” SysD-gxy âœ˜ SysD-nginx âœ˜ <span class="notranslate">galaxy</span>(ssl) âœ˜
gat-15    postgres âœ” âœ˜ <span class="notranslate">galaxy</span>(http) âœ˜ SysD-gxy âœ˜ SysD-nginx âœ˜ <span class="notranslate">galaxy</span>(ssl) âœ˜
gat-24    postgres âœ” âœ˜ <span class="notranslate">galaxy</span>(http) âœ˜ SysD-gxy âœ˜ SysD-nginx âœ˜ <span class="notranslate">galaxy</span>(ssl) âœ˜
gat-6     postgres âœ˜ âœ˜ <span class="notranslate">galaxy</span>(http) âœ˜ SysD-gxy âœ˜ SysD-nginx âœ˜ <span class="notranslate">galaxy</span>(ssl) âœ˜
</code></pre></div></div>

<p>You can see a checkmark reported for every step completed by students, giving you a nice overview of how many students have completed each step, and if youâ€™re ready to move on. Additionally you know precisely which students you should reach out to check in with, if they arenâ€™t progressing. The <code class="language-plaintext highlighter-rouge">-eu</code> again refers to the specific pool of machines, and if youâ€™re using a different hosts file, with different group names, you may need to edit the Makefile accordingly.</p>

<p>There are other <code class="language-plaintext highlighter-rouge">make check-</code> commands for each of the <code class="language-plaintext highlighter-rouge">gat</code> status commands. Run <code class="language-plaintext highlighter-rouge">make</code> to list all of them.</p>

<h1 id="after-your-training">After Your Training</h1>

<p>Once your training is concluded, go through the questions students have asked in the Google Doc, and consider contributing them back to the training materials with Tips and Question boxes covering these student questions. Here is <a href="https://github.com/galaxyproject/training-material/pull/1922">an example pull request</a> when we did this after BCC2020.</p>

<h1 class="no_toc" id="conclusion">Conclusion</h1>


                    
                    <blockquote class="key_points">
                        <h3><i class="fas fa-key" aria-hidden="true"></i><span class="visually-hidden">keypoints</span> Key points</h3>
                        <ul>
                            
                            <li><p>Infrastructure is available for running GATs for free from UseGalaxy.eu</p>
</li>
                            
                            <li><p>This can be very convenient and easy to use</p>
</li>
                            
                            <li><p>EU provides appropriate DNS entries so you can run trainings with ITs.</p>
</li>
                            
                        </ul>
                    </blockquote>
                    

                    

                    

                    <h1>Feedback</h1>
                    <p class="text-muted">Did you use this material as an instructor? Feel free to give us feedback on <a href="https://github.com/galaxyproject/training-material/issues/1452" target="_blank">how it went</a>.</p>

                    <div id="feedback-button">
                        <img src="/training-material/shared/images/feedback.png" title="Click to activate" alt="Click here to load Google feedback frame" />
                    </div>
                    <div id="feedback-form">
                    </div>
                    <script type="text/javascript">
                        (function (window, document) {
                            function onDocumentReady(fn) {
                                if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
                                    fn();
                                } else {
                                    document.addEventListener('DOMContentLoaded', fn);
                                }
                            }

                            onDocumentReady(function () {
                                $("#feedback-button").click(function(evt){
                                    var e = $(evt.target)
                                    e.hide();

                                    $("#feedback-form").html(`
                                        <iframe id="feedback-google" class="google-form" src="https://docs.google.com/forms/d/e/1FAIpQLSd4VZptFTQ03kHkMz0JyW9b6_S8geU5KjNE_tLM0dixT3ZQmA/viewform?embedded=true&entry.1235803833=Galaxy Admin Training (Teaching and Hosting Galaxy training)">Loading...</iframe>
                                    `)
                                })
                            });
                        })(window, document);
                    </script>



                    <h1>Citing this Tutorial</h1>
                    <p>
                        <ol>
                            <li id="citation-text">Helena Rasche, 2021 <b>Galaxy Admin Training (Galaxy Training Materials)</b>. <a href="/training-material/topics/instructors/tutorials/galaxy-admin-training/tutorial.html">/training-material/topics/instructors/tutorials/galaxy-admin-training/tutorial.html</a> Online; accessed TODAY
                            </li>
                            <li>
                            Batut et al., 2018 <b>Community-Driven Data Analysis Training for Biology</b> Cell Systems <a href="https://doi.org/10.1016%2Fj.cels.2018.05.012">10.1016/j.cels.2018.05.012</a>
                            </li>
                        </ol>
                    </p>


                    <blockquote class="details">
                      <h3><i class="fa fa-info-circle" aria-hidden="true"></i><span class="visually-hidden">details</span> BibTeX</h3>
                      <p style="display: none;">

                    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight">
<code id="citation-code">@misc{instructors-galaxy-admin-training,
    author = "Helena Rasche",
    title = "Galaxy Admin Training (Galaxy Training Materials)",
    year = "2021",
    month = "01",
    day = "06"
    url = "\url{/training-material/topics/instructors/tutorials/galaxy-admin-training/tutorial.html}",
    note = "[Online; accessed TODAY]"
}
@article{Batut_2018,
        doi = {10.1016/j.cels.2018.05.012},
        url = {https://doi.org/10.1016%2Fj.cels.2018.05.012},
        year = 2018,
        month = {jun},
        publisher = {Elsevier {BV}},
        volume = {6},
        number = {6},
        pages = {752--758.e1},
        author = {B{\'{e}}r{\'{e}}nice Batut and Saskia Hiltemann and Andrea Bagnacani and Dannon Baker and Vivek Bhardwaj and Clemens Blank and Anthony Bretaudeau and Loraine Brillet-Gu{\'{e}}guen and Martin {\v{C}}ech and John Chilton and Dave Clements and Olivia Doppelt-Azeroual and Anika Erxleben and Mallory Ann Freeberg and Simon Gladman and Youri Hoogstrate and Hans-Rudolf Hotz and Torsten Houwaart and Pratik Jagtap and Delphine Larivi{\`{e}}re and Gildas Le Corguill{\'{e}} and Thomas Manke and Fabien Mareuil and Fidel Ram{\'{\i}}rez and Devon Ryan and Florian Christoph Sigloch and Nicola Soranzo and Joachim Wolff and Pavankumar Videm and Markus Wolfien and Aisanjiang Wubuli and Dilmurat Yusuf and James Taylor and Rolf Backofen and Anton Nekrutenko and BjÃ¶rn GrÃ¼ning},
        title = {Community-Driven Data Analysis Training for Biology},
        journal = {Cell Systems}
}</code>
                    </pre></div></div>
                    </p>
                    </blockquote>


<script type="text/javascript">
// update the date on load, or leave fallback of 'today'
d = new Date();
document.getElementById("citation-code").innerHTML = document.getElementById("citation-code").innerHTML.replace("TODAY", d.toDateString());
document.getElementById("citation-text").innerHTML = document.getElementById("citation-text").innerHTML.replace("TODAY", d.toDateString());
</script>

                </div>
            </div>
        </div>

        <h3><i class="far fa-thumbs-up" aria-hidden="true"></i><span class="visually-hidden">congratulations</span> Congratulations on successfully completing this tutorial!</h3>

        

        
    </section>
</div>


<footer>
    <div class="container">
        <p>
            This material is the result of a collaborative work. Thanks to the
            <a href="https://wiki.galaxyproject.org/Teach/GTN">Galaxy Training Network</a>
            and all the <a href="/training-material/hall-of-fame">contributors</a> (Helena Rasche)!
        </p>
        <p>
            Found a typo? Something is wrong in this tutorial? Edit it on
            <a href="https://github.com/galaxyproject/training-material/tree/master/topics/instructors/tutorials/galaxy-admin-training/tutorial.md">GitHub</a>.
        </p>
        <p>
    The content of the tutorials and website is licensed under the <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
</p>
    </div>
</footer>

    </body>
    <script type="text/javascript" src="/training-material/assets/js/jquery.slim.min.js"></script>
    <script type="text/javascript" src="/training-material/assets/js/popper.min.js"></script>
    <script type="text/javascript" src="/training-material/assets/js/bootstrap.min.js?v=3"></script>
    <script type="text/javascript" src="/training-material/assets/js/details-element-polyfill.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="/training-material/assets/js/bootstrap-toc.min.js"></script>
    <script type="text/javascript" src="/training-material/assets/js/main.js"></script>
    <script type="text/javascript" src="/training-material/assets/js/theme.js"></script>

    <script type="text/javascript" src="/training-material/assets/js/clipboard.min.js"></script>
    <script type="text/javascript">
    var snippets=document.querySelectorAll('div.highlight');
    [].forEach.call(snippets,function(snippet){
        snippet.firstChild.insertAdjacentHTML('beforebegin','<button class="btn btn-light" data-clipboard-snippet><i class="fa fa-copy"></i>&nbsp;Copy</button>');
    });

    var clipboardSnippets=new ClipboardJS('[data-clipboard-snippet]',{
        target:function(trigger){return trigger.nextElementSibling;
    }});
    </script>
    

    <script type="text/javascript">
        if(window.location.hostname === "galaxyproject.github.io") {
            // Redirect
            var redirect = "https://training.galaxyproject.org" + window.location.pathname + window.location.search;
            $('div.container.main-content').prepend("<div class='alert alert-warning'><strong>Note: </strong>This content has a new home at <a href=\"" + redirect + "\">" + redirect + "</a>, which you will be redirected to in 5 seconds.</div>");

            window.setTimeout(function(){
                window.location.href = redirect;
            }, 5000)

        }
    </script>
</html>
