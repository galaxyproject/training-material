{
    "a_galaxy_workflow": "true",
    "annotation": "Bulk RNA Deconvolution with MuSiC",
    "format-version": "0.1",
    "name": "MuSiC Workflow",
    "steps": {
        "0": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 0,
            "input_connections": {},
            "inputs": [
                {
                    "description": "",
                    "name": "scRNA Assay Tabular"
                }
            ],
            "label": "scRNA Assay Tabular",
            "name": "Input dataset",
            "outputs": [],
            "position": {
                "bottom": 234.6999969482422,
                "height": 82.19999694824219,
                "left": 360,
                "right": 560,
                "top": 152.5,
                "width": 200,
                "x": 360,
                "y": 152.5
            },
            "tool_id": null,
            "tool_state": "{\"optional\": false}",
            "tool_version": null,
            "type": "data_input",
            "uuid": "0d219185-0933-4459-ade3-30f96b00511d",
            "workflow_outputs": [
                {
                    "label": null,
                    "output_name": "output",
                    "uuid": "c67225bf-f947-45ed-ae5b-5c9367ef8cab"
                }
            ]
        },
        "1": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 1,
            "input_connections": {},
            "inputs": [
                {
                    "description": "",
                    "name": "scRNA Phenotype Tabular"
                }
            ],
            "label": "scRNA Phenotype Tabular",
            "name": "Input dataset",
            "outputs": [],
            "position": {
                "bottom": 338.1999969482422,
                "height": 82.19999694824219,
                "left": 359,
                "right": 559,
                "top": 256,
                "width": 200,
                "x": 359,
                "y": 256
            },
            "tool_id": null,
            "tool_state": "{\"optional\": false}",
            "tool_version": null,
            "type": "data_input",
            "uuid": "9ca6d554-decc-4b57-b6f4-723a60e5a0cc",
            "workflow_outputs": [
                {
                    "label": null,
                    "output_name": "output",
                    "uuid": "59f0e53a-13ee-4ab6-8cdf-40482dfc0f75"
                }
            ]
        },
        "2": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 2,
            "input_connections": {},
            "inputs": [
                {
                    "description": "",
                    "name": "scRNA Metadata"
                }
            ],
            "label": "scRNA Metadata",
            "name": "Input parameter",
            "outputs": [],
            "position": {
                "bottom": 424.8000030517578,
                "height": 61.80000305175781,
                "left": 357,
                "right": 557,
                "top": 363,
                "width": 200,
                "x": 357,
                "y": 363
            },
            "tool_id": null,
            "tool_state": "{\"parameter_type\": \"text\", \"optional\": false}",
            "tool_version": null,
            "type": "parameter_input",
            "uuid": "4efc5ad2-5000-4b60-92e8-df022c6f8a7f",
            "workflow_outputs": [
                {
                    "label": null,
                    "output_name": "output",
                    "uuid": "f45df54a-4591-49bb-91be-06a497ceb14d"
                }
            ]
        },
        "3": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 3,
            "input_connections": {},
            "inputs": [
                {
                    "description": "",
                    "name": "Bulk RNA Assay Tabular"
                }
            ],
            "label": "Bulk RNA Assay Tabular",
            "name": "Input dataset",
            "outputs": [],
            "position": {
                "bottom": 544.1999969482422,
                "height": 82.19999694824219,
                "left": 358,
                "right": 558,
                "top": 462,
                "width": 200,
                "x": 358,
                "y": 462
            },
            "tool_id": null,
            "tool_state": "{\"optional\": false}",
            "tool_version": null,
            "type": "data_input",
            "uuid": "809894bc-62b0-43a8-af73-d19c359b2e4e",
            "workflow_outputs": [
                {
                    "label": null,
                    "output_name": "output",
                    "uuid": "4a8ebd19-87c9-4b3d-89ad-26316b1460f9"
                }
            ]
        },
        "4": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 4,
            "input_connections": {},
            "inputs": [
                {
                    "description": "",
                    "name": "Bulk RNA Annotation"
                }
            ],
            "label": "Bulk RNA Annotation",
            "name": "Input parameter",
            "outputs": [],
            "position": {
                "bottom": 645.1999969482422,
                "height": 82.19999694824219,
                "left": 358,
                "right": 558,
                "top": 563,
                "width": 200,
                "x": 358,
                "y": 563
            },
            "tool_id": null,
            "tool_state": "{\"parameter_type\": \"text\", \"optional\": false}",
            "tool_version": null,
            "type": "parameter_input",
            "uuid": "1c008bcf-8ea8-4f48-89ec-623190301fc9",
            "workflow_outputs": [
                {
                    "label": null,
                    "output_name": "output",
                    "uuid": "5663f93d-b38f-4f7c-9ed2-7aa5a5e0273e"
                }
            ]
        },
        "5": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 5,
            "input_connections": {},
            "inputs": [
                {
                    "description": "",
                    "name": "Cell Types List"
                }
            ],
            "label": "Cell Types List",
            "name": "Input parameter",
            "outputs": [],
            "position": {
                "bottom": 314.3000030517578,
                "height": 61.80000305175781,
                "left": 928,
                "right": 1128,
                "top": 252.5,
                "width": 200,
                "x": 928,
                "y": 252.5
            },
            "tool_id": null,
            "tool_state": "{\"parameter_type\": \"text\", \"optional\": false}",
            "tool_version": null,
            "type": "parameter_input",
            "uuid": "f98985a7-458a-4b2f-a924-8ca4ecdaa037",
            "workflow_outputs": [
                {
                    "label": null,
                    "output_name": "output",
                    "uuid": "6440740d-b72c-422b-a46c-d3de32c25076"
                }
            ]
        },
        "6": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 6,
            "input_connections": {},
            "inputs": [
                {
                    "description": "",
                    "name": "Cell Markers C1"
                }
            ],
            "label": "Cell Markers C1",
            "name": "Input dataset",
            "outputs": [],
            "position": {
                "bottom": 388.3000030517578,
                "height": 61.80000305175781,
                "left": 927,
                "right": 1127,
                "top": 326.5,
                "width": 200,
                "x": 927,
                "y": 326.5
            },
            "tool_id": null,
            "tool_state": "{\"optional\": false}",
            "tool_version": null,
            "type": "data_input",
            "uuid": "d2940a2a-808b-43ec-9ed7-59a8915b4fbd",
            "workflow_outputs": [
                {
                    "label": null,
                    "output_name": "output",
                    "uuid": "b87c6860-8b9d-4412-8aa7-506ea09bfc16"
                }
            ]
        },
        "7": {
            "annotation": "",
            "content_id": null,
            "errors": null,
            "id": 7,
            "input_connections": {},
            "inputs": [
                {
                    "description": "",
                    "name": "Cell Markers C2"
                }
            ],
            "label": "Cell Markers C2",
            "name": "Input dataset",
            "outputs": [],
            "position": {
                "bottom": 459.3000030517578,
                "height": 61.80000305175781,
                "left": 932,
                "right": 1132,
                "top": 397.5,
                "width": 200,
                "x": 932,
                "y": 397.5
            },
            "tool_id": null,
            "tool_state": "{\"optional\": false}",
            "tool_version": null,
            "type": "data_input",
            "uuid": "b13d3354-a633-4eeb-8edf-4f14c4209240",
            "workflow_outputs": [
                {
                    "label": null,
                    "output_name": "output",
                    "uuid": "3f07162a-d2f4-411e-a276-6437c7149ecc"
                }
            ]
        },
        "8": {
            "annotation": "",
            "content_id": "music_construct_eset",
            "errors": null,
            "id": 8,
            "input_connections": {
                "exprs_file": {
                    "id": 0,
                    "output_name": "output"
                },
                "metadata_0|row_names": {
                    "id": 2,
                    "output_name": "output"
                },
                "pdata_file": {
                    "id": 1,
                    "output_name": "output"
                }
            },
            "inputs": [
                {
                    "description": "runtime parameter for tool Construct Expression Set Object",
                    "name": "exprs_file"
                },
                {
                    "description": "runtime parameter for tool Construct Expression Set Object",
                    "name": "pdata_file"
                }
            ],
            "label": "Construct scRNA ESet Object",
            "name": "Construct Expression Set Object",
            "outputs": [
                {
                    "name": "out_tab",
                    "type": "tabular"
                },
                {
                    "name": "out_rds",
                    "type": "rdata"
                }
            ],
            "position": {
                "bottom": 435.8999938964844,
                "height": 286.3999938964844,
                "left": 637,
                "right": 837,
                "top": 149.5,
                "width": 200,
                "x": 637,
                "y": 149.5
            },
            "post_job_actions": {
                "HideDatasetActionout_tab": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "out_tab"
                }
            },
            "tool_id": "music_construct_eset",
            "tool_state": "{\"annotation\": \"\", \"expdata\": {\"name\": \"\", \"lab\": \"\", \"contact\": \"\", \"title\": \"\", \"abstract\": \"\", \"url\": \"\", \"other\": [{\"__index__\": 0, \"field\": \"notes\", \"comment\": \"Created in Galaxy\"}]}, \"exprs_file\": {\"__class__\": \"RuntimeValue\"}, \"metadata\": [{\"__index__\": 0, \"row_names\": {\"__class__\": \"ConnectedValue\"}, \"label_desc\": \"\"}], \"pdata_file\": {\"__class__\": \"RuntimeValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "0.1.1+galaxy0",
            "type": "tool",
            "uuid": "2e56a895-db92-4961-9d04-9860ef4d6007",
            "workflow_outputs": [
                {
                    "label": "Construct Expression Set Object on input dataset(s): RData ESet Object",
                    "output_name": "out_rds",
                    "uuid": "872b3dd2-322c-47cc-b5b9-071a9f939320"
                }
            ]
        },
        "9": {
            "annotation": "",
            "content_id": "music_construct_eset",
            "errors": null,
            "id": 9,
            "input_connections": {
                "annotation": {
                    "id": 4,
                    "output_name": "output"
                },
                "exprs_file": {
                    "id": 3,
                    "output_name": "output"
                }
            },
            "inputs": [
                {
                    "description": "runtime parameter for tool Construct Expression Set Object",
                    "name": "exprs_file"
                },
                {
                    "description": "runtime parameter for tool Construct Expression Set Object",
                    "name": "pdata_file"
                }
            ],
            "label": "Construct Bulk RNA ESet Object",
            "name": "Construct Expression Set Object",
            "outputs": [
                {
                    "name": "out_tab",
                    "type": "tabular"
                },
                {
                    "name": "out_rds",
                    "type": "rdata"
                }
            ],
            "position": {
                "bottom": 746.3999938964844,
                "height": 286.3999938964844,
                "left": 638,
                "right": 838,
                "top": 460,
                "width": 200,
                "x": 638,
                "y": 460
            },
            "post_job_actions": {
                "HideDatasetActionout_tab": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "out_tab"
                }
            },
            "tool_id": "music_construct_eset",
            "tool_state": "{\"annotation\": {\"__class__\": \"ConnectedValue\"}, \"expdata\": {\"name\": \"\", \"lab\": \"\", \"contact\": \"\", \"title\": \"\", \"abstract\": \"\", \"url\": \"\", \"other\": [{\"__index__\": 0, \"field\": \"notes\", \"comment\": \"Created in Galaxy\"}]}, \"exprs_file\": {\"__class__\": \"RuntimeValue\"}, \"metadata\": [], \"pdata_file\": {\"__class__\": \"RuntimeValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "0.1.1+galaxy0",
            "type": "tool",
            "uuid": "4646fe87-4f29-48cf-b751-a1edb4e9fd7d",
            "workflow_outputs": [
                {
                    "label": null,
                    "output_name": "out_rds",
                    "uuid": "f27399d6-39f8-4712-a632-ee34b891306d"
                }
            ]
        },
        "10": {
            "annotation": "",
            "content_id": "music_inspect_eset",
            "errors": null,
            "id": 10,
            "input_connections": {
                "rds_eset": {
                    "id": 8,
                    "output_name": "out_rds"
                }
            },
            "inputs": [
                {
                    "description": "runtime parameter for tool Inspect Expression Set Object",
                    "name": "rds_eset"
                }
            ],
            "label": "Extract Cell Types",
            "name": "Inspect Expression Set Object",
            "outputs": [
                {
                    "name": "out_tab",
                    "type": "tabular"
                }
            ],
            "position": {
                "bottom": 244.39999389648438,
                "height": 154.39999389648438,
                "left": 926,
                "right": 1126,
                "top": 90,
                "width": 200,
                "x": 926,
                "y": 90
            },
            "post_job_actions": {},
            "tool_id": "music_inspect_eset",
            "tool_state": "{\"inspector\": \"fData\", \"rds_eset\": {\"__class__\": \"RuntimeValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "0.1.1+galaxy0",
            "type": "tool",
            "uuid": "04fa6a76-2262-4608-bf42-f0bd17419226",
            "workflow_outputs": [
                {
                    "label": null,
                    "output_name": "out_tab",
                    "uuid": "3c2f499e-2f78-4aeb-bd5b-82b4606dea16"
                }
            ]
        },
        "11": {
            "annotation": "",
            "content_id": "music_inspect_eset",
            "errors": null,
            "id": 11,
            "input_connections": {
                "rds_eset": {
                    "id": 8,
                    "output_name": "out_rds"
                }
            },
            "inputs": [
                {
                    "description": "runtime parameter for tool Inspect Expression Set Object",
                    "name": "rds_eset"
                }
            ],
            "label": "Extract General Info",
            "name": "Inspect Expression Set Object",
            "outputs": [
                {
                    "name": "out_tab",
                    "type": "tabular"
                }
            ],
            "position": {
                "bottom": 692.8999938964844,
                "height": 154.39999389648438,
                "left": 948,
                "right": 1148,
                "top": 538.5,
                "width": 200,
                "x": 948,
                "y": 538.5
            },
            "post_job_actions": {},
            "tool_id": "music_inspect_eset",
            "tool_state": "{\"inspector\": \"print\", \"rds_eset\": {\"__class__\": \"RuntimeValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "0.1.1+galaxy0",
            "type": "tool",
            "uuid": "4a8ff055-fa99-4867-97e5-a3d1ec49b9bc",
            "workflow_outputs": [
                {
                    "label": "Inspect Expression Set Object on input dataset(s): Inspection Result",
                    "output_name": "out_tab",
                    "uuid": "1733593f-847d-4adb-91f4-fd78c077b074"
                }
            ]
        },
        "12": {
            "annotation": "",
            "content_id": "music_inspect_eset",
            "errors": null,
            "id": 12,
            "input_connections": {
                "rds_eset": {
                    "id": 9,
                    "output_name": "out_rds"
                }
            },
            "inputs": [
                {
                    "description": "runtime parameter for tool Inspect Expression Set Object",
                    "name": "rds_eset"
                }
            ],
            "label": "Extract General Info (Bulk)",
            "name": "Inspect Expression Set Object",
            "outputs": [
                {
                    "name": "out_tab",
                    "type": "tabular"
                }
            ],
            "position": {
                "bottom": 861.3999938964844,
                "height": 154.39999389648438,
                "left": 945,
                "right": 1145,
                "top": 707,
                "width": 200,
                "x": 945,
                "y": 707
            },
            "post_job_actions": {},
            "tool_id": "music_inspect_eset",
            "tool_state": "{\"inspector\": \"print\", \"rds_eset\": {\"__class__\": \"RuntimeValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "0.1.1+galaxy0",
            "type": "tool",
            "uuid": "83ae4dc4-ff8a-4df7-8d47-c52e4f79c97f",
            "workflow_outputs": [
                {
                    "label": null,
                    "output_name": "out_tab",
                    "uuid": "d2312cc5-cea1-4f07-a0cf-0574a0923c28"
                }
            ]
        },
        "13": {
            "annotation": "",
            "content_id": "music_deconvolution",
            "errors": null,
            "id": 13,
            "input_connections": {
                "bulk_eset": {
                    "id": 9,
                    "output_name": "out_rds"
                },
                "do|celltypes": {
                    "id": 5,
                    "output_name": "output"
                },
                "scrna_eset": {
                    "id": 8,
                    "output_name": "out_rds"
                }
            },
            "inputs": [
                {
                    "description": "runtime parameter for tool MuSiC",
                    "name": "bulk_eset"
                },
                {
                    "description": "runtime parameter for tool MuSiC",
                    "name": "scrna_eset"
                }
            ],
            "label": "Music: Estimate Cell Proportions",
            "name": "MuSiC",
            "outputs": [
                {
                    "name": "summaries",
                    "type": "input"
                },
                {
                    "name": "out_pdf",
                    "type": "pdf"
                }
            ],
            "position": {
                "bottom": 536.3999938964844,
                "height": 286.3999938964844,
                "left": 1325,
                "right": 1525,
                "top": 250,
                "width": 200,
                "x": 1325,
                "y": 250
            },
            "post_job_actions": {},
            "tool_id": "music_deconvolution",
            "tool_state": "{\"bulk_eset\": {\"__class__\": \"RuntimeValue\"}, \"do\": {\"method\": \"estimateprops\", \"__current_case__\": 0, \"celltypes_label\": \"cellType\", \"samples_label\": \"sampleID\", \"celltypes\": {\"__class__\": \"ConnectedValue\"}, \"methods\": [\"MuSiC\", \"NNLS\"], \"phenotype_factors\": \"\", \"phenotype_gene\": \"\", \"sample_groups\": \"\", \"sample_disease_group\": \"\", \"sample_disease_group_scale\": \"5\", \"healthy_phenotype\": \"\", \"compare_title\": \"\"}, \"scrna_eset\": {\"__class__\": \"RuntimeValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "0.1.1+galaxy0",
            "type": "tool",
            "uuid": "d5ff6923-3386-4407-8c50-0ec641a7fe0e",
            "workflow_outputs": [
                {
                    "label": null,
                    "output_name": "summaries",
                    "uuid": "ff64eeaa-56f4-4ef0-b458-5cf7c402ff84"
                },
                {
                    "label": null,
                    "output_name": "out_pdf",
                    "uuid": "30e55eec-e403-4b10-a62c-5a503be0fb9f"
                }
            ]
        },
        "14": {
            "annotation": "",
            "content_id": "music_deconvolution",
            "errors": null,
            "id": 14,
            "input_connections": {
                "bulk_eset": {
                    "id": 9,
                    "output_name": "out_rds"
                },
                "do|cluster_groups_0|marker_list": {
                    "id": 6,
                    "output_name": "output"
                },
                "do|cluster_groups_1|marker_list": {
                    "id": 7,
                    "output_name": "output"
                },
                "scrna_eset": {
                    "id": 8,
                    "output_name": "out_rds"
                }
            },
            "inputs": [
                {
                    "description": "runtime parameter for tool MuSiC",
                    "name": "bulk_eset"
                },
                {
                    "description": "runtime parameter for tool MuSiC",
                    "name": "scrna_eset"
                }
            ],
            "label": "Music: Compute Dendrogram",
            "name": "MuSiC",
            "outputs": [
                {
                    "name": "out_pdf",
                    "type": "pdf"
                },
                {
                    "name": "out_tab",
                    "type": "tabular"
                }
            ],
            "position": {
                "bottom": 898.7000122070312,
                "height": 337.20001220703125,
                "left": 1333,
                "right": 1533,
                "top": 561.5,
                "width": 200,
                "x": 1333,
                "y": 561.5
            },
            "post_job_actions": {
                "HideDatasetActionout_tab": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "out_tab"
                }
            },
            "tool_id": "music_deconvolution",
            "tool_state": "{\"bulk_eset\": {\"__class__\": \"RuntimeValue\"}, \"do\": {\"method\": \"dendrogram\", \"__current_case__\": 1, \"celltypes_label\": \"cellType\", \"clustertype_label\": \"clusterType\", \"samples_label\": \"sampleID\", \"celltypes\": \"\", \"cluster_groups\": [{\"__index__\": 0, \"cluster_id\": \"C1\", \"celltypes\": \"\", \"marker_name\": \"\", \"marker_list\": {\"__class__\": \"RuntimeValue\"}}, {\"__index__\": 1, \"cluster_id\": \"C2\", \"celltypes\": \"\", \"marker_name\": \"\", \"marker_list\": {\"__class__\": \"RuntimeValue\"}}]}, \"scrna_eset\": {\"__class__\": \"RuntimeValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "0.1.1+galaxy0",
            "type": "tool",
            "uuid": "86a3a936-ef2a-4eee-80e9-63f247463719",
            "workflow_outputs": [
                {
                    "label": "MuSiC on input dataset(s): PDF Plots",
                    "output_name": "out_pdf",
                    "uuid": "df2e83a5-ac67-460f-8b0f-ac3f3b63280f"
                }
            ]
        }
    },
    "tags": [
       "transcriptomics",
       "single-cell"
    ],
    "uuid": "b03e89d8-266a-48ea-82ff-cac14574c5e5",
    "version": 1
}