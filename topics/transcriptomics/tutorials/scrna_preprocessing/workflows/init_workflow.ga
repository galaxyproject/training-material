{"name": "CelSeq2: Single Batch (General)", "tags": [], "format-version": "0.1", "uuid": "dab901db-a2ca-4521-9bf5-054e10040aea", "a_galaxy_workflow": "true", "steps": {"2": {"tool_id": null, "errors": null, "content_id": null, "annotation": "", "workflow_outputs": [{"label": null, "uuid": "b34b192a-f4f1-4ccb-a153-da8f11b4bac1", "output_name": "output"}], "input_connections": {}, "position": {"top": 651.9166870117188, "left": 313.5}, "name": "Input dataset", "outputs": [], "tool_state": "{}", "tool_version": null, "inputs": [], "type": "data_input", "id": 2, "label": "GTF file (UCSC)", "uuid": "a0053090-c5a8-491e-8e55-f980971d47bc"}, "7": {"post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/umi_tools_count/umi_tools_count/0.5.3.2", "errors": null, "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/umi_tools_count/umi_tools_count/0.5.3.2", "annotation": "", "workflow_outputs": [{"label": null, "uuid": "25b44460-51a6-446b-9681-2ec122dc733b", "output_name": "out_counts"}], "input_connections": {"input_bam": {"id": 6, "output_name": "out_file1"}}, "position": {"top": 769, "left": 1646.5}, "tool_shed_repository": {"owner": "iuc", "name": "umi_tools_count", "tool_shed": "toolshed.g2.bx.psu.edu", "changeset_revision": "b557acca0b56"}, "name": "UMI-tools count", "outputs": [{"name": "out_counts", "type": "tabular"}], "tool_state": "{\"wide_format_cell_counts\": \"\\\"true\\\"\", \"cond_extra\": \"{\\\"prepender\\\": \\\"dataset name\\\", \\\"__current_case__\\\": 1}\", \"__page__\": null, \"__rerun_remap_job_id__\": null, \"edit_distance_threshold\": \"\\\"1\\\"\", \"paired\": \"\\\"false\\\"\", \"input_bam\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"method\": \"\\\"unique\\\"\", \"advanced\": \"{\\\"random_seed\\\": \\\"0\\\", \\\"gene_tag\\\": \\\"XT\\\", \\\"per_contig\\\": \\\"false\\\", \\\"mapping_quality\\\": \\\"0\\\", \\\"skip_tags_regex\\\": \\\"\\\", \\\"per_cell\\\": \\\"true\\\"}\", \"barcodes\": \"{\\\"umi_separator\\\": \\\"_\\\", \\\"extract_umi_method\\\": \\\"read_id\\\", \\\"__current_case__\\\": 0}\"}", "tool_version": null, "inputs": [{"name": "input_bam", "description": "runtime parameter for tool UMI-tools count"}], "type": "tool", "id": 7, "label": null, "uuid": "2686308c-b090-40e3-81f9-ed4a5f646a6d"}, "5": {"post_job_actions": {"HideDatasetActionoutput_jcounts": {"action_type": "HideDatasetAction", "action_arguments": {}, "output_name": "output_jcounts"}, "HideDatasetActionoutput_full": {"action_type": "HideDatasetAction", "action_arguments": {}, "output_name": "output_full"}, "HideDatasetActionoutput_feature_lengths": {"action_type": "HideDatasetAction", "action_arguments": {}, "output_name": "output_feature_lengths"}, "HideDatasetActionoutput_summary": {"action_type": "HideDatasetAction", "action_arguments": {}, "output_name": "output_summary"}, "HideDatasetActionoutput_short": {"action_type": "HideDatasetAction", "action_arguments": {}, "output_name": "output_short"}, "HideDatasetActionoutput_medium": {"action_type": "HideDatasetAction", "action_arguments": {}, "output_name": "output_medium"}}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/featurecounts/featurecounts/1.6.2", "errors": null, "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/featurecounts/featurecounts/1.6.2", "annotation": "", "workflow_outputs": [{"label": null, "uuid": "55045b26-8da2-4409-914b-519107280d9e", "output_name": "output_bam"}], "input_connections": {"alignment": {"id": 4, "output_name": "mapped_reads"}, "anno|reference_gene_sets": {"id": 2, "output_name": "output"}}, "position": {"top": 637, "left": 1141.5}, "tool_shed_repository": {"owner": "iuc", "name": "featurecounts", "tool_shed": "toolshed.g2.bx.psu.edu", "changeset_revision": "f3a5f075498f"}, "name": "featureCounts", "outputs": [{"name": "output_medium", "type": "tabular"}, {"name": "output_bam", "type": "bam"}, {"name": "output_short", "type": "tabular"}, {"name": "output_full", "type": "tabular"}, {"name": "output_summary", "type": "tabular"}, {"name": "output_feature_lengths", "type": "tabular"}, {"name": "output_jcounts", "type": "tabular"}], "tool_state": "{\"pe_parameters\": \"{\\\"only_both_ends\\\": \\\"false\\\", \\\"exclude_chimerics\\\": \\\"true\\\", \\\"fragment_counting_enabled\\\": {\\\"fragment_counting\\\": \\\"\\\", \\\"__current_case__\\\": 1}}\", \"format\": \"\\\"tabdel_short\\\"\", \"__page__\": null, \"__rerun_remap_job_id__\": null, \"strand_specificity\": \"\\\"0\\\"\", \"include_feature_length_file\": \"\\\"false\\\"\", \"anno\": \"{\\\"anno_select\\\": \\\"history\\\", \\\"reference_gene_sets\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"__current_case__\\\": 2}\", \"extended_parameters\": \"{\\\"gff_feature_attribute\\\": \\\"gene_id\\\", \\\"exon_exon_junction_read_counting_enabled\\\": {\\\"__current_case__\\\": 1, \\\"count_exon_exon_junction_reads\\\": \\\"false\\\"}, \\\"read_extension_3p\\\": \\\"0\\\", \\\"frac_overlap_feature\\\": \\\"0\\\", \\\"min_overlap\\\": \\\"1\\\", \\\"read_extension_5p\\\": \\\"0\\\", \\\"contribute_to_multiple_features\\\": \\\"false\\\", \\\"frac_overlap\\\": \\\"0\\\", \\\"primary\\\": \\\"false\\\", \\\"count_split_alignments_only\\\": \\\"false\\\", \\\"by_read_group\\\": \\\"false\\\", \\\"ignore_dup\\\": \\\"false\\\", \\\"mapping_quality\\\": \\\"12\\\", \\\"summarization_level\\\": \\\"false\\\", \\\"R\\\": \\\"true\\\", \\\"largest_overlap\\\": \\\"false\\\", \\\"read_reduction\\\": \\\"\\\", \\\"multimapping_enabled\\\": {\\\"multimapping_counts\\\": \\\"\\\", \\\"__current_case__\\\": 1}, \\\"long_reads\\\": \\\"false\\\", \\\"gff_feature_type\\\": \\\"exon\\\"}\", \"alignment\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\"}", "tool_version": null, "inputs": [{"name": "anno", "description": "runtime parameter for tool featureCounts"}, {"name": "alignment", "description": "runtime parameter for tool featureCounts"}], "type": "tool", "id": 5, "label": null, "uuid": "905712d5-d017-46a9-b604-56422dbca0fa"}, "0": {"tool_id": null, "errors": null, "content_id": null, "annotation": "", "workflow_outputs": [{"label": null, "uuid": "15eabdfe-8348-462e-8a69-fac1eee30560", "output_name": "output"}], "input_connections": {}, "position": {"top": 293.9166717529297, "left": 286}, "name": "Input dataset collection", "outputs": [], "tool_state": "{\"collection_type\": \"paired\"}", "tool_version": null, "inputs": [], "type": "data_collection_input", "id": 0, "label": "Batch", "uuid": "9af77a8f-55fc-4ddf-8c7d-89a7f2fd7b69"}, "4": {"post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/rgrnastar/rna_star/2.5.2b-2", "errors": null, "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/rgrnastar/rna_star/2.5.2b-2", "annotation": "The genome should match that of the GTF file", "workflow_outputs": [{"label": null, "uuid": "27dc083f-016b-4e42-8688-384ae14dc528", "output_name": "chimeric_reads"}, {"label": null, "uuid": "f265a931-ee98-4736-8849-006a93845f91", "output_name": "chimeric_junctions"}, {"label": null, "uuid": "e736d294-df8f-4569-b416-38b809e1d521", "output_name": "reads_per_gene"}, {"label": null, "uuid": "c7c1400c-90ee-4f69-987f-328594212b42", "output_name": "splice_junctions"}, {"label": null, "uuid": "0fa6e824-7bbe-4073-9631-580a39fbc019", "output_name": "mapped_reads"}, {"label": null, "uuid": "327d9ddc-4c85-4381-8dea-026824b14301", "output_name": "output_log"}], "input_connections": {"refGenomeSource|GTFconditional|sjdbGTFfile": {"id": 2, "output_name": "output"}, "singlePaired|input1": {"id": 3, "output_name": "out2"}}, "position": {"top": 404.91668701171875, "left": 832.5}, "tool_shed_repository": {"owner": "iuc", "name": "rgrnastar", "tool_shed": "toolshed.g2.bx.psu.edu", "changeset_revision": "2055c2667eb3"}, "name": "RNA STAR", "outputs": [{"name": "output_log", "type": "txt"}, {"name": "chimeric_junctions", "type": "interval"}, {"name": "chimeric_reads", "type": "bam"}, {"name": "splice_junctions", "type": "interval"}, {"name": "mapped_reads", "type": "bam"}, {"name": "reads_per_gene", "type": "tabular"}], "tool_state": "{\"__page__\": null, \"singlePaired\": \"{\\\"sPaired\\\": \\\"single\\\", \\\"input1\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"__current_case__\\\": 0}\", \"output_params\": \"{\\\"__current_case__\\\": 1, \\\"output_select\\\": \\\"no\\\"}\", \"__rerun_remap_job_id__\": null, \"params\": \"{\\\"settingsType\\\": \\\"default\\\", \\\"__current_case__\\\": 0}\", \"refGenomeSource\": \"{\\\"GTFconditional\\\": {\\\"genomeDir\\\": \\\"xenLae9.2\\\", \\\"sjdbGTFfile\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"GTFselect\\\": \\\"without-gtf\\\", \\\"__current_case__\\\": 1, \\\"sjdbOverhang\\\": \\\"100\\\"}, \\\"geneSource\\\": \\\"indexed\\\", \\\"__current_case__\\\": 0}\", \"quantMode\": \"\\\"false\\\"\"}", "tool_version": null, "inputs": [{"name": "singlePaired", "description": "runtime parameter for tool RNA STAR"}], "type": "tool", "id": 4, "label": "Alignment (Choose a Genome)", "uuid": "495a9513-3586-4603-8831-dafc1f7577bf"}, "3": {"post_job_actions": {"HideDatasetActionout1": {"action_type": "HideDatasetAction", "action_arguments": {}, "output_name": "out1"}, "HideDatasetActionout_log": {"action_type": "HideDatasetAction", "action_arguments": {}, "output_name": "out_log"}, "HideDatasetActionout": {"action_type": "HideDatasetAction", "action_arguments": {}, "output_name": "out"}}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/umi_tools_extract/umi_tools_extract/0.5.3.2", "errors": null, "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/umi_tools_extract/umi_tools_extract/0.5.3.2", "annotation": "", "workflow_outputs": [{"label": null, "uuid": "547aa047-1796-4554-ba4f-a5b399b73f1b", "output_name": "out2"}], "input_connections": {"barcodes|filter_barcode_file": {"id": 1, "output_name": "output"}, "input_type|input_readpair": {"id": 0, "output_name": "output"}}, "position": {"top": 292.9166717529297, "left": 554.5}, "tool_shed_repository": {"owner": "iuc", "name": "umi_tools_extract", "tool_shed": "toolshed.g2.bx.psu.edu", "changeset_revision": "99aea37a7ff7"}, "name": "UMI-tools extract", "outputs": [{"name": "out", "type": "input"}, {"name": "out1", "type": "input"}, {"name": "out2", "type": "input"}, {"name": "out_log", "type": "txt"}], "tool_state": "{\"__page__\": null, \"extract_method\": \"\\\"string\\\"\", \"input_type\": \"{\\\"input_readpair\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"barcode\\\": {\\\"barcode_select\\\": \\\"first_read_only\\\", \\\"__current_case__\\\": 0}, \\\"type\\\": \\\"paired_collection\\\", \\\"__current_case__\\\": 2}\", \"__rerun_remap_job_id__\": null, \"bc_pattern\": \"\\\"NNNNNNCCCCCC\\\"\", \"print_log\": \"\\\"true\\\"\", \"prime3\": \"\\\"true\\\"\", \"quality\": \"{\\\"quality_selector\\\": \\\"false\\\", \\\"__current_case__\\\": 0}\", \"barcodes\": \"{\\\"filter_correct\\\": \\\"false\\\", \\\"filter_barcode_file\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"__current_case__\\\": 1, \\\"use_barcodes\\\": \\\"yes\\\"}\"}", "tool_version": null, "inputs": [{"name": "input_type", "description": "runtime parameter for tool UMI-tools extract"}, {"name": "barcodes", "description": "runtime parameter for tool UMI-tools extract"}], "type": "tool", "id": 3, "label": null, "uuid": "268b5e7d-5b16-43e7-b117-8aa328b63074"}, "1": {"tool_id": null, "errors": null, "content_id": null, "annotation": "", "workflow_outputs": [{"label": null, "uuid": "b43a9208-38ae-44f6-bca9-1b668a23a3d1", "output_name": "output"}], "input_connections": {}, "position": {"top": 375, "left": 302.5}, "name": "Input dataset", "outputs": [], "tool_state": "{}", "tool_version": null, "inputs": [], "type": "data_input", "id": 1, "label": "Barcodes (single-col)", "uuid": "7de74a2b-a71f-4adc-9834-79af229a7904"}, "6": {"post_job_actions": {"HideDatasetActionout_file2": {"action_type": "HideDatasetAction", "action_arguments": {}, "output_name": "out_file2"}}, "tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/bamtools_filter/bamFilter/2.4.1", "errors": null, "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/bamtools_filter/bamFilter/2.4.1", "annotation": "", "workflow_outputs": [{"label": null, "uuid": "d00cfdbd-8e13-45d4-aca0-bcd73701af80", "output_name": "out_file1"}], "input_connections": {"input_bam": {"id": 5, "output_name": "output_bam"}}, "position": {"top": 450.5, "left": 1440.5}, "tool_shed_repository": {"owner": "devteam", "name": "bamtools_filter", "tool_shed": "toolshed.g2.bx.psu.edu", "changeset_revision": "bd735cae4ce6"}, "name": "Filter", "outputs": [{"name": "out_file2", "type": "txt"}, {"name": "out_file1", "type": "bam"}], "tool_state": "{\"input_bam\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"__rerun_remap_job_id__\": null, \"rule_configuration\": \"{\\\"rules\\\": \\\"(1 | 2) & 3 & 4\\\", \\\"rules_selector\\\": \\\"true\\\", \\\"__current_case__\\\": 1}\", \"conditions\": \"[{\\\"__index__\\\": 0, \\\"filters\\\": [{\\\"__index__\\\": 0, \\\"bam_property\\\": {\\\"bam_property_selector\\\": \\\"alignmentFlag\\\", \\\"bam_property_value\\\": \\\"0\\\", \\\"__current_case__\\\": 0}}]}, {\\\"__index__\\\": 1, \\\"filters\\\": [{\\\"__index__\\\": 0, \\\"bam_property\\\": {\\\"bam_property_selector\\\": \\\"alignmentFlag\\\", \\\"bam_property_value\\\": \\\"16\\\", \\\"__current_case__\\\": 0}}]}, {\\\"__index__\\\": 2, \\\"filters\\\": [{\\\"__index__\\\": 0, \\\"bam_property\\\": {\\\"bam_property_selector\\\": \\\"tag\\\", \\\"bam_property_value\\\": \\\"nM:<3\\\", \\\"__current_case__\\\": 21}}]}, {\\\"__index__\\\": 3, \\\"filters\\\": [{\\\"__index__\\\": 0, \\\"bam_property\\\": {\\\"bam_property_selector\\\": \\\"tag\\\", \\\"bam_property_value\\\": \\\"NH:<2\\\", \\\"__current_case__\\\": 21}}]}]\", \"__page__\": null}", "tool_version": null, "inputs": [{"name": "input_bam", "description": "runtime parameter for tool Filter"}], "type": "tool", "id": 6, "label": null, "uuid": "5685d7bd-b5a7-4178-86ef-bf98bc1f3ef5"}}, "annotation": "Genome non-specific"}