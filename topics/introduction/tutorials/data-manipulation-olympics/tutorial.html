<!DOCTYPE html>
<html lang="en" dir="auto">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Hands-on: Data Manipulation Olympics / Data Manipulation Olympics / Introduction to Galaxy Analyses</title>
        
            <meta name="google-site-verification" content="9mOXn2JL833-i7-aioCCEuIdG4_tb6qjwUozB5GJnPQ" />

<!-- JavaScript Error Monitoring, and performance tracking. -->
<script
  src="https://browser.sentry-cdn.com/7.52.1/bundle.tracing.min.js"
  integrity="sha384-muuFXKS3752PNA4rPm9Uq6BLvOfV4CXyr9MHDBPvozOJJUWLKkogEFWOIRoVps43"
  crossorigin="anonymous"
></script>
<script type="text/javascript">
if(localStorage.getItem('sentry-opt-out') !== 'opt-out' && navigator.doNotTrack !== "1") {
	console.log("Sentry: opt-in");
	Sentry.init({
		dsn: "https://45e0ec6e4373462b92969505df37cf40@sentry.galaxyproject.org/10",
		release: "galaxy-training-network@9c7657a08299bfb894cca8820a79953e2d8e3beb",
		integrations: [new Sentry.BrowserTracing(), new Sentry.Replay()],
		sampleRate: 0.1,
		tracesSampleRate: 0.1,
		// Capture Replay for no sessions by default
		replaysSessionSampleRate: 0.01,
		// plus for 1% of sessions with an error
		replaysOnErrorSampleRate: 0.01,
		// PII OFF
		sendDefaultPii: false, // Off by default but just in case.
		environment: "production",
	});
}
</script>

<!-- Page view tracking -->
<script defer data-domain="training.galaxyproject.org" src="https://plausible.galaxyproject.eu/js/plausible.js"></script>
<script>
if(localStorage.getItem('plausible-opt-out') !== 'opt-out' && navigator.doNotTrack !== "1") {
	localStorage.removeItem("plausible_ignore")
	console.log("Plausible: opt-in");
	window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) }
} else {
	// if they're opting-out, or DNT
	// we might get one page by accident but we won't get future ones.
	localStorage.setItem("plausible_ignore", "true")
}
</script>

        
        <link rel="shortcut icon" href="/training-material/favicon.ico" type="image/x-icon">
        <link rel="alternate" type="application/atom+xml" href="/training-material/feed.xml">
        <link rel="canonical" href="https://training.galaxyproject.org/training-material/topics/introduction/tutorials/data-manipulation-olympics/tutorial.html">
        <link rel="license" href="https://spdx.org/licenses/CC-BY-4.0">
        <link rel="preload" href="/training-material/assets/fonts/AtkinsonHyperlegible/Atkinson-Hyperlegible-Regular-102a.woff2" as="font" type="font/woff2" crossorigin>
        <link rel="preload" href="/training-material/assets/fonts/AtkinsonHyperlegible/Atkinson-Hyperlegible-Bold-102a.woff2" as="font" type="font/woff2" crossorigin>
        <link rel="preload" href="/training-material/assets/fonts/AtkinsonHyperlegible/Atkinson-Hyperlegible-Italic-102a.woff2" as="font" type="font/woff2" crossorigin>
        
        <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" as="script" crossorigin>
        
        <link rel="preload" href="/training-material/assets/css/main.css?v=3" as="style">
        <link rel='preload' href='/training-material/assets/js/bundle.theme.f1f2de89.js' as='script'>
<link rel='preload' href='/training-material/assets/js/bundle.main.40d4e218.js' as='script'>
        <link rel="stylesheet" href="/training-material/assets/css/main.css?v=3">
        <link rel="manifest" href="/training-material/manifest.json">
        <meta name="theme-color" content="#2c3143"/>
	

        <meta name="DC.identifier" content="https://github.com/galaxyproject/training-material">
<meta name="DC.type" content="text">
<meta name="DC.title" content="Data Manipulation Olympics">
<meta name="DC.publisher" content="Galaxy Training Network">
<meta name="DC.date" content="2024-08-07 13:35:14 +0000">
<meta name="DC.creator" content="Saskia Hiltemann">
<meta name="DC.creator" content="Yongbin Li"><meta name="description" content="Galaxy is a scientific workflow, data integration, and data and analysis persistence and publishing platform that aims to make computational biology accessible to research scientists that do not have computer programming experience. ">
        <meta property="og:site_name" content="Galaxy Training Network">
	<meta property="og:title" content="Introduction to Galaxy Analyses / Data Manipulation Olympics / Hands-on: Data Manipulation Olympics">
        <meta property="og:description" content="Galaxy is a scientific workflow, data integration, and data and analysis persistence and publishing platform that aims to make computational biology accessible to research scientists that do not have computer programming experience. ">
        <meta property="og:image" content="https://galaxy-training.s3.amazonaws.com/social/topics/introduction/tutorials/data-manipulation-olympics/tutorial.png">
	<script type="application/ld+json">


{
  "@context": "http://schema.org",
  "@type": "LearningResource",
  "http://purl.org/dc/terms/conformsTo": {
    "@id": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
    "@type": "CreativeWork"
  },
  "audience": {
    "@type": "EducationalAudience",
    "educationalRole": "Students"
  },
  "citation": [
    {
      "@type": "CreativeWork",
      "name": "Galaxy Training: A Powerful Framework for Teaching!",
      "url": "https://doi.org/10.1371/journal.pcbi.1010752"
    },
    {
      "@type": "CreativeWork",
      "name": "Community-Driven Data Analysis Training for Biology",
      "url": "https://doi.org/10.1016/j.cels.2018.05.012"
    }
  ],
  "discussionUrl": "https://gitter.im/Galaxy-Training-Network/Lobby",
  "headline": "Data Manipulation Olympics",
  "interactivityType": "mixed",
  "isAccessibleForFree": true,
  "isFamilyFriendly": true,
  "license": "https://spdx.org/licenses/CC-BY-4.0.html",
  "producer": {
    "@type": "Organization",
    "http://purl.org/dc/terms/conformsTo": {
      "@id": "https://bioschemas.org/profiles/Organization/0.2-DRAFT-2019_07_19",
      "@type": "Organization"
    },
    "id": "https://training.galaxyproject.org",
    "email": "galaxytrainingnetwork@gmail.com",
    "name": "Galaxy Training Network",
    "legalName": "Galaxy Training Network",
    "alternateName": "GTN",
    "url": "https://training.galaxyproject.org",
    "logo": "https://training.galaxyproject.org/training-material/assets/images/GTNLogo1000.png",
    "fundingModel": "The GTN's infrastructure relies on GitHub and the Galaxy Project for hosting costs. There are no full time paid staff members of the GTN. Individuals are occasionally funded on GTN-adjacent projects.",
    "keywords": [
      "galaxy",
      "bioinformatics",
      "training",
      "fair",
      "accessible"
    ],
    "status": "active",
    "foundingDate": "2015-06-29",
    "socialMedia": "https://mstdn.science/@gtn",
    "type": "project"
  },
  "provider": {
    "@type": "Organization",
    "http://purl.org/dc/terms/conformsTo": {
      "@id": "https://bioschemas.org/profiles/Organization/0.2-DRAFT-2019_07_19",
      "@type": "Organization"
    },
    "id": "https://training.galaxyproject.org",
    "email": "galaxytrainingnetwork@gmail.com",
    "name": "Galaxy Training Network",
    "legalName": "Galaxy Training Network",
    "alternateName": "GTN",
    "url": "https://training.galaxyproject.org",
    "logo": "https://training.galaxyproject.org/training-material/assets/images/GTNLogo1000.png",
    "fundingModel": "The GTN's infrastructure relies on GitHub and the Galaxy Project for hosting costs. There are no full time paid staff members of the GTN. Individuals are occasionally funded on GTN-adjacent projects.",
    "keywords": [
      "galaxy",
      "bioinformatics",
      "training",
      "fair",
      "accessible"
    ],
    "status": "active",
    "foundingDate": "2015-06-29",
    "socialMedia": "https://mstdn.science/@gtn",
    "type": "project"
  },
  "sourceOrganization": {
    "@type": "Organization",
    "http://purl.org/dc/terms/conformsTo": {
      "@id": "https://bioschemas.org/profiles/Organization/0.2-DRAFT-2019_07_19",
      "@type": "Organization"
    },
    "id": "https://training.galaxyproject.org",
    "email": "galaxytrainingnetwork@gmail.com",
    "name": "Galaxy Training Network",
    "legalName": "Galaxy Training Network",
    "alternateName": "GTN",
    "url": "https://training.galaxyproject.org",
    "logo": "https://training.galaxyproject.org/training-material/assets/images/GTNLogo1000.png",
    "fundingModel": "The GTN's infrastructure relies on GitHub and the Galaxy Project for hosting costs. There are no full time paid staff members of the GTN. Individuals are occasionally funded on GTN-adjacent projects.",
    "keywords": [
      "galaxy",
      "bioinformatics",
      "training",
      "fair",
      "accessible"
    ],
    "status": "active",
    "foundingDate": "2015-06-29",
    "socialMedia": "https://mstdn.science/@gtn",
    "type": "project"
  },
  "workTranslation": [

  ],
  "creativeWorkStatus": "Active",
  "dateModified": "2024-08-07 13:35:14 +0000",
  "datePublished": "2022-07-20 16:55:39 +0000",
  "copyrightHolder": {
    "@type": "Organization",
    "http://purl.org/dc/terms/conformsTo": {
      "@id": "https://bioschemas.org/profiles/Organization/0.2-DRAFT-2019_07_19",
      "@type": "Organization"
    },
    "id": "https://training.galaxyproject.org",
    "email": "galaxytrainingnetwork@gmail.com",
    "name": "Galaxy Training Network",
    "legalName": "Galaxy Training Network",
    "alternateName": "GTN",
    "url": "https://training.galaxyproject.org",
    "logo": "https://training.galaxyproject.org/training-material/assets/images/GTNLogo1000.png",
    "fundingModel": "The GTN's infrastructure relies on GitHub and the Galaxy Project for hosting costs. There are no full time paid staff members of the GTN. Individuals are occasionally funded on GTN-adjacent projects.",
    "keywords": [
      "galaxy",
      "bioinformatics",
      "training",
      "fair",
      "accessible"
    ],
    "status": "active",
    "foundingDate": "2015-06-29",
    "socialMedia": "https://mstdn.science/@gtn",
    "type": "project"
  },
  "funder": [

  ],
  "funding": [
    {
      "@context": "https://schema.org",
      "@type": "Grant",
      "identifier": "2020-1-NL01-KA203-064717",
      "url": "https://erasmus-plus.ec.europa.eu/projects/search/details/2020-1-NL01-KA203-064717",
      "funder": {
        "@context": "https://schema.org",
        "@type": "Organization",
        "http://purl.org/dc/terms/conformsTo": {
          "@id": "https://bioschemas.org/profiles/Organization/0.3-DRAFT",
          "@type": "CreativeWork"
        },
        "name": "Gallantries: Bridging Training Communities in Life Science, Environment and Health",
        "description": "This project ([`2020-1-NL01-KA203-064717`](https://erasmus-plus.ec.europa.eu/projects/search/details/2020-1-NL01-KA203-064717)) is funded with the support of the Erasmus+ programme of the European Union. Their funding has supported a large number of tutorials within the GTN across a wide array of topics.\n![eu flag with the text: with the support of the erasmus programme of the european union](https://gallantries.github.io/assets/images/logosbeneficaireserasmusright_en.jpg)\n![erasmus plus logo](https://www.erasmusplus.nl/assets/images/logo.png)\n",
        "url": "https://www.erasmusplus.nl",
        "logo": "https://gallantries.github.io/assets/images/gallantries-logo.png"
      },
      "startDate": "2020-09-01",
      "endDate": "2023-09-30"
    }
  ],
  "identifier": "https://gxy.io/GTN:T00184",
  "accessMode": [
    "textual",
    "visual"
  ],
  "accessModeSufficient": [
    "textual",
    "visual"
  ],
  "accessibilityControl": [
    "fullKeyboardControl",
    "fullMouseControl"
  ],
  "accessibilityFeature": [
    "alternativeText",
    "tableOfContents"
  ],
  "accessibilitySummary": "The text aims to be as accessible as possible. Image descriptions will vary per tutorial, from images being completely inaccessible, to images with good descriptions for non-visual users.",
  "isPartOf": {
    "@type": "CreativeWork",
    "name": "Introduction to Galaxy Analyses",
    "description": "Galaxy is a scientific workflow, data integration, and data and analysis persistence and publishing platform that aims to make computational biology accessible to research scientists that do not have computer programming experience. ",
    "url": "https://training.galaxyproject.org/training-material/topics/introduction/"
  },
  "abstract": "Scientific analyses often consist of a number of tools that run one after the other, in order to go from the raw data to scientific insight. Between these specialized tools, simple data manipulation steps are often needed as a kind of \"glue\" between tools. For example, the output of tool A may produce a file that contains all the information needed as input for tool B, but tool B expects the columns in a different order. Or in genomic data analysis, some tools expect chromosome X to be listed as `chrX`, while others simply expect `X`. In these situations, extra data manipulation steps are needed to prepare files for input to analysis tools.",
  "learningResourceType": "e-learning",
  "name": "Data Manipulation Olympics",
  "url": "https://training.galaxyproject.org/training-material/topics/introduction/tutorials/data-manipulation-olympics/tutorial.html",
  "version": 10,
  "timeRequired": "PT1H",
  "teaches": "- Familiarize yourself with data manipulation tools in Galaxy\n- Perform basic text manipulation tasks in Galaxy\n- Become comfortable converting text-based files in a variety of ways.\n- Reason about the expected outcome of tools",
  "keywords": [
    "Introduction to Galaxy Analyses",
    "cyoa"
  ],
  "description": "## Abstract\n\nScientific analyses often consist of a number of tools that run one after the other, in order to go from the raw data to scientific insight. Between these specialized tools, simple data manipulation steps are often needed as a kind of \"glue\" between tools. For example, the output of tool A may produce a file that contains all the information needed as input for tool B, but tool B expects the columns in a different order. Or in genomic data analysis, some tools expect chromosome X to be listed as `chrX`, while others simply expect `X`. In these situations, extra data manipulation steps are needed to prepare files for input to analysis tools.\n\n\n## About This Material\n\nThis is a Hands-on Tutorial from the GTN which is usable either for individual self-study, or as a teaching material in a classroom.\n\n\n## Questions this  will address\n\n - How can I do basic data manipulation in Galaxy?\n - Which tools are available to convert, reformat, filter, sort etc my text-based data?\n\n\n## Learning Objectives\n\n- Familiarize yourself with data manipulation tools in Galaxy\n- Perform basic text manipulation tasks in Galaxy\n- Become comfortable converting text-based files in a variety of ways.\n- Reason about the expected outcome of tools\n\n",
  "inLanguage": {
    "@type": "Language",
    "name": "English",
    "alternateName": "en"
  },
  "author": [
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "http://purl.org/dc/terms/conformsTo": {
        "@id": "https://bioschemas.org/profiles/Person/0.3-DRAFT",
        "@type": "CreativeWork"
      },
      "url": "https://training.galaxyproject.org/training-material/hall-of-fame/shiltemann/",
      "mainEntityOfPage": "https://training.galaxyproject.org/training-material/hall-of-fame/shiltemann/",
      "name": "Saskia Hiltemann",
      "image": "https://avatars.githubusercontent.com/shiltemann",
      "description": "Researcher at Erasmus Medical Center",
      "memberOf": [
        {
          "@type": "Organization",
          "http://purl.org/dc/terms/conformsTo": {
            "@id": "https://bioschemas.org/profiles/Organization/0.2-DRAFT-2019_07_19",
            "@type": "Organization"
          },
          "id": "https://training.galaxyproject.org",
          "email": "galaxytrainingnetwork@gmail.com",
          "name": "Galaxy Training Network",
          "legalName": "Galaxy Training Network",
          "alternateName": "GTN",
          "url": "https://training.galaxyproject.org",
          "logo": "https://training.galaxyproject.org/training-material/assets/images/GTNLogo1000.png",
          "fundingModel": "The GTN's infrastructure relies on GitHub and the Galaxy Project for hosting costs. There are no full time paid staff members of the GTN. Individuals are occasionally funded on GTN-adjacent projects.",
          "keywords": [
            "galaxy",
            "bioinformatics",
            "training",
            "fair",
            "accessible"
          ],
          "status": "active",
          "foundingDate": "2015-06-29",
          "socialMedia": "https://mstdn.science/@gtn",
          "type": "project"
        },
        {
          "@context": "https://schema.org",
          "@type": "Organization",
          "http://purl.org/dc/terms/conformsTo": {
            "@id": "https://bioschemas.org/profiles/Organization/0.3-DRAFT",
            "@type": "CreativeWork"
          },
          "id": "https://training.galaxyproject.org/training-material/hall-of-fame/uni-freiburg/",
          "name": "University of Freiburg",
          "description": "An organization supporting the Galaxy Training Network",
          "url": "https://www.uni-freiburg.de/"
        },
        {
          "@context": "https://schema.org",
          "@type": "Organization",
          "http://purl.org/dc/terms/conformsTo": {
            "@id": "https://bioschemas.org/profiles/Organization/0.3-DRAFT",
            "@type": "CreativeWork"
          },
          "id": "https://training.galaxyproject.org/training-material/hall-of-fame/nfdi4plants/",
          "name": "DataPLANT (NFDI4Plants)",
          "description": "An organization supporting the Galaxy Training Network",
          "url": "https://nfdi4plants.org"
        },
        {
          "@context": "https://schema.org",
          "@type": "Organization",
          "http://purl.org/dc/terms/conformsTo": {
            "@id": "https://bioschemas.org/profiles/Organization/0.3-DRAFT",
            "@type": "CreativeWork"
          },
          "id": "https://training.galaxyproject.org/training-material/hall-of-fame/elixir-europe/",
          "name": "ELIXIR Europe",
          "description": "An organization supporting the Galaxy Training Network",
          "url": "https://elixir-europe.org"
        }
      ],
      "identifier": "https://orcid.org/0000-0003-3803-468X",
      "orcid": "https://orcid.org/0000-0003-3803-468X"
    },
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "http://purl.org/dc/terms/conformsTo": {
        "@id": "https://bioschemas.org/profiles/Person/0.3-DRAFT",
        "@type": "CreativeWork"
      },
      "url": "https://training.galaxyproject.org/training-material/hall-of-fame/lybCNU/",
      "mainEntityOfPage": "https://training.galaxyproject.org/training-material/hall-of-fame/lybCNU/",
      "name": "Yongbin Li",
      "image": "https://avatars.githubusercontent.com/lybCNU",
      "description": "A contributor to the GTN project.",
      "memberOf": [
        {
          "@type": "Organization",
          "http://purl.org/dc/terms/conformsTo": {
            "@id": "https://bioschemas.org/profiles/Organization/0.2-DRAFT-2019_07_19",
            "@type": "Organization"
          },
          "id": "https://training.galaxyproject.org",
          "email": "galaxytrainingnetwork@gmail.com",
          "name": "Galaxy Training Network",
          "legalName": "Galaxy Training Network",
          "alternateName": "GTN",
          "url": "https://training.galaxyproject.org",
          "logo": "https://training.galaxyproject.org/training-material/assets/images/GTNLogo1000.png",
          "fundingModel": "The GTN's infrastructure relies on GitHub and the Galaxy Project for hosting costs. There are no full time paid staff members of the GTN. Individuals are occasionally funded on GTN-adjacent projects.",
          "keywords": [
            "galaxy",
            "bioinformatics",
            "training",
            "fair",
            "accessible"
          ],
          "status": "active",
          "foundingDate": "2015-06-29",
          "socialMedia": "https://mstdn.science/@gtn",
          "type": "project"
        }
      ]
    }
  ],
  "contributor": [
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "http://purl.org/dc/terms/conformsTo": {
        "@id": "https://bioschemas.org/profiles/Person/0.3-DRAFT",
        "@type": "CreativeWork"
      },
      "url": "https://training.galaxyproject.org/training-material/hall-of-fame/hexylena/",
      "mainEntityOfPage": "https://training.galaxyproject.org/training-material/hall-of-fame/hexylena/",
      "name": "Helena Rasche",
      "image": "https://avatars.githubusercontent.com/hexylena",
      "description": "A contributor to the GTN project.",
      "memberOf": [
        {
          "@type": "Organization",
          "http://purl.org/dc/terms/conformsTo": {
            "@id": "https://bioschemas.org/profiles/Organization/0.2-DRAFT-2019_07_19",
            "@type": "Organization"
          },
          "id": "https://training.galaxyproject.org",
          "email": "galaxytrainingnetwork@gmail.com",
          "name": "Galaxy Training Network",
          "legalName": "Galaxy Training Network",
          "alternateName": "GTN",
          "url": "https://training.galaxyproject.org",
          "logo": "https://training.galaxyproject.org/training-material/assets/images/GTNLogo1000.png",
          "fundingModel": "The GTN's infrastructure relies on GitHub and the Galaxy Project for hosting costs. There are no full time paid staff members of the GTN. Individuals are occasionally funded on GTN-adjacent projects.",
          "keywords": [
            "galaxy",
            "bioinformatics",
            "training",
            "fair",
            "accessible"
          ],
          "status": "active",
          "foundingDate": "2015-06-29",
          "socialMedia": "https://mstdn.science/@gtn",
          "type": "project"
        },
        {
          "@context": "https://schema.org",
          "@type": "Organization",
          "http://purl.org/dc/terms/conformsTo": {
            "@id": "https://bioschemas.org/profiles/Organization/0.3-DRAFT",
            "@type": "CreativeWork"
          },
          "id": "https://training.galaxyproject.org/training-material/hall-of-fame/erasmusmc/",
          "name": "Erasmus Medical Center",
          "description": "An organization supporting the Galaxy Training Network",
          "url": "https://www.erasmusmc.nl"
        },
        {
          "@context": "https://schema.org",
          "@type": "Organization",
          "http://purl.org/dc/terms/conformsTo": {
            "@id": "https://bioschemas.org/profiles/Organization/0.3-DRAFT",
            "@type": "CreativeWork"
          },
          "id": "https://training.galaxyproject.org/training-material/hall-of-fame/gallantries/",
          "name": "Gallantries: Bridging Training Communities in Life Science, Environment and Health",
          "description": "An organization supporting the Galaxy Training Network",
          "url": "https://www.erasmusplus.nl"
        },
        {
          "@context": "https://schema.org",
          "@type": "Organization",
          "http://purl.org/dc/terms/conformsTo": {
            "@id": "https://bioschemas.org/profiles/Organization/0.3-DRAFT",
            "@type": "CreativeWork"
          },
          "id": "https://training.galaxyproject.org/training-material/hall-of-fame/by-covid/",
          "name": "BeYond-COVID",
          "description": "An organization supporting the Galaxy Training Network",
          "url": "https://by-covid.org/"
        },
        {
          "@context": "https://schema.org",
          "@type": "Organization",
          "http://purl.org/dc/terms/conformsTo": {
            "@id": "https://bioschemas.org/profiles/Organization/0.3-DRAFT",
            "@type": "CreativeWork"
          },
          "id": "https://training.galaxyproject.org/training-material/hall-of-fame/elixir-europe/",
          "name": "ELIXIR Europe",
          "description": "An organization supporting the Galaxy Training Network",
          "url": "https://elixir-europe.org"
        },
        {
          "@context": "https://schema.org",
          "@type": "Organization",
          "http://purl.org/dc/terms/conformsTo": {
            "@id": "https://bioschemas.org/profiles/Organization/0.3-DRAFT",
            "@type": "CreativeWork"
          },
          "id": "https://training.galaxyproject.org/training-material/hall-of-fame/elixir-converge/",
          "name": "ELIXIR-CONVERGE",
          "description": "An organization supporting the Galaxy Training Network",
          "url": "https://elixir-europe.org/about-us/how-funded/eu-projects/converge"
        }
      ],
      "identifier": "https://orcid.org/0000-0001-9760-8992",
      "orcid": "https://orcid.org/0000-0001-9760-8992"
    },
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "http://purl.org/dc/terms/conformsTo": {
        "@id": "https://bioschemas.org/profiles/Person/0.3-DRAFT",
        "@type": "CreativeWork"
      },
      "url": "https://training.galaxyproject.org/training-material/hall-of-fame/shiltemann/",
      "mainEntityOfPage": "https://training.galaxyproject.org/training-material/hall-of-fame/shiltemann/",
      "name": "Saskia Hiltemann",
      "image": "https://avatars.githubusercontent.com/shiltemann",
      "description": "Researcher at Erasmus Medical Center",
      "memberOf": [
        {
          "@type": "Organization",
          "http://purl.org/dc/terms/conformsTo": {
            "@id": "https://bioschemas.org/profiles/Organization/0.2-DRAFT-2019_07_19",
            "@type": "Organization"
          },
          "id": "https://training.galaxyproject.org",
          "email": "galaxytrainingnetwork@gmail.com",
          "name": "Galaxy Training Network",
          "legalName": "Galaxy Training Network",
          "alternateName": "GTN",
          "url": "https://training.galaxyproject.org",
          "logo": "https://training.galaxyproject.org/training-material/assets/images/GTNLogo1000.png",
          "fundingModel": "The GTN's infrastructure relies on GitHub and the Galaxy Project for hosting costs. There are no full time paid staff members of the GTN. Individuals are occasionally funded on GTN-adjacent projects.",
          "keywords": [
            "galaxy",
            "bioinformatics",
            "training",
            "fair",
            "accessible"
          ],
          "status": "active",
          "foundingDate": "2015-06-29",
          "socialMedia": "https://mstdn.science/@gtn",
          "type": "project"
        },
        {
          "@context": "https://schema.org",
          "@type": "Organization",
          "http://purl.org/dc/terms/conformsTo": {
            "@id": "https://bioschemas.org/profiles/Organization/0.3-DRAFT",
            "@type": "CreativeWork"
          },
          "id": "https://training.galaxyproject.org/training-material/hall-of-fame/uni-freiburg/",
          "name": "University of Freiburg",
          "description": "An organization supporting the Galaxy Training Network",
          "url": "https://www.uni-freiburg.de/"
        },
        {
          "@context": "https://schema.org",
          "@type": "Organization",
          "http://purl.org/dc/terms/conformsTo": {
            "@id": "https://bioschemas.org/profiles/Organization/0.3-DRAFT",
            "@type": "CreativeWork"
          },
          "id": "https://training.galaxyproject.org/training-material/hall-of-fame/nfdi4plants/",
          "name": "DataPLANT (NFDI4Plants)",
          "description": "An organization supporting the Galaxy Training Network",
          "url": "https://nfdi4plants.org"
        },
        {
          "@context": "https://schema.org",
          "@type": "Organization",
          "http://purl.org/dc/terms/conformsTo": {
            "@id": "https://bioschemas.org/profiles/Organization/0.3-DRAFT",
            "@type": "CreativeWork"
          },
          "id": "https://training.galaxyproject.org/training-material/hall-of-fame/elixir-europe/",
          "name": "ELIXIR Europe",
          "description": "An organization supporting the Galaxy Training Network",
          "url": "https://elixir-europe.org"
        }
      ],
      "identifier": "https://orcid.org/0000-0003-3803-468X",
      "orcid": "https://orcid.org/0000-0003-3803-468X"
    },
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "http://purl.org/dc/terms/conformsTo": {
        "@id": "https://bioschemas.org/profiles/Person/0.3-DRAFT",
        "@type": "CreativeWork"
      },
      "url": "https://training.galaxyproject.org/training-material/hall-of-fame/lybCNU/",
      "mainEntityOfPage": "https://training.galaxyproject.org/training-material/hall-of-fame/lybCNU/",
      "name": "Yongbin Li",
      "image": "https://avatars.githubusercontent.com/lybCNU",
      "description": "A contributor to the GTN project.",
      "memberOf": [
        {
          "@type": "Organization",
          "http://purl.org/dc/terms/conformsTo": {
            "@id": "https://bioschemas.org/profiles/Organization/0.2-DRAFT-2019_07_19",
            "@type": "Organization"
          },
          "id": "https://training.galaxyproject.org",
          "email": "galaxytrainingnetwork@gmail.com",
          "name": "Galaxy Training Network",
          "legalName": "Galaxy Training Network",
          "alternateName": "GTN",
          "url": "https://training.galaxyproject.org",
          "logo": "https://training.galaxyproject.org/training-material/assets/images/GTNLogo1000.png",
          "fundingModel": "The GTN's infrastructure relies on GitHub and the Galaxy Project for hosting costs. There are no full time paid staff members of the GTN. Individuals are occasionally funded on GTN-adjacent projects.",
          "keywords": [
            "galaxy",
            "bioinformatics",
            "training",
            "fair",
            "accessible"
          ],
          "status": "active",
          "foundingDate": "2015-06-29",
          "socialMedia": "https://mstdn.science/@gtn",
          "type": "project"
        }
      ]
    },
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "http://purl.org/dc/terms/conformsTo": {
        "@id": "https://bioschemas.org/profiles/Person/0.3-DRAFT",
        "@type": "CreativeWork"
      },
      "url": "https://training.galaxyproject.org/training-material/hall-of-fame/dirowa/",
      "mainEntityOfPage": "https://training.galaxyproject.org/training-material/hall-of-fame/dirowa/",
      "name": "Donny Vrins",
      "image": "https://avatars.githubusercontent.com/dirowa",
      "description": "A contributor to the GTN project.",
      "memberOf": [
        {
          "@type": "Organization",
          "http://purl.org/dc/terms/conformsTo": {
            "@id": "https://bioschemas.org/profiles/Organization/0.2-DRAFT-2019_07_19",
            "@type": "Organization"
          },
          "id": "https://training.galaxyproject.org",
          "email": "galaxytrainingnetwork@gmail.com",
          "name": "Galaxy Training Network",
          "legalName": "Galaxy Training Network",
          "alternateName": "GTN",
          "url": "https://training.galaxyproject.org",
          "logo": "https://training.galaxyproject.org/training-material/assets/images/GTNLogo1000.png",
          "fundingModel": "The GTN's infrastructure relies on GitHub and the Galaxy Project for hosting costs. There are no full time paid staff members of the GTN. Individuals are occasionally funded on GTN-adjacent projects.",
          "keywords": [
            "galaxy",
            "bioinformatics",
            "training",
            "fair",
            "accessible"
          ],
          "status": "active",
          "foundingDate": "2015-06-29",
          "socialMedia": "https://mstdn.science/@gtn",
          "type": "project"
        }
      ]
    }
  ],
  "about": [
    {
      "@type": "CreativeWork",
      "name": "Introduction to Galaxy Analyses",
      "description": "Galaxy is a scientific workflow, data integration, and data and analysis persistence and publishing platform that aims to make computational biology accessible to research scientists that do not have computer programming experience. ",
      "url": "https://training.galaxyproject.org/training-material/topics/introduction/"
    }
  ],
  "educationalLevel": "Beginner",
  "mentions": [
    {
      "@type": "Thing",
      "url": "https://training.galaxyproject.org/training-material/topics/introduction/tutorials/data-manipulation-olympics/workflows/",
      "name": "Associated Workflows"
    },
    {
      "@type": "Thing",
      "url": "https://zenodo.org/record/6803028",
      "name": "Associated Training Datasets"
    }
  ]
}</script></head>
    <body data-spy="scroll" data-target="#toc" data-brightness="auto" data-contrast="auto">
        <script  src='/training-material/assets/js/bundle.theme.f1f2de89.js'></script>
        <header>
    <nav class="navbar navbar-expand-md navbar-dark" aria-label="Site Navigation">
        <div class="container">
            <a class="navbar-brand" href="/training-material/">
                <img src="/training-material/assets/images/GTN-60px.png" height="30" alt="Galaxy Training Network logo">
                
                    Galaxy Training!
                
            </a>

            <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#top-navbar" aria-controls="top-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="top-navbar">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        
                        <a class="nav-link" href="/training-material/topics/introduction" title="Go back to list of tutorials">
                            <i class="far fa-folder" aria-hidden="true"></i> Introduction to Galaxy Analyses
                        </a>
                        
                    </li>

                    <li class="nav-item">
                        
                        <a class="nav-link" href="/training-material/learning-pathways" title="Learning Pathways">
                           <i class="fas fa-graduation-cap" aria-hidden="true"></i><span class="visually-hidden">curriculum</span> Learning Pathways
                        </a>
                        
                    </li>

                    <li class="nav-item dropdown">
    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-expanded="false" title="Help">
        <i class="far fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">help</span> Help
    </a>
    <div class="dropdown-menu dropdown-menu-right">
	<a class="dropdown-item" href="/training-material/faqs/index.html" title="Check our FAQs">
           <i class="far fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">question</span> FAQs
        </a>
        
        
        
        <a class="dropdown-item" href="/training-material/topics/introduction/faqs/" title="Check our FAQs for the Introduction to Galaxy Analyses topic">
           <i class="far fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">question</span> Topic FAQs
        </a>
        
        
        
        <a class="dropdown-item" href="https://help.galaxyproject.org/" title="Discuss on Galaxy Help">
            <i class="far fa-comments" aria-hidden="true"></i><span class="visually-hidden">feedback</span> Galaxy Help Forum
        </a>
        <a class="dropdown-item" href="https://gitter.im/Galaxy-Training-Network/Lobby" title="Discuss on gitter">
           <i class="fab fa-gitter" aria-hidden="true"></i><span class="visually-hidden">gitter</span> Discuss on Matrix
        </a>
    </div>
</li>


                    <li class="nav-item dropdown">
    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-expanded="false" title="Settings">
	<i class="fas fa-cog" aria-hidden="true"></i><span class="visually-hidden">galaxy-gear</span> Settings
    </a>
    <div class="dropdown-menu dropdown-menu-right">

	<h6 class="dropdown-header">Preferences</h6>

	<a href="/training-material/user/theme.html" class="dropdown-item">
		<i class="fas fa-palette" aria-hidden="true"></i><span class="visually-hidden">gtn-theme</span> Theme
	</a>

	<a href="/training-material/user/privacy.html" class="dropdown-item">
		<i class="fas fa-lock" aria-hidden="true"></i><span class="visually-hidden">pref-dataprivate</span> Data Privacy
	</a>

	<div class="dropdown-divider"></div>

	<h6 class="dropdown-header">For Everyone</h6>

        <a class="dropdown-item" href="https://github.com/galaxyproject/training-material/edit/main/topics/introduction/tutorials/data-manipulation-olympics/tutorial.md">
          <i class="fab fa-github" aria-hidden="true"></i><span class="visually-hidden">github</span> Propose a change or correction
        </a>

	<h6 class="dropdown-header">Instructor Utilities</h6>

        <a class="dropdown-item" href="/training-material/stats.html">
            <i class="fas fa-chart-column" aria-hidden="true"></i><span class="visually-hidden">galaxy-barchart</span> GTN statistics
        </a>

        <a class="dropdown-item" href="https://plausible.galaxyproject.eu/training.galaxyproject.org?period=12mo&page=/training-material/topics/introduction/tutorials/data-manipulation-olympics/tutorial.html">
            <i class="fas fa-chart-column" aria-hidden="true"></i><span class="visually-hidden">galaxy-barchart</span> Page View Metrics
        </a>

        <!-- link to feedback -->
        
            
            
                <a class="dropdown-item" href="/training-material/feedback.html">
                    <i class="fas fa-chart-column" aria-hidden="true"></i><span class="visually-hidden">galaxy-barchart</span> GTN feedback
                </a>
            
        

        <div class="dropdown-item">
            <div>
                <i class="fas fa-history" aria-hidden="true"></i><span class="visually-hidden">galaxy-rulebuilder-history</span> Previous Versions
            </div>

            <div id="archive-selector">
            
                <a class="btn btn-warning" href="https://training.galaxyproject.org/archive/">Older Versions</a>
            </div>

        </div>

    </div>
</li>


                    <!-- Search bar-->
                    <li class="nav-item">
                      <div id="navbarSupportedContent" role="search">
                        <!-- Search form -->
                        <form class="form-inline mr-auto" method="GET" action="/training-material/search2">
                          <i class="fas fa-search nav-link" aria-hidden="true"></i>
                          <div class="md-form mb-2">
                            <input name="query" class="form-control nicer" type="text" placeholder="Search Tutorials" aria-label="Search">
                          </div>
                        </form>
                      </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>

        
        <div class="container main-content" role="main">
        














<!-- Gitter -->






<article class="tutorial topic-introduction">
    <h1 data-toc-skip>Data Manipulation Olympics</h1>
    

    <section aria-labelledby="overview-box" id="tutorial-metadata">
    <div markdown="0">

	<div class="contributors-line">
		
<table class="contributions">
	
	<tr>
		<td><abbr title="These people wrote the bulk of the tutorial, they may have done the analysis, built the workflow, and wrote the text themselves.">Author(s)</abbr></td>
		<td>
			
  <a href="/training-material/hall-of-fame/shiltemann/" class="contributor-badge contributor-shiltemann"><img src="/training-material/assets/images/orcid.png" alt="orcid logo" width="36" height="36"/><img src="https://avatars.githubusercontent.com/shiltemann?s=36" alt="Saskia Hiltemann avatar" width="36" class="avatar" />
    Saskia Hiltemann</a>
  
  <a href="/training-material/hall-of-fame/lybCNU/" class="contributor-badge contributor-lybCNU"><img src="https://avatars.githubusercontent.com/lybCNU?s=36" alt="Yongbin Li avatar" width="36" class="avatar" />
    Yongbin Li</a>
  
		</td>
	</tr>
	

	

	

	

	

	
	<tr>
		<td><abbr title="These people edited the text, either for spelling and grammar, flow, GTN-fit, or other similar editing categories">Editor(s)</abbr></td>
		<td>
			
  <a href="/training-material/hall-of-fame/hexylena/" class="contributor-badge contributor-hexylena"><img src="/training-material/assets/images/orcid.png" alt="orcid logo" width="36" height="36"/><img src="https://avatars.githubusercontent.com/hexylena?s=36" alt="Helena Rasche avatar" width="36" class="avatar" />
    Helena Rasche</a>
  </td>
	</tr>
	

	

	
	<tr class="reviewers">
		<td><abbr title="These people reviewed this material for accuracy and correctness">Reviewers</abbr></td>
		<td>
			
  <a href="/training-material/hall-of-fame/shiltemann/" class="contributor-badge contributor-shiltemann">
    <img src="https://avatars.githubusercontent.com/shiltemann?s=36" alt="Saskia Hiltemann avatar" width="36" class="avatar" />
  </a>
  
  <a href="/training-material/hall-of-fame/lybCNU/" class="contributor-badge contributor-lybCNU">
    <img src="https://avatars.githubusercontent.com/lybCNU?s=36" alt="Yongbin Li avatar" width="36" class="avatar" />
  </a>
  
  <a href="/training-material/hall-of-fame/hexylena/" class="contributor-badge contributor-hexylena">
    <img src="https://avatars.githubusercontent.com/hexylena?s=36" alt="Helena Rasche avatar" width="36" class="avatar" />
  </a>
  
  <a href="/training-material/hall-of-fame/dirowa/" class="contributor-badge contributor-dirowa">
    <img src="https://avatars.githubusercontent.com/dirowa?s=36" alt="Donny Vrins avatar" width="36" class="avatar" />
  </a>
  </td>
	</tr>
	

	

	

</table>


	</div>

</div>


    <blockquote class="overview">
        <div id="overview-box" class="box-title">Overview</div>
        
        <img alt="Creative Commons License: CC-BY" class="float-right" style="border-width:0; display: inline-block; margin:0" src="/training-material/assets/images/cc-by.png" width="88" height="31"/>
        
        <strong><i class="far fa-question-circle" aria-hidden="true"></i> Questions:</strong>
        <ul>
        
        <li><p>How can I do basic data manipulation in Galaxy?</p>
</li>
        
        <li><p>Which tools are available to convert, reformat, filter, sort etc my text-based data?</p>
</li>
        
        </ul>

        <strong><i class="fas fa-bullseye" aria-hidden="true"></i> Objectives: </strong>
        <ul>
        
        <li><p>Familiarize yourself with data manipulation tools in Galaxy</p>
</li>
        
        <li><p>Perform basic text manipulation tasks in Galaxy</p>
</li>
        
        <li><p>Become comfortable converting text-based files in a variety of ways.</p>
</li>
        
        <li><p>Reason about the expected outcome of tools</p>
</li>
        
        </ul>

        

        
        <div><strong><i class="fas fa-hourglass-half" aria-hidden="true"></i> Time estimation:</strong> 1 hour</div>
        

        
        <div><strong><i class="fas fa-graduation-cap" aria-hidden="true"></i> Level: </strong>
        


 Introductory <span class="visually-hidden">Introductory</span>
<span class="level introductory" title="Introductory Tutorial">
  <i class="fas fa-graduation-cap" aria-hidden="true"></i> <i class="fas fa-graduation-cap" aria-hidden="true"></i> <i class="fas fa-graduation-cap" aria-hidden="true"></i>
</span>

</div>
        

        

        

        <div id="supporting-materials"><strong><i class="fa fa-external-link" aria-hidden="true"></i> Supporting Materials:</strong></div>
        <ul class="supporting_material">
            

            
                <li class="btn btn-default supporting_material">


<a class="btn btn-default topic-icon" title="Zenodo datasets used in this tutorial" href="https://zenodo.org/record/6803028">
    <i class="far fa-copy" aria-hidden="true"></i>&nbsp;Datasets
</a>

</li>
            

            
                <li class="btn btn-default supporting_material">


    <a class="btn btn-default topic-icon" href="/training-material/topics/introduction/tutorials/data-manipulation-olympics/workflows/" title="Data Manipulation Olympics workflows">
        <i class="fas fa-share-alt" aria-hidden="true"></i>&nbsp;Workflows
    </a>

</li>
            

            

            

            

            

            
            
            

            <!-- Check the GTN Video Library for recordings of this tutorial or associated slides -->
            












            
                
                <li class="btn btn-default supporting_material">






</li>
                
            
        </ul>

        <div><strong><i class="far fa-calendar" aria-hidden="true"></i> Published:</strong> Jul 20, 2022 </div>
        <div><strong><i class="far fa-calendar" aria-hidden="true"></i> Last modification:</strong> Aug 7, 2024 </div>
        <div><strong><i class="fas fa-balance-scale" aria-hidden="true"></i> License:</strong>
		
            Tutorial Content is licensed under
            
              <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
            
            The GTN Framework is licensed under <a rel="license" href="https://github.com/galaxyproject/training-material/blob/main/LICENSE.md">MIT</a>
        </div>
        
        <div><strong><i class="fas fa-fingerprint" aria-hidden="true"></i><span class="visually-hidden">purl</span> <abbr title="Persistent URL">PURL</abbr>:</strong> <a href="https://gxy.io/GTN:T00184">https://gxy.io/GTN:T00184</a> </div>
        

	
	

	
	
	<div><strong><i class="far fa-star" aria-hidden="true"></i><span class="visually-hidden">rating</span> Rating:</strong> <a href="#feedback-responses">4.8</a> (8 recent ratings, 18 all time)</div>
	
	<div><strong><i class="fas fa-code-commit" aria-hidden="true"></i><span class="visually-hidden">version</span> Revision:</strong> 10 </div>

    </blockquote>
    </section>

    <div class="container">
        <div class="row">
            <!-- sidebar, which will move to the top on a small screen -->
            <div class="col-sm-2 hide-when-printing">
                <nav id="toc" data-toggle="toc" class="sticky-top" aria-label="Table of Contents"></nav>
            </div>
            <div class="col-sm-10">
                 

                <section aria-label="Tutorial Content" id="tutorial-content">
                <p>Scientific analyses often consist of a number of tools that run one after the other, in order to go from the raw data to scientific insight. Between these specialized tools, simple data manipulation steps are often needed as a kind of “glue” between tools. For example, the output of tool A may produce a file that contains all the information needed as input for tool B, but tool B expects the columns in a different order. Or in genomic data analysis, some tools expect chromosome X to be listed as <code class="language-plaintext highlighter-rouge">chrX</code>, while others simply expect <code class="language-plaintext highlighter-rouge">X</code>. In these situations, extra data manipulation steps are needed to prepare files for input to analysis tools.</p>

<p>Galaxy has a large collection of tools to perform such basic data manipulation tasks, and becoming familiar with these operations will allow to perform your analysis more easily in Galaxy (and outside).</p>

<!--
Note to contributors: feel free to add sections here to include additional data manipulation options.
Make sure each section is independent of each other, i.e. each section should start with the olympics.tsv file.
Also make sure to include many exercises (with answers) for your section!
-->

<!-- set up some variables to easily update tool versions throughout tutorial, since most tools are used many times %} -->

<blockquote class="agenda">
  <div class="box-title agenda-title" id="agenda">Agenda</div>

  <p>In this tutorial, we will cover:</p>

<ol id="markdown-toc">
  <li><a href="#cheatsheet" id="markdown-toc-cheatsheet">Cheatsheet</a></li>
  <li><a href="#background" id="markdown-toc-background">Background</a></li>
  <li><a href="#upload-data" id="markdown-toc-upload-data">Upload Data</a>    <ol>
      <li><a href="#about-this-dataset" id="markdown-toc-about-this-dataset">About this dataset</a></li>
    </ol>
  </li>
  <li><a href="#choose-your-adventure" id="markdown-toc-choose-your-adventure">Choose your adventure!</a></li>
  <li><a href="#file-format-conversion" id="markdown-toc-file-format-conversion">File Format Conversion</a>    <ol>
      <li><a href="#converting-vs-changing-the-datatype" id="markdown-toc-converting-vs-changing-the-datatype">Converting vs Changing the datatype</a></li>
    </ol>
  </li>
  <li><a href="#sorting" id="markdown-toc-sorting">Sorting</a>    <ol>
      <li><a href="#sort-on-multiple-columns-at-once" id="markdown-toc-sort-on-multiple-columns-at-once">Sort on multiple columns at once</a></li>
      <li><a href="#exercises" id="markdown-toc-exercises">Exercises</a></li>
    </ol>
  </li>
  <li><a href="#filtering" id="markdown-toc-filtering">Filtering</a>    <ol>
      <li><a href="#advanced-filtering-with-python-syntax" id="markdown-toc-advanced-filtering-with-python-syntax">Advanced Filtering with Python Syntax</a></li>
      <li><a href="#exercises-1" id="markdown-toc-exercises-1">Exercises</a></li>
    </ol>
  </li>
  <li><a href="#counting" id="markdown-toc-counting">Counting</a>    <ol>
      <li><a href="#exercises-2" id="markdown-toc-exercises-2">Exercises</a></li>
    </ol>
  </li>
  <li><a href="#grouping" id="markdown-toc-grouping">Grouping</a>    <ol>
      <li><a href="#grouping-on-multiple-columns" id="markdown-toc-grouping-on-multiple-columns">Grouping on multiple columns</a></li>
      <li><a href="#exercises-3" id="markdown-toc-exercises-3">Exercises</a></li>
    </ol>
  </li>
  <li><a href="#computing" id="markdown-toc-computing">Computing</a>    <ol>
      <li><a href="#exercises-4" id="markdown-toc-exercises-4">Exercises</a></li>
    </ol>
  </li>
  <li><a href="#find-and-replace" id="markdown-toc-find-and-replace">Find and Replace</a>    <ol>
      <li><a href="#exercises-5" id="markdown-toc-exercises-5">Exercises</a></li>
    </ol>
  </li>
  <li><a href="#removing-columns" id="markdown-toc-removing-columns">Removing Columns</a>    <ol>
      <li><a href="#exercises-6" id="markdown-toc-exercises-6">Exercises</a></li>
    </ol>
  </li>
  <li><a href="#unique" id="markdown-toc-unique">Unique</a></li>
  <li><a href="#joining-files" id="markdown-toc-joining-files">Joining Files</a></li>
  <li><a href="#concatenating" id="markdown-toc-concatenating">Concatenating</a></li>
  <li><a href="#splitting-files" id="markdown-toc-splitting-files">Splitting Files</a>    <ol>
      <li><a href="#exercises-7" id="markdown-toc-exercises-7">Exercises</a></li>
    </ol>
  </li>
  <li><a href="#conclusion" id="markdown-toc-conclusion">Conclusion</a></li>
  <li><a href="#exercises-putting-it-all-together" id="markdown-toc-exercises-putting-it-all-together">Exercises: Putting it all together!</a></li>
</ol>

</blockquote>

<h1 id="cheatsheet">Cheatsheet</h1>

<p>Here is an overview table of the different data manipulations in this tutorial, with links to the tools in Galaxy.</p>

<p>If you’ve opened this tutorial via the <i class="fas fa-graduation-cap" aria-hidden="true"></i><span class="visually-hidden">level</span> icon in Galaxy (top menu bar), you can click on the tool names in the last column to quickly open them in Galaxy and start using them on your own!</p>

<!-- GTN:IGNORE:006 -->

<table>
  <thead>
    <tr>
      <th>Operation</th>
      <th>Description</th>
      <th>Galaxy Tool</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Convert format</td>
      <td>Change the file format</td>
      <td><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">galaxy-pencil</span> Edit attributes</td>
    </tr>
    <tr>
      <td>Word count</td>
      <td>Count the number of lines, words and characters in a file</td>
      <td><span class="tool" data-tool="wc_gnu" title="Line/Word/Character count tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Line/Word/Character count</strong></span></td>
    </tr>
    <tr>
      <td>Sort on a column</td>
      <td>Change the order of the rows based on values in one or more columns</td>
      <td><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/1.1.1" title="Sort tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Sort</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.1)</span></td>
    </tr>
    <tr>
      <td>Filter</td>
      <td>Remove rows based on values in one or more columns</td>
      <td><span class="tool" data-tool="Filter1" title="Filter tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Filter</strong></span></td>
    </tr>
    <tr>
      <td>Counting</td>
      <td>Count occurrences of values in a column</td>
      <td><span class="tool" data-tool="Count1" title="Count tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Count</strong></span> , <span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/iuc/datamash_ops/datamash_ops/1.1.0+galaxy2" title="Datamash tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Datamash</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.0+galaxy2)</span></td>
    </tr>
    <tr>
      <td>Group on a column</td>
      <td>And perform simple operations (count, mean, min, max etc)</td>
      <td><span class="tool" data-tool="Grouping1" title="Group tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Group</strong></span> , <span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/iuc/datamash_ops/datamash_ops/1.1.0+galaxy2" title="Datamash tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Datamash</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.0+galaxy2)</span></td>
    </tr>
    <tr>
      <td>Compute on rows</td>
      <td>to derive new column values from existing ones</td>
      <td><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/devteam/column_maker/Add_a_column1/2.0" title="Compute tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Compute</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 2.0)</span></td>
    </tr>
    <tr>
      <td>Find and Replace</td>
      <td>in a specific column</td>
      <td><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/galaxyp/regex_find_replace/regexColumn1/1.0.1" title="Column Regex Find and Replace tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Column Regex Find and Replace</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.0.1)</span></td>
    </tr>
    <tr>
      <td>Find and Replace</td>
      <td>on every line</td>
      <td><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/galaxyp/regex_find_replace/regex1/1.0.1" title="Regex Find and Replace tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Regex Find and Replace</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.0.1)</span></td>
    </tr>
    <tr>
      <td>Join two Datasets</td>
      <td>side by side on a specified field</td>
      <td><span class="tool" data-tool="join1" title="Join two Datasets tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Join two Datasets</strong></span></td>
    </tr>
    <tr>
      <td>Concatenate datasets</td>
      <td>one after the other</td>
      <td><span class="tool" data-tool="cat1" title="Concatenate datasets tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Concatenate datasets</strong></span></td>
    </tr>
    <tr>
      <td>Remove Beginning</td>
      <td>Good for removing header lines</td>
      <td><span class="tool" data-tool="Remove beginning1" title="Remove beginning of a file tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Remove beginning of a file</strong></span></td>
    </tr>
    <tr>
      <td>Select First lines</td>
      <td>Good for finding top 10s or saving header lines</td>
      <td><span class="tool" data-tool="Show beginning1" title="Select first lines tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Select first lines</strong></span></td>
    </tr>
    <tr>
      <td>Cut Columns</td>
      <td>By header name</td>
      <td><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/iuc/column_remove_by_header/column_remove_by_header/0.0.1" title="Remove columns by heading tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Remove columns by heading</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 0.0.1)</span></td>
    </tr>
    <tr>
      <td>Cut Columns</td>
      <td>By column number</td>
      <td><span class="tool" data-tool="Cut1" title="Cut columns from a table tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Cut columns from a table</strong></span>, <span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cut_tool/1.1.0" title="Advanced Cut columns from a table tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Advanced Cut columns from a table</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.0)</span></td>
    </tr>
    <tr>
      <td>Paste</td>
      <td>Two files side by side</td>
      <td><span class="tool" data-tool="Paste1" title="Paste tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Paste</strong></span></td>
    </tr>
    <tr>
      <td>Split file</td>
      <td>Based on values of a column</td>
      <td><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/bgruening/split_file_on_column/tp_split_on_column/0.6" title="Split tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Split</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 0.6)</span></td>
    </tr>
    <tr>
      <td>Unique</td>
      <td>Remove duplicate rows</td>
      <td><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sorted_uniq/1.1.0" title="Unique tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Unique</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.0)</span></td>
    </tr>
  </tbody>
</table>

<p><strong>TIP: Adding tools to your Favourites:</strong> If you find yourself frequently using the same tool often but struggle to find it back in the long list of tools, you can <strong>star</strong> your favourite tools in Galaxy!</p>

<!--SNIPPET-->
<blockquote class="tip">   <div class="box-title tip-title" id="tip-organizing-the-tool-panel"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-organizing-the-tool-panel" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> <span>Tip: Organizing the tool panel</span><span class="fold-unfold fa fa-minus-square"></span></button></div>   <p>Galaxy servers can have a lot of tools available, which can make it challenging to find the tool you are looking for. To help find your favourite tools, you can:</p>   <ul>   <li><strong>Keep a list of your favourite tools</strong> to find them back easily later.     <ul>       <li><strong>Adding tools to your favourites</strong>         <ul>           <li>Open a tool</li>           <li>Click on the <strong>star icon</strong> <i class="far fa-star" aria-hidden="true"></i><span class="visually-hidden">galaxy-star</span> next to the tool name to add it to your favourites</li>         </ul>       </li>       <li><strong>Viewing your favourite tools</strong>         <ul>           <li>Click on the <strong>star icon</strong> <i class="far fa-star" aria-hidden="true"></i><span class="visually-hidden">galaxy-star</span> at the top of the Galaxy tool panel (above the tool search bar)</li>           <li>This will filter the toolbox to show all your starred tools</li>         </ul>       </li>     </ul>   </li>   <li><strong>Change the tool panel view</strong>     <ul>       <li>Click on the <i class="fas fa-list" aria-hidden="true"></i><span class="visually-hidden">galaxy-panelview</span> icon at the top of the Galaxy tool panel (above the tool search bar)</li>       <li>Here you can view the tools by EDAM ontology terms         <ul>           <li>EDAM Topics (e.g. biology, ecology)</li>           <li>EDAM Operations (e.g. quality control, variant analysis)</li>           <li>You can always get back to the default view by choosing <strong>“Full Tool Panel”</strong></li>         </ul>       </li>     </ul>   </li> </ul> </blockquote>
<p><!--END_SNIPPET--></p>

<p>In this tutorial, these tools are explained in more detail, and we provide some exercises for you to practice.</p>

<h1 id="background">Background</h1>

<p>In this tutorial, we will use as our dataset a table with results from the Olympics, from the games in Athens in 1896 until Tokyo in 2020. The objective is to familiarize you with a large number of the most important data manipulation tools in Galaxy. Much like the Olympics, there are many different disciplines (types of operations), and for each operation there are often multiple techniques (tools) available to athletes (data analysts, you) that are great for achieving the goal.</p>

<p><a href="./images/cover.jpg" rel="noopener noreferrer"><img src="./images/cover.jpg" alt="image of olympic rings, logo and two athletes around the words &quot;Data Analysis Olympics&quot;. " width="320" height="180" loading="lazy" /></a></p>

<p>We will show you many of these commonly needed data manipulation operations, and some examples of how to perform them in Galaxy. We also provide many exercises so that you can train your skills and become a data manipulation Olympian!</p>

<h1 id="upload-data">Upload Data</h1>

<p>Before we can do any manipulation, we will need some data. Let’s upload our table with Olympics results now.</p>

<blockquote class="notranslate hands_on">
  <div class="box-title hands-on-title" id="hands-on-get-data"><i class="fas fa-pencil-alt" aria-hidden="true" ></i> Hands-on: Get data</div>

  <ol>
    <li>
      <p><span class="tool" data-tool="upload1" title="Import tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Import</strong></span> the file <code class="language-plaintext highlighter-rouge">olympics.tsv</code> via link</p>

      <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://zenodo.org/record/6803028/files/olympics.tsv
</code></pre></div>      </div>

      <!--SNIPPET-->
      <blockquote class="tip">   <div class="box-title tip-title" id="tip-importing-via-links"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-importing-via-links" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> <span>Tip: Importing via links</span><span class="fold-unfold fa fa-minus-square"></span></button></div>   <ul>   <li>Copy the link location</li>   <li>     <p>Click <i class="fas fa-upload" aria-hidden="true"></i><span class="visually-hidden">galaxy-upload</span> <strong>Upload Data</strong> at the top of the tool panel</p>   </li>   <li>Select <i class="fa fa-edit" aria-hidden="true"></i><span class="visually-hidden">galaxy-wf-edit</span> <strong>Paste/Fetch Data</strong></li>   <li>     <p>Paste the link(s) into the text field</p>   </li>   <li>     <p>Press <strong>Start</strong></p>   </li>   <li><strong>Close</strong> the window</li> </ul> </blockquote>
      <p><!--END_SNIPPET--></p>
    </li>
    <li>
      <p><strong>Expand</strong> on the item in your history to see some metadata and a short preview of the contents.</p>
    </li>
    <li>
      <p><strong>View</strong> <i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">galaxy-eye</span> the dataset by clicking on the eye icon.</p>

      <blockquote class="question">
        <div class="box-title question-title" id="question"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <ol>
          <li>What is the format of the file?</li>
          <li>What does each row represent?</li>
          <li>How many lines are in the file? (Hint: <span class="tool" data-tool="wc_gnu" title="Line/Word/Character count tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Line/Word/Character count</strong></span>)</li>
          <li>How many columns?</li>
        </ol>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution"><button class="gtn-boxify-button solution" type="button" aria-controls="solution" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>When you expand the <code class="language-plaintext highlighter-rouge">olympics.tsv</code> dataset in your history (see also screenshot below), you will see <code class="language-plaintext highlighter-rouge">format: tabular</code>, this is another term for a tab-separated (<code class="language-plaintext highlighter-rouge">tsv</code>) file.</li>
            <li>Each row represents an athlete’s participation in an event. If an athlete competes in multiple events, there is a line for each event.</li>
            <li>234,523. Look at the expanded view in your history, this tells us there are ~250,000 rows in the dataset. We can get the exact number using the  <span class="tool" data-tool="wc_gnu" title="Line/Word/Character count tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Line/Word/Character count</strong></span> tool.</li>
            <li>There are 17 columns in this file. There are multiple ways to find this answer:
              <ul>
                <li>Count the columns manually (only doable for small files)</li>
                <li>In the expanded view, scroll sideways on the dataset preview, at the top the columns are numbered</li>
                <li>Click on the <i class="fas fa-info-circle" aria-hidden="true"></i><span class="visually-hidden">galaxy-info</span> i icon on the dataset, here you will find more detailed information about the file and the job that created it.
At the bottom is also a preview (peek) of the dataset, and numbered columns</li>
              </ul>
            </li>
          </ol>

          <p><a href="./images/columns-number.png" rel="noopener noreferrer"><img src="./images/columns-number.png" alt="a screenshot of the expanded view of the dataset in the history, it shows the datatype, number of lines in the file, and a preview&gt;    &gt; &gt; of the dataset with numbered columns. " width="373" height="403" loading="lazy" /></a></p>

        </blockquote>
      </blockquote>
    </li>
  </ol>

</blockquote>

<h2 id="about-this-dataset">About this dataset</h2>

<p>The data was <a href="https://github.com/UOSCS/Olympic_Athletes">obtained</a> from <a href="https://www.olympedia.org/">Olympedia</a>. The file <code class="language-plaintext highlighter-rouge">olympics.tsv</code> contains
234,522 rows and 17 columns. Each row corresponds to an individual athlete competing in an individual Olympic event. The columns are:</p>

<ul>
  <li><strong>athlete_id</strong> - Unique number for each athlete</li>
  <li><strong>name</strong> - Athlete’s name</li>
  <li><strong>sex</strong> - M or F</li>
  <li><strong>birth_year</strong> - 4-digit number</li>
  <li><strong>birth_day</strong> - e.g. 24 July</li>
  <li><strong>birth_place</strong> - town and/or country</li>
  <li><strong>height</strong> - In centimeters (or <code class="language-plaintext highlighter-rouge">NA</code> if data not known)</li>
  <li><strong>weight</strong> - In kilograms (or <code class="language-plaintext highlighter-rouge">NA</code> if data not known)</li>
  <li><strong>team</strong> - Team name</li>
  <li><strong>noc</strong> - National Olympic Committee 3-letter code</li>
  <li><strong>games</strong> - Year and season</li>
  <li><strong>year</strong> - Integer</li>
  <li><strong>season</strong> - Summer or Winter</li>
  <li><strong>city</strong> - Host city</li>
  <li><strong>sport</strong> - Sport</li>
  <li><strong>event</strong> - Event</li>
  <li><strong>medal</strong> - Gold, Silver, Bronze (or <code class="language-plaintext highlighter-rouge">NA</code> if no medal was won)</li>
</ul>

<p>We will use this dataset to practice our data manipulation skills in Galaxy.</p>

<h1 id="choose-your-adventure">Choose your adventure!</h1>

<p>This tutorial is structured a bit differently than most. <strong>You do not have to do the steps in the order they are presented below.</strong> Every section in this tutorial uses the dataset you just uploaded (the <code class="language-plaintext highlighter-rouge">olympics.tsv</code> file) as input, so you can jump to any section in this tutorial right now if you have a particular data manipulation operation in mind you want to learn more about.</p>

<h1 id="file-format-conversion">File Format Conversion</h1>

<p>The file we uploaded is a <code class="language-plaintext highlighter-rouge">.tsv</code> file. This stands for <em>tab-separated values</em>. This means that this is a file containing rows and columns, where a TAB character is used to signify a column ends and a new one begins. Galaxy is great at understanding tab-separated files files, and most of the data manipulation tools are designed to work with such files.</p>

<p>A similar format you may come across a lot in data science, is the <code class="language-plaintext highlighter-rouge">.csv</code> file, or <em>comma-separated values</em> file. This is the same as <code class="language-plaintext highlighter-rouge">.tsv</code>, but uses comma (<code class="language-plaintext highlighter-rouge">,</code>) characters to indicate new columns, instead of TAB (<code class="language-plaintext highlighter-rouge">\t</code>) characters.</p>

<p>Galaxy can convert these two formats into each other.</p>

<blockquote class="notranslate hands_on">
  <div class="box-title hands-on-title" id="hands-on-convert-tabular-to-csv"><i class="fas fa-pencil-alt" aria-hidden="true" ></i> Hands-on: Convert Tabular to CSV</div>

  <ol>
    <li>
      <p>Convert the <code class="language-plaintext highlighter-rouge">olympics.tsv</code> file into a CSV file</p>

      <!--SNIPPET-->
      <blockquote class="tip">   <div class="box-title tip-title" id="tip-converting-the-file-format"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-converting-the-file-format" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> <span>Tip: Converting the file format</span><span class="fold-unfold fa fa-minus-square"></span></button></div>   <ul>   <li>Click on the <i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">galaxy-pencil</span> <strong>pencil icon</strong> for the dataset to edit its attributes</li>   <li>In the central panel, click on the <i class="fas fa-cog" aria-hidden="true"></i><span class="visually-hidden">galaxy-gear</span> <strong>Convert</strong> tab on the top</li>   <li>In the upper part <i class="fas fa-cog" aria-hidden="true"></i><span class="visually-hidden">galaxy-gear</span> <strong>Convert</strong>, select <code class="language-plaintext highlighter-rouge">csv (using 'Convert tabular to CSV')</code></li>   <li>Click the <strong>Create dataset</strong> button to start the conversion.</li> </ul> </blockquote>
      <p><!--END_SNIPPET--></p>
    </li>
    <li>
      <p><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">galaxy-eye</span> <strong>View the converted dataset</strong></p>

      <blockquote class="question">
        <div class="box-title question-title" id="question-1"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <ol>
          <li>What do you notice?</li>
          <li>Why are some values in quotes?</li>
        </ol>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-1"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-1" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>Galaxy does not display the table as nicely as before.
This is because Galaxy is optimized to work with <code class="language-plaintext highlighter-rouge">tsv</code> files. For most rows you now see commas separating the different columns.</li>
            <li>If the data in a column contains a comma (e.g. in this file we have events such as <code class="language-plaintext highlighter-rouge">swimming 5,000 meters</code>), we put the value in quotes to signifiy that that comma is part of the data, not a column delimiter.</li>
          </ol>

        </blockquote>
      </blockquote>
    </li>
  </ol>

</blockquote>

<h2 id="converting-vs-changing-the-datatype">Converting vs Changing the datatype</h2>

<p>The <strong>file format conversion</strong> step changed the dataset itself (by changing TABs to commas), and therefore created another dataset in your history. It is also possible to <strong>change the datatype</strong>; this does not change the underlying file/data, but just tells Galaxy what type of file it is. Galaxy uses this information in a variety of ways, such as:</p>
<ul>
  <li>How to display the data when you click the <i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">galaxy-eye</span> <strong>View</strong> button</li>
  <li>Which visualization options to offer</li>
  <li>Filtering the list of possible inputs for tools (to only allow those of the correct datatype and protect you from mistakes)</li>
  <li>Which file format conversions to make available</li>
  <li>etc..</li>
</ul>

<p>When you upload a file to Galaxy, by default it will attempt to auto-detect the file format. This is very often correct, but some times you may need to manually set the datatype to the correct value.</p>

<blockquote class="notranslate hands_on">
  <div class="box-title hands-on-title" id="hands-on-change-datatype-from-tabular-to-txt"><i class="fas fa-pencil-alt" aria-hidden="true" ></i> Hands-on: Change datatype from Tabular to TXT</div>

  <ol>
    <li>
      <p><strong>Change</strong> the datatype of the <code class="language-plaintext highlighter-rouge">olympics.tsv</code> file to <code class="language-plaintext highlighter-rouge">txt</code>.</p>

      <!--SNIPPET-->
      <blockquote class="tip">   <div class="box-title tip-title" id="tip-changing-the-datatype"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-changing-the-datatype" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> <span>Tip: Changing the datatype</span><span class="fold-unfold fa fa-minus-square"></span></button></div>   <ul>   <li>Click on the <i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">galaxy-pencil</span> <strong>pencil icon</strong> for the dataset to edit its attributes</li>   <li>In the central panel, click <i class="fas fa-database" aria-hidden="true"></i><span class="visually-hidden">galaxy-chart-select-data</span> <strong>Datatypes</strong> tab on the top</li>   <li>In the <i class="fas fa-database" aria-hidden="true"></i><span class="visually-hidden">galaxy-chart-select-data</span> <strong>Assign Datatype</strong>, select <code class="language-plaintext highlighter-rouge">txt</code> from “<em>New type</em>” dropdown     <ul>       <li>Tip: you can start typing the datatype into the field to filter the dropdown menu</li>     </ul>   </li>   <li>Click the <strong>Save</strong> button</li> </ul> </blockquote>
      <p><!--END_SNIPPET--></p>
    </li>
    <li>
      <p><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">galaxy-eye</span> <strong>View the dataset</strong> again</p>

      <blockquote class="question">
        <div class="box-title question-title" id="question-2"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <ol>
          <li>What do you see?</li>
          <li>Why didn’t this step create a new item in your history?</li>
        </ol>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-2"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-2" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>
              <p>Since Galaxy now no longer know that this is a tabular file with rows and columns,
it displays the data as-is, no longer arranging the view into neat columns.</p>
            </li>
            <li>
              <p>The file itself did not change, only the metadata. We simply told Galaxy to treat this file as a plain text file, instead of a tabular file.</p>
            </li>
          </ol>

        </blockquote>
      </blockquote>
    </li>
    <li>
      <p><strong>Change</strong> the file back from <code class="language-plaintext highlighter-rouge">txt</code> to <code class="language-plaintext highlighter-rouge">tabular</code></p>

      <!--SNIPPET-->
      <blockquote class="tip">   <div class="box-title tip-title" id="tip-changing-the-datatype-1"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-changing-the-datatype-1" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> <span>Tip: Changing the datatype</span><span class="fold-unfold fa fa-minus-square"></span></button></div>   <ul>   <li>Click on the <i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">galaxy-pencil</span> <strong>pencil icon</strong> for the dataset to edit its attributes</li>   <li>In the central panel, click <i class="fas fa-database" aria-hidden="true"></i><span class="visually-hidden">galaxy-chart-select-data</span> <strong>Datatypes</strong> tab on the top</li>   <li>In the <i class="fas fa-database" aria-hidden="true"></i><span class="visually-hidden">galaxy-chart-select-data</span> <strong>Assign Datatype</strong>, select <code class="language-plaintext highlighter-rouge">tabular</code> from “<em>New type</em>” dropdown     <ul>       <li>Tip: you can start typing the datatype into the field to filter the dropdown menu</li>     </ul>   </li>   <li>Click the <strong>Save</strong> button</li> </ul> </blockquote>
      <p><!--END_SNIPPET--></p>
    </li>
  </ol>

</blockquote>

<h1 id="sorting">Sorting</h1>

<p>We have a lot of data in this file, but it is ordered by the athlete ID number, which is a somewhat arbitrary and meaningless number. But we can sort the rows in this file to something more convenient, for example alphabetically by name of the athlete, or chronologically by year of the Olympics.</p>

<blockquote class="notranslate hands_on">
  <div class="box-title hands-on-title" id="hands-on-sort-table-based-on-a-column"><i class="fas fa-pencil-alt" aria-hidden="true" ></i> Hands-on: Sort table based on a column</div>

  <ol>
    <li>
      <p>We will sort the file in chronological order based on the year of the Olympic games</p>

      <blockquote class="question">
        <div class="box-title question-title" id="question-3"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <ol>
          <li>Which column contains the year?</li>
          <li>Do we want ascending or descending order if we want the oldest games at the top?</li>
          <li>What should we do with the very first row (the one with the header names?)</li>
        </ol>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-3"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-3" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>Column 12</li>
            <li>The file should be sorted in ascending (increasing) order</li>
            <li>The header line should always stay on top, so we want to ignore it when we sort the file.</li>
          </ol>

        </blockquote>
      </blockquote>
    </li>
    <li>Open the <span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/1.1.1" title="Sort - data in ascending or descending order tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Sort - data in ascending or descending order</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.1)</span> tool
      <ul>
        <li>Read the help text at the bottom of the tool form</li>
        <li>Which settings do you think we need to use?</li>
      </ul>
    </li>
    <li><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/1.1.1" title="Sort - data in ascending or descending order tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Sort - data in ascending or descending order</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.1)</span> with the following parameters:
      <ul>
        <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Sort Query”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
        <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Number of header lines”</em>: <code class="language-plaintext highlighter-rouge">1</code>`</li>
        <li>Column selections
          <ul>
            <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“on column”</em>: <code class="language-plaintext highlighter-rouge">Column 12</code></li>
            <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“in”</em>: <code class="language-plaintext highlighter-rouge">Ascending order</code></li>
            <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Flavor”</em>: <code class="language-plaintext highlighter-rouge">Fast numeric sort</code></li>
          </ul>
        </li>
      </ul>
    </li>
    <li>
      <p><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">galaxy-eye</span> <strong>View</strong> the sorted file.</p>

      <blockquote class="question">
        <div class="box-title question-title" id="question-4"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <p>Which athlete is listed at the top of the file now?</p>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-4"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-4" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>J. Defert. Who competed in a Tennis event 1896 Summer Olympics in Athens.</li>
          </ol>

        </blockquote>
      </blockquote>
    </li>
    <li><strong>Rename</strong> <i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">galaxy-pencil</span> the resulting file to somthing meaningful (e.g. <code class="language-plaintext highlighter-rouge">Olympics in chronological order</code>)
      <ul>
        <li>It can be easy to lose track of what steps you have performed and what each output contains, especially if you are doing many
data manipulation steps. Do future-you a favour and give datasets good names!</li>
      </ul>
    </li>
  </ol>

</blockquote>

<p>This is great, but maybe it would make more sense to sort alphabetically by athlete name <em>within each year</em>.</p>

<h2 id="sort-on-multiple-columns-at-once">Sort on multiple columns at once</h2>

<p>So we want to sort twice, first by year, an then within each year, we sort again alphabetically by name. The sort tool can do this!</p>

<blockquote class="notranslate hands_on">
  <div class="box-title hands-on-title" id="hands-on-sort-table-based-on-a-column-1"><i class="fas fa-pencil-alt" aria-hidden="true" ></i> Hands-on: Sort table based on a column</div>

  <ol>
    <li>
      <p>We will sort the file in chronological order based on the year of the Olympic games</p>

      <blockquote class="question">
        <div class="box-title question-title" id="question-5"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <ol>
          <li>Which column contains athlete names?</li>
          <li>Do we want ascending or descending order if we want to sort alphabetically with A first?</li>
        </ol>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-5"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-5" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>Column 2</li>
            <li>The file should be sorted in ascending (increasing) order</li>
          </ol>

        </blockquote>
      </blockquote>
    </li>
    <li><i class="fas fa-redo" aria-hidden="true"></i><span class="visually-hidden">galaxy-refresh</span> <strong>Rerun</strong> the sort tool with the following parameters:
      <ul>
        <li>All parameter from the first step should already be set for you, and should remain the same</li>
        <li><i class="far fa-plus-square" aria-hidden="true"></i><span class="visually-hidden">param-repeat</span> Insert Column selections
          <ul>
            <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“on column”</em>: <code class="language-plaintext highlighter-rouge">Column 2</code></li>
            <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“in”</em>: <code class="language-plaintext highlighter-rouge">Ascending order</code></li>
            <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Flavor”</em>: <code class="language-plaintext highlighter-rouge">Alphabetical sort</code></li>
          </ul>
        </li>
      </ul>
    </li>
    <li>
      <p><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">galaxy-eye</span> <strong>View</strong> the sorted file.</p>

      <blockquote class="question">
        <div class="box-title question-title" id="question-6"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <p>Which athlete is listed at the top now? Which discipline (sport) did they compete in?</p>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-6"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-6" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>A. Grigoriadis. He competed in the 500 meters freestyle swimming event.</li>
          </ol>

        </blockquote>
      </blockquote>
    </li>
    <li><strong>Rename</strong> <i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">galaxy-pencil</span> the resulting file to somthing meaningful</li>
  </ol>

</blockquote>

<h2 id="exercises">Exercises</h2>

<p>Ok, time to train! Let’s see if you can use the sort tool to answer the following questions:</p>

<blockquote class="question">
  <div class="box-title question-title" id="question-exercise-reverse-the-sort"><i class="far fa-question-circle" aria-hidden="true"></i> Exercise: Reverse the sort</div>

  <p>Which athlete comes <em>last by alphabet</em>, in the <em>most recent</em> Olympics?</p>

  <blockquote class="solution">
    <div class="box-title solution-title" id="solution-7"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-7" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

    <p><code class="language-plaintext highlighter-rouge">Žolt Peto</code> who competed in table tennis at the 2020 Summer Olympics in Tokyo.
<br />
We do this by repeating the previous sort (on year and then name), but changing the order to <em>descending</em> for both, to get the answer to the top of the file.</p>

  </blockquote>
</blockquote>

<blockquote class="question">
  <div class="box-title question-title" id="question-exercise-sort-by-height"><i class="far fa-question-circle" aria-hidden="true"></i> Exercise: sort by height</div>

  <ol>
    <li>What is the height of the tallest competing athlete? Which athlete(s) are of this height?</li>
    <li>What is the shortest?</li>
    <li>Who was the tallest athlete from the most recent Olympics? How tall were they?</li>
  </ol>

  <blockquote class="solution">
    <div class="box-title solution-title" id="solution-hints"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-hints" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Hints</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

    <ol>
      <li>Height is listed in column 7. Since this is a simple number (no scientific notation), we can use <em>fast numerical sort</em>,
and because we want the tallest on top, we will need to sort in <em>descending</em> (decreasing) order.</li>
      <li>Rerun the tool for step 1, but change the order to <em>ascending</em></li>
      <li>First sort by year (descending), then by height (descending)</li>
    </ol>

  </blockquote>

  <blockquote class="solution">
    <div class="box-title solution-title" id="solution-answers"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-answers" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Answers</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

    <ol>
      <li>Adam Sandurski from Poland is the tallest athlete in the file, at 214 cm tall.</li>
      <li>Here we don’t get a clear answer. That is because not all athletes have height data available, and blank fields (<code class="language-plaintext highlighter-rouge">NA</code>) are being sorted to the top. We can filter out rows with missing data to get our answer (see <a href="#filtering">Filter</a> section to learn how to do this). For now we cannot answer this question with just the sort tool. Some times multiple tools are required to perform such tasks. The <a href="#exercises-putting-it-all-together">exercise section at the end of this tutorial</a> has many exercises that require a combination of different tools.</li>
      <li>Gennaro Di Mauro, 210 cm. (2020 Summer Olympics in Tokyo)</li>
    </ol>

  </blockquote>

  <blockquote class="solution">
    <div class="box-title solution-title" id="solution-full-solutions"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-full-solutions" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Full Solutions</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

    <ol>
      <li><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/1.1.1" title="Sort - data in ascending or descending order tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Sort - data in ascending or descending order</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.1)</span> with the following parameters:
        <ul>
          <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Sort Query”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
          <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Number of header lines”</em>: <code class="language-plaintext highlighter-rouge">1</code>`</li>
          <li>Column selections</li>
        </ul>
        <ul>
          <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“on column”</em>: <code class="language-plaintext highlighter-rouge">Column 7</code></li>
          <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“in”</em>: <code class="language-plaintext highlighter-rouge">Descending order</code></li>
          <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Flavor”</em>: <code class="language-plaintext highlighter-rouge">Fast numeric sort</code></li>
        </ul>
      </li>
      <li><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/1.1.1" title="Sort - data in ascending or descending order tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Sort - data in ascending or descending order</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.1)</span> with the following parameters:
        <ul>
          <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Sort Query”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
          <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Number of header lines”</em>: <code class="language-plaintext highlighter-rouge">1</code>`</li>
          <li>Column selections</li>
        </ul>
        <ul>
          <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“on column”</em>: <code class="language-plaintext highlighter-rouge">Column 7</code></li>
          <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“in”</em>: <code class="language-plaintext highlighter-rouge">Ascending order</code></li>
          <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Flavor”</em>: <code class="language-plaintext highlighter-rouge">Fast numeric sort</code></li>
        </ul>
      </li>
      <li><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/1.1.1" title="Sort - data in ascending or descending order tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Sort - data in ascending or descending order</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.1)</span> with the following parameters:
        <ul>
          <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Sort Query”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
          <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Number of header lines”</em>: <code class="language-plaintext highlighter-rouge">1</code>`</li>
          <li>Column selections</li>
        </ul>
        <ul>
          <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“on column”</em>: <code class="language-plaintext highlighter-rouge">Column 12</code> (year column)</li>
          <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“in”</em>: <code class="language-plaintext highlighter-rouge">Descending order</code> (most recent on top)</li>
          <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Flavor”</em>: <code class="language-plaintext highlighter-rouge">Fast numeric sort</code>
      - <i class="far fa-plus-square" aria-hidden="true"></i><span class="visually-hidden">param-repeat</span> Insert Column selections</li>
          <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“on column”</em>: <code class="language-plaintext highlighter-rouge">Column 7</code> (height column)</li>
          <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“in”</em>: <code class="language-plaintext highlighter-rouge">Descending order</code> (tallest first)</li>
          <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Flavor”</em>: <code class="language-plaintext highlighter-rouge">Fast numeric sort</code></li>
        </ul>
      </li>
    </ol>

  </blockquote>

</blockquote>

<h1 id="filtering">Filtering</h1>

<p>This file contains a lot of data, but we may only be interested in a subset of this data. For example, we may only want to look at one particular Olympics, or one particular sport. In such cases we can filter the dataset. This will create a new dataset, removing any rows that are not of interest to us (i.e. that don’t meet the criteria we provide).</p>

<blockquote class="notranslate hands_on">
  <div class="box-title hands-on-title" id="hands-on-filter-table-based-on-a-column"><i class="fas fa-pencil-alt" aria-hidden="true" ></i> Hands-on: Filter table based on a column</div>

  <p>We will filter the file to show only winter Olympics</p>

  <ol>
    <li>
      <p>Look at the <code class="language-plaintext highlighter-rouge">olympics.tsv</code> file and answer the following questions</p>

      <blockquote class="question">
        <div class="box-title question-title" id="question-7"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <ol>
          <li>Which column contains this information?</li>
          <li>Which values can this column have? (make sure to notice capitalisation, ‘Winter’ is not the same as ‘winter’ to these tools)</li>
        </ol>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-8"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-8" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>Column 13, the column with the <em>season</em> header</li>
            <li>The values can be <code class="language-plaintext highlighter-rouge">Summer</code> or <code class="language-plaintext highlighter-rouge">Winter</code></li>
          </ol>

        </blockquote>
      </blockquote>
    </li>
    <li>Open the tool <span class="tool" data-tool="Filter1" title="**Filter** data on any column using simple expressions tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong><strong>Filter</strong> data on any column using simple expressions</strong></span>
      <ul>
        <li>read the help text at the bottom of the tool carefully</li>
        <li>get familiar with how to indicate columns and write expressions for filtering</li>
      </ul>

      <blockquote class="question">
        <div class="box-title question-title" id="question-8"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <ol>
          <li>How would you write the expressions for the following conditions:
            <ol>
              <li>column 6 must be ‘Yes’</li>
              <li>column 13 must be smaller than 75</li>
              <li>column 7 cannot be ‘NA’</li>
              <li>column 2 cannot be empty</li>
            </ol>
          </li>
          <li>It is also possible to combine multiple conditions, using <code class="language-plaintext highlighter-rouge">and</code>, <code class="language-plaintext highlighter-rouge">or</code>, <code class="language-plaintext highlighter-rouge">not</code> and parentheses
How would you write expressions for the following filtering conditions:
            <ol>
              <li>column 5 is larger than 2 or smaller than -2</li>
              <li>column 5 is larger than 2 and smaller than 10</li>
              <li>the sum of columns 4 and 6 is greater than or equal to 25,000</li>
            </ol>
          </li>
        </ol>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-9"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-9" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>The answers are:
              <ol>
                <li><code class="language-plaintext highlighter-rouge">c6=='Yes'</code></li>
                <li><code class="language-plaintext highlighter-rouge">c13&lt;75</code></li>
                <li><code class="language-plaintext highlighter-rouge">c7!='NA'</code></li>
                <li><code class="language-plaintext highlighter-rouge">c2!=''</code></li>
              </ol>
            </li>
            <li>The answers are:
              <ol>
                <li><code class="language-plaintext highlighter-rouge">c5&gt;2 or c5&lt;-2</code></li>
                <li><code class="language-plaintext highlighter-rouge">c5&gt;2 and c5&lt;10</code></li>
                <li><code class="language-plaintext highlighter-rouge">c4+c6 &gt;= 25000</code></li>
              </ol>
            </li>
          </ol>

        </blockquote>
      </blockquote>

      <p>Ok, great, now that you’ve got the hang of writing expressions for this tool, let’s create a file with only Winter Olympics:</p>
    </li>
    <li><span class="tool" data-tool="Filter1" title="**Filter** data on any column using simple expressions tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong><strong>Filter</strong> data on any column using simple expressions</strong></span> with the following parameters:
      <ul>
        <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Filter”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
        <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“With the following condition”</em>: <code class="language-plaintext highlighter-rouge">c13=='Winter'</code></li>
        <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Number of header lines to skip”</em>: <code class="language-plaintext highlighter-rouge">1</code></li>
      </ul>
    </li>
    <li>
      <p><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">galaxy-eye</span> <strong>View</strong> the filtered file.</p>

      <blockquote class="question">
        <div class="box-title question-title" id="question-9"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <p>How many lines are in this file? (Hint: expand the dataset in your history or use <span class="tool" data-tool="wc_gnu" title="Line/Word/Character count tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Line/Word/Character count</strong></span> )</p>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-10"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-10" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <p>44,681 (this is including the header line)</p>

        </blockquote>
      </blockquote>
    </li>
    <li>
      <p><strong>Repeat</strong> the step for the Summer Olympics</p>

      <blockquote class="question">
        <div class="box-title question-title" id="question-10"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <ol>
          <li>How many lines do you expect in the this file?</li>
          <li>How many lines are in this file? Were you right?</li>
        </ol>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-hints-1"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-hints-1" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Hints</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>Use the <span class="tool" data-tool="wc_gnu" title="Line/Word/Character count tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Line/Word/Character count</strong></span> to find the number of lines in the <code class="language-plaintext highlighter-rouge">olympics.tsv</code> file and subtract the number of rows in the Winter Olympics file</li>
            <li>Be careful to consider whether these counts include the header line of the file or not</li>
          </ol>

        </blockquote>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-answers-1"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-answers-1" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Answers</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>The original file has 234,523 lines, and the Winter Olympics had 44,681 lines. So we would expect 234,523 - 44,681 = 189,842 rows of data. Since we have subtracted the header line in this equation as well, we expect the Summer Olympics file to have 1 more line that this, so 189,843 total lines.</li>
            <li>189,843. If you were off by one or two lines, it may have been that you counted the header lines double
<br />
It is always useful to take a moment to think about the expected outcome, this makes it easier to spot mistakes and will save you time in the long run.</li>
          </ol>

        </blockquote>
      </blockquote>
    </li>
    <li><strong>Rename</strong> <i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">galaxy-pencil</span> both outputs to something descriptive (e.g. <code class="language-plaintext highlighter-rouge">Filter: Winter Olympics only</code> etc)
      <ul>
        <li>This is primarily to get you into the habit. If this is a file you might want to view or use again later, it will be hard to find back again unless you name it well.</li>
      </ul>
    </li>
  </ol>

</blockquote>

<h2 id="advanced-filtering-with-python-syntax">Advanced Filtering with Python Syntax</h2>

<p>In addition to basic filtering, the Galaxy filtering tool allows for more advanced filtering using Python syntax. This can be particularly useful when you need to apply more complex conditions or manipulate the data in specific ways.</p>

<blockquote class="comment">
  <div class="box-title comment-title" id="comment-understanding-python-syntax-for-filtering"><i class="far fa-comment-dots" aria-hidden="true" ></i> Comment:  Understanding Python Syntax for Filtering</div>

  <p>Before we dive into specific examples, let’s briefly discuss some basic Python concepts that will help you understand how to write these filtering expressions:</p>

  <ul>
    <li>
      <p><strong>Methods</strong>: In Python, methods are functions that are associated with an object. For example, in the expression <code class="language-plaintext highlighter-rouge">c2.startswith('Liu')</code>, <code class="language-plaintext highlighter-rouge">startswith</code> is a method that checks if the value in column 2 (<code class="language-plaintext highlighter-rouge">c2</code>) starts with the substring ‘Liu’.</p>
    </li>
    <li>
      <p><strong>Boolean Expressions</strong>: These are expressions that evaluate to either <code class="language-plaintext highlighter-rouge">True</code> or <code class="language-plaintext highlighter-rouge">False</code>. For example, <code class="language-plaintext highlighter-rouge">c2.startswith('Liu')</code> will return <code class="language-plaintext highlighter-rouge">True</code> if the value in column 2 starts with ‘Liu’, and <code class="language-plaintext highlighter-rouge">False</code> otherwise.</p>
    </li>
    <li>
      <p><strong>Comparison Operators</strong>: These include <code class="language-plaintext highlighter-rouge">==</code> (equal to), <code class="language-plaintext highlighter-rouge">!=</code> (not equal to), <code class="language-plaintext highlighter-rouge">&lt;</code> (less than), <code class="language-plaintext highlighter-rouge">&gt;</code> (greater than), <code class="language-plaintext highlighter-rouge">&lt;=</code> (less than or equal to), and <code class="language-plaintext highlighter-rouge">&gt;=</code> (greater than or equal to). These operators are used to compare values and are commonly used in filtering.</p>
    </li>
    <li>
      <p><strong>String Methods</strong>: Strings in Python have several built-in methods that can be used for filtering. Some commonly used ones include:</p>
      <ul>
        <li><code class="language-plaintext highlighter-rouge">startswith(substring)</code>: Checks if a string starts with a specified substring.</li>
        <li><code class="language-plaintext highlighter-rouge">endswith(substring)</code>: Checks if a string ends with a specified substring.</li>
        <li><code class="language-plaintext highlighter-rouge">find(substring)</code>: Returns the lowest index of the substring if it is found in the string; otherwise, it returns <code class="language-plaintext highlighter-rouge">-1</code>.</li>
        <li><code class="language-plaintext highlighter-rouge">count(substring)</code>: Returns the number of non-overlapping occurrences of the substring in the string.</li>
      </ul>
    </li>
  </ul>

</blockquote>

<p>These concepts will be used in the filtering expressions we write in Galaxy. Let’s now explore some specific scenarios where you might use these expressions.</p>

<blockquote class="hands-on">
  <div class="box-title hands-on-title" id="hands-on-filtering-based-on-substring-occurrence"><i class="fas fa-pencil-alt" aria-hidden="true" ></i> Hands-on: Filtering Based on Substring Occurrence</div>

  <p>We want to filter rows where a particular column contains a specific substring using the <code class="language-plaintext highlighter-rouge">cX.find()</code> method, where <code class="language-plaintext highlighter-rouge">X</code> is the column number.</p>

  <p>For example, while you can easily filter Summer or Winter Olympics using <code class="language-plaintext highlighter-rouge">c13=="Summer"</code> or <code class="language-plaintext highlighter-rouge">c13=="Winter"</code> if the data is stored in a dedicated column, sometimes the data may not be that straightforward. The relevant information might be embedded in another column, like in <code class="language-plaintext highlighter-rouge">c11</code> with entries such as “1992 Summer Olympics”.</p>

  <p>In such cases, you can use substring filtering:</p>

  <blockquote class="question">
    <div class="box-title question-title" id="question-11"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

    <ol>
      <li>How would you filter the rows where the 11th column contains “Summer”?</li>
      <li>How would you filter the rows where the 11th column does <strong>not</strong> contain “Summer”?</li>
    </ol>

    <blockquote class="solution">
      <div class="box-title solution-title" id="solution-answers-10"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-answers-10" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution: Answers</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

      <ol>
        <li><code class="language-plaintext highlighter-rouge">c11.find('Summer') != -1</code></li>
        <li><code class="language-plaintext highlighter-rouge">c11.find('Summer') == -1</code></li>
      </ol>

    </blockquote>
  </blockquote>

  <p>Ok, great, now that you’ve got the hang of writing expressions for this tool, let’s filter the file for rows where column 11 contains “Summer”:</p>

  <ol>
    <li><span class="tool" data-tool="Filter1" title="**Filter** data on any column using simple expressions tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong><strong>Filter</strong> data on any column using simple expressions</strong></span> with the following parameters:
      <ul>
        <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Filter”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
        <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“With the following condition”</em>: <code class="language-plaintext highlighter-rouge">c11.find('Summer') != -1</code></li>
        <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Number of header lines to skip”</em>: <code class="language-plaintext highlighter-rouge">1</code></li>
      </ul>
    </li>
    <li>
      <p><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">galaxy-eye</span> <strong>View</strong> the filtered file.</p>

      <blockquote class="question">
        <div class="box-title question-title" id="question-12"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <ol>
          <li>How many rows contained the string “Summer” in column 11? (Hint: use <span class="tool" data-tool="wc_gnu" title="Line/Word/Character count tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Line/Word/Character count</strong></span> )</li>
        </ol>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-answers-11"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-answers-11" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution: Answers</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li><code class="language-plaintext highlighter-rouge">189843</code>(this is including the header line)</li>
          </ol>

        </blockquote>
      </blockquote>
    </li>
    <li><strong>Rename</strong> <i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">galaxy-pencil</span> both outputs to something descriptive.</li>
  </ol>

</blockquote>

<blockquote class="hands-on">
  <div class="box-title hands-on-title" id="hands-on-filtering-rows-that-start-or-end-with-a-specific-value"><i class="fas fa-pencil-alt" aria-hidden="true" ></i> Hands-on: Filtering Rows that Start or End with a Specific Value</div>

  <p>Filter rows based on whether a column starts or ends with a particular value using <code class="language-plaintext highlighter-rouge">cX.startswith()</code> or <code class="language-plaintext highlighter-rouge">cX.endswith()</code>.</p>

  <p>For example, if we want to:</p>

  <ul>
    <li>Find all athletes whose names start with “Liu”.</li>
    <li>Find all teams whose names end with “China”.</li>
  </ul>

  <blockquote class="question">
    <div class="box-title question-title" id="question-13"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

    <ol>
      <li>How would you filter rows where the 2nd column starts with “Liu”?</li>
      <li>How would you filter rows where the 9th column ends with “China”?</li>
    </ol>

    <blockquote class="solution">
      <div class="box-title solution-title" id="solution-answers-12"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-answers-12" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution: Answers</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

      <ol>
        <li><code class="language-plaintext highlighter-rouge">c2.startswith('Liu')</code></li>
        <li><code class="language-plaintext highlighter-rouge">c9.endswith('China')</code></li>
      </ol>

    </blockquote>
  </blockquote>

  <p>Ok, great, now that you’ve got the hang of writing expressions for this tool, let’s filter the file to find all athletes whose names start with “Liu”:</p>

  <ol>
    <li><span class="tool" data-tool="Filter1" title="**Filter** data on any column using simple expressions tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong><strong>Filter</strong> data on any column using simple expressions</strong></span> with the following parameters:
      <ul>
        <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Filter”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
        <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“With the following condition”</em>: <code class="language-plaintext highlighter-rouge">c2.startswith('Liu')</code></li>
        <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Number of header lines to skip”</em>: <code class="language-plaintext highlighter-rouge">1</code></li>
      </ul>
    </li>
    <li>
      <p><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">galaxy-eye</span> <strong>View</strong> the filtered file.</p>

      <blockquote class="question">
        <div class="box-title question-title" id="question-14"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <ol>
          <li>How many rows contained the string start with “Liu” in column 2? (Hint: expand the dataset in your history or use <span class="tool" data-tool="wc_gnu" title="Line/Word/Character count tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Line/Word/Character count</strong></span> )</li>
        </ol>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-answers-13"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-answers-13" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution: Answers</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li><code class="language-plaintext highlighter-rouge">324</code> (this is including the header line)</li>
          </ol>

        </blockquote>
      </blockquote>
    </li>
    <li><strong>Rename</strong> <i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">galaxy-pencil</span> both outputs to something descriptive.</li>
  </ol>

</blockquote>

<blockquote class="notranslate hands_on">
  <div class="box-title hands-on-title" id="hands-on-filtering-based-on-the-count-of-substring-occurrences"><i class="fas fa-pencil-alt" aria-hidden="true" ></i> Hands-on: Filtering Based on the Count of Substring Occurrences</div>

  <p>Sometimes, you may need to filter rows based on how many times a certain substring appears in a column. This can be done using the <code class="language-plaintext highlighter-rouge">cX.count()</code> method.</p>

  <p>For example, if we want to:</p>

  <ul>
    <li>Find all athletes born in December, assuming the birth date could be in either “day-month” or “month-day” format.</li>
  </ul>

  <blockquote class="question">
    <div class="box-title question-title" id="question-15"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

    <ol>
      <li>How would you filter rows where the 5th column contains “December”?</li>
    </ol>

    <blockquote class="solution">
      <div class="box-title solution-title" id="solution-answers-14"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-answers-14" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution: Answers</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

      <ol>
        <li><code class="language-plaintext highlighter-rouge">c5.count('December') == 1</code></li>
      </ol>

    </blockquote>
  </blockquote>

  <p>Ok, great, now that you’ve got the hang of writing expressions for this tool, let’s filter the file to find all athletes born in December:</p>

  <ol>
    <li><span class="tool" data-tool="Filter1" title="**Filter** data on any column using simple expressions tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong><strong>Filter</strong> data on any column using simple expressions</strong></span> with the following parameters:
      <ul>
        <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Filter”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
        <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“With the following condition”</em>: <code class="language-plaintext highlighter-rouge">c5.count('December') == 1</code></li>
        <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Number of header lines to skip”</em>: <code class="language-plaintext highlighter-rouge">1</code></li>
      </ul>
    </li>
    <li>
      <p><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">galaxy-eye</span> <strong>View</strong> the filtered file.</p>

      <blockquote class="question">
        <div class="box-title question-title" id="question-16"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <ol>
          <li>How many rows contained the string “December” in column 5? (Hint: expand the dataset in your history or use <span class="tool" data-tool="wc_gnu" title="Line/Word/Character count tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Line/Word/Character count</strong></span> )</li>
        </ol>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-answers-15"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-answers-15" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution: Answers</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li><code class="language-plaintext highlighter-rouge">18009</code> (this is including the header line)</li>
          </ol>

        </blockquote>
      </blockquote>
    </li>
    <li><strong>Rename</strong> <i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">galaxy-pencil</span> both outputs to something descriptive.</li>
  </ol>

</blockquote>

<h2 id="exercises-1">Exercises</h2>

<p>Ok, time to train! let’s see if you can use the <span class="tool" data-tool="Filter1" title="Filter tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Filter</strong></span> tool to answer the following questions:</p>

<blockquote class="question">
  <div class="box-title question-title" id="question-exercise-medal-winners"><i class="far fa-question-circle" aria-hidden="true"></i> Exercise: Medal winners</div>

  <ol>
    <li>How many gold medals were handed out?</li>
    <li>How many total medals?</li>
    <li>How many medals were handed out during the 2018 Olympics?</li>
    <li>How many medals were won by individuals with a height between 170 and 180 cm?</li>
    <li>How many gold medals were won by individuals shorter than 160cm or taller than 190?</li>
  </ol>

  <blockquote class="solution">
    <div class="box-title solution-title" id="solution-hints-2"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-hints-2" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Hints</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

    <ul>
      <li>Column 17 contains information about medals</li>
      <li>The possible values are <code class="language-plaintext highlighter-rouge">Gold</code>, <code class="language-plaintext highlighter-rouge">Silver</code>, <code class="language-plaintext highlighter-rouge">Bronze</code>, and `` (empty).</li>
      <li>Expand the output or use the tool <span class="tool" data-tool="wc_gnu" title="Line/Word/Character count tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Line/Word/Character count</strong></span> to see the number of lines in the file</li>
      <li>Don’t forget that the output (and line count) may include the header line</li>
      <li>Do not use quotes on number columns (e.g. year)</li>
      <li>You may need parentheses for complex conditions</li>
    </ul>

  </blockquote>

  <blockquote class="solution">
    <div class="box-title solution-title" id="solution-answers-2"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-answers-2" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Answers</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

    <ol>
      <li>8,110   (Expression: <code class="language-plaintext highlighter-rouge">c17=='Gold'</code>)</li>
      <li>24,633  (Expression: <code class="language-plaintext highlighter-rouge">c17=='Gold' or c17=='Silver' or c17=='Bronze'</code>, or <code class="language-plaintext highlighter-rouge">c17!='NA'</code>)</li>
      <li>131     (Expression: <code class="language-plaintext highlighter-rouge">c17=='Gold' and c12==2018</code> (note: do not use quotes around <code class="language-plaintext highlighter-rouge">2018</code>, as it is a numerical value))</li>
      <li>8,086   (Expression: <code class="language-plaintext highlighter-rouge">c17!='NA' and c7&gt;=170 and c7&lt;=180</code>)</li>
      <li>812     (Expression: <code class="language-plaintext highlighter-rouge">c17=='Gold' and (c7&lt;160 or c7&gt;190)</code> (note: parentheses are important here))</li>
    </ol>

    <p>Note: these numbers are found by determining the number of lines in the file after each filtering step, and subtracting 1 for the header line.</p>

  </blockquote>
</blockquote>

<h1 id="counting">Counting</h1>

<p>A common operation we might want to perform on tables of data, is simple counting. How many times does a certain value appear? For our dataset for instance, we might want to know how many countries participated in each Olympics, how many women, etc; any column that has categorical data that we can count. The tool <span class="tool" data-tool="Count1" title="**Count** occurrences of each record tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong><strong>Count</strong> occurrences of each record</strong></span> does exactly this.</p>

<blockquote class="notranslate hands_on">
  <div class="box-title hands-on-title" id="hands-on-count-occurrences-of-values-in-columns"><i class="fas fa-pencil-alt" aria-hidden="true" ></i> Hands-on: Count occurrences of values in columns</div>

  <p>Let’s start by simply counting how many different Olympic Games we have in our dataset, and how many times it appears (so how many participations there were each year)</p>

  <ol>
    <li><span class="tool" data-tool="Count1" title="**Count** occurrences of each record tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong><strong>Count</strong> occurrences of each record</strong></span> with the following parameters
      <ul>
        <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“from dataset”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
        <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Count occurrences of values in column(s)”</em>: <code class="language-plaintext highlighter-rouge">Column 11</code></li>
      </ul>
    </li>
    <li>
      <p><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">galaxy-eye</span> <strong>View</strong> the results.</p>

      <blockquote class="question">
        <div class="box-title question-title" id="question-17"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <ol>
          <li>How many different Olympic games are in our file?</li>
          <li>Which Olympic games had the most participations? (Tip: set the parameter <em>“How should the results be sorted?”</em> to <code class="language-plaintext highlighter-rouge">most common values first</code>)</li>
        </ol>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-11"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-11" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>
              <p>52; there are 53 lines in the resulting file, with one line containing the value of the column header (<code class="language-plaintext highlighter-rouge">games</code>).</p>

              <p>The resulting file looks something like:</p>

              <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 615	1896 Summer Olympics
 2503	1900 Summer Olympics
 2643	1904 Summer Olympics
 3213	1908 Summer Olympics
 4610	1912 Summer Olympics
 3448	1920 Summer Olympics
 5242	1924 Summer Olympics
 358	1924 Winter Olympics
 4493	1928 Summer Olympics
 ...
</code></pre></div>              </div>
            </li>
            <li>
              <p>1996 Summer Olympics. (10501 participations)</p>
            </li>
          </ol>

        </blockquote>
      </blockquote>

      <p>You may have noticed that we could have selected multiple columns in this tool. This lets us count on combinations of columns.
Let’s try counting the number of men and women in each olympic games.</p>
    </li>
    <li><span class="tool" data-tool="Count1" title="**Count** occurrences of each record tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong><strong>Count</strong> occurrences of each record</strong></span> with the following parameters
      <ul>
        <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“from dataset”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
        <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Count occurrences of values in column(s)”</em>: <code class="language-plaintext highlighter-rouge">Column 11, Column 3</code></li>
      </ul>
    </li>
    <li>
      <p><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">galaxy-eye</span> <strong>View</strong> the results.</p>

      <blockquote class="question">
        <div class="box-title question-title" id="question-18"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <p>You see the resulting file has a line for every combination of the two columns (games and sex), providing the count for each.</p>

        <ol>
          <li>
            <p>How many women were in the first Olympic games?</p>
          </li>
          <li>
            <p>Which Olympic games had the most women participants? (Tip: set the parameter <em>“How should the results be sorted?”</em> to <code class="language-plaintext highlighter-rouge">most common values first</code>)</p>
          </li>
        </ol>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-12"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-12" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>2 women participated in the 1896 Olympics. (note that we cannot be sure if this is two different women, or 1 woman participating twice).
The file looks something like this:
              <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>2	F	1896 Summer Olympics
43	F	1900 Summer Olympics
17	F	1904 Summer Olympics
55	F	1908 Summer Olympics
97	F	1912 Summer Olympics
132	F	1920 Summer Olympics
269	F	1924 Summer Olympics
</code></pre></div>              </div>
            </li>
            <li>2020 Summer Olympics (4652)</li>
          </ol>

        </blockquote>
      </blockquote>
    </li>
  </ol>

</blockquote>

<p>Let’s say we wanted to know how many different sports there were in each Olympics. If we used the counting tool above, we would get a results file for each combination of sport and olympics, with the number of lines (participations) of each. But we don’t really care about the number of lines that have this combination, just the total number of unique sports in each games.</p>

<p>To answer these types of questions we can use a slightly more advanced tool, called <span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/iuc/datamash_ops/datamash_ops/1.1.0+galaxy2" title="Datamash tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Datamash</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.0+galaxy2)</span>. This tool can do a lot more than counting, but here we will show you how to use it to count in this way.</p>

<blockquote class="notranslate hands_on">
  <div class="box-title hands-on-title" id="hands-on-counting-number-of-different-sports-per-olympic-games"><i class="fas fa-pencil-alt" aria-hidden="true" ></i> Hands-on: Counting number of different sports per Olympic Games</div>

  <p>We will now determine how many different sport there were in each of the different Olympics</p>

  <ol>
    <li><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/iuc/datamash_ops/datamash_ops/1.1.0+galaxy2" title="Datamash tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Datamash</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.0+galaxy2)</span> with the following parameters:
      <ul>
        <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Input tabular dataset”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
        <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Group by fields”</em>: <code class="language-plaintext highlighter-rouge">11</code> (the <code class="language-plaintext highlighter-rouge">games</code> column)</li>
        <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Input file has a header line”</em>: <code class="language-plaintext highlighter-rouge">Yes</code></li>
        <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Sort Input”</em>: <code class="language-plaintext highlighter-rouge">Yes</code></li>
        <li><em>“Operation to perform on each group”</em>:
          <ul>
            <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Type”</em>: <code class="language-plaintext highlighter-rouge">Count Unique values</code></li>
            <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“On Column”</em>: <code class="language-plaintext highlighter-rouge">Column: 15</code> (the <code class="language-plaintext highlighter-rouge">sport</code> column)</li>
          </ul>
        </li>
      </ul>
    </li>
    <li>
      <p><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">galaxy-eye</span> <strong>View</strong> the results.</p>

      <blockquote class="question">
        <div class="box-title question-title" id="question-19"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <ol>
          <li>Why did we tell the tool to sort the file?</li>
          <li>How many sport were in the first Olympics? How many in the latest?</li>
          <li>Which Olympics had the most different sports?</li>
        </ol>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-13"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-13" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>This is for technical reasons; the tool assumes that your file is sorted (on the column that you supplied to the “Group by fields” parameter).
This assumption can greatly speed up the calculation, but will give incorrect results if the file was not actually sorted.
If you know for sure that your data is sorted in the right way, you can skip this step. If you are unsure, enable this parameter to be safe, and the
tool will perform the sorting step before its calculation.</li>
            <li>10 and 38.</li>
            <li>The 2020 Summer Olympics had the most different sports (38)</li>
          </ol>

        </blockquote>
      </blockquote>
    </li>
    <li><strong>Rename</strong> <i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">galaxy-pencil</span> the output to something descriptive</li>
  </ol>

</blockquote>

<p>Note: Datamash can do a lot more than counting,  and we will showcase some of these other operatins in the <a href="#grouping">Grouping</a> section.</p>

<h2 id="exercises-2">Exercises</h2>

<p>Ok, let’s practice!</p>

<blockquote class="question">
  <div class="box-title question-title" id="question-exercise-number-of-participations-per-country"><i class="far fa-question-circle" aria-hidden="true"></i> Exercise: Number of participations per country</div>

  <ol>
    <li>Which country has had the most participations in the Olympics?</li>
    <li>How many countries participated in the first Olympics? How many in the last?</li>
  </ol>

  <blockquote class="solution">
    <div class="box-title solution-title" id="solution-hints-3"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-hints-3" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Hints</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

    <ol>
      <li>Since we are counting participations (rows), we can use the simple <span class="tool" data-tool="Count1" title="Count tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Count</strong></span> tool</li>
      <li>Since we are counting a bit more complex question, we need the <span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/iuc/datamash_ops/datamash_ops/1.1.0+galaxy2" title="Datamash tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Datamash</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.0+galaxy2)</span> tool</li>
    </ol>

  </blockquote>

  <blockquote class="solution">
    <div class="box-title solution-title" id="solution-answers-3"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-answers-3" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Answers</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

    <ol>
      <li>The United States with 17,286 participations</li>
      <li>15 and 250.</li>
    </ol>

  </blockquote>

  <blockquote class="solution">
    <div class="box-title solution-title" id="solution-full-solutions-1"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-full-solutions-1" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Full Solutions</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

    <ol>
      <li><span class="tool" data-tool="Count1" title="Count tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Count</strong></span> with the following parameters:
        <ul>
          <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“from dataset”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
          <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Count occurrences of values in column(s)”</em>: <code class="language-plaintext highlighter-rouge">Column 9</code> (the <code class="language-plaintext highlighter-rouge">team</code> column)</li>
          <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“How should the results be sorted?”</em>: <code class="language-plaintext highlighter-rouge">With the most common values first</code></li>
        </ul>

        <p>This gives an output like:</p>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>17286	United States
11700	France
10230	Great Britain
8898	Italy
7988	Canada
</code></pre></div>        </div>
      </li>
      <li><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/iuc/datamash_ops/datamash_ops/1.1.0+galaxy2" title="Datamash tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Datamash</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.0+galaxy2)</span> with the following parameters:
        <ul>
          <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Input tabular dataset”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
          <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Group by fields”</em>: <code class="language-plaintext highlighter-rouge">11</code> (the <code class="language-plaintext highlighter-rouge">games</code> column)</li>
          <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Input file has a header line”</em>: <code class="language-plaintext highlighter-rouge">yes</code></li>
          <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Sort Input”</em>: <code class="language-plaintext highlighter-rouge">yes</code></li>
          <li><em>“Operation to perform on each group”</em>:</li>
        </ul>
        <ul>
          <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Type”</em>: <code class="language-plaintext highlighter-rouge">Count Unique values</code></li>
          <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“On Column”</em>: <code class="language-plaintext highlighter-rouge">Column: 9</code> (the <code class="language-plaintext highlighter-rouge">team</code> column)</li>
        </ul>
      </li>
    </ol>

    <p>This gives an output like:</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  1896 Summer Olympics	15
  1900 Summer Olympics	29
  1904 Summer Olympics	13
  ...
  2016 Summer Olympics	280
  2018 Winter Olympics	108
  2020 Summer Olympics	250
</code></pre></div>    </div>

  </blockquote>
</blockquote>

<h1 id="grouping">Grouping</h1>

<p>Often we may want to group rows based on a value in a column, and perform some operation on the resulting rows. For example we would like to group the olympics data by one value (e.g. year, country, sport), and determine some value for each group (e.g. number of medals won, average age of athletes, etc).</p>

<p>In the <a href="#counting">counting</a> section of this tutorial we show how to get answers that require a count (e.g. number of medals won), but sometimes we want to do something more complex, like calculating the average height of athletes in a group, say per country or per sport. This section will show some example of these types of questions.</p>

<p>We can use the <span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/iuc/datamash_ops/datamash_ops/1.1.0+galaxy2" title="Datamash tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Datamash</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.0+galaxy2)</span> tool for this purpose.</p>

<blockquote class="notranslate hands_on">
  <div class="box-title hands-on-title" id="hands-on-tallest-athlete-per-sport"><i class="fas fa-pencil-alt" aria-hidden="true" ></i> Hands-on: Tallest athlete per sport</div>

  <p>We would like to answer the following question: <em>How tall was the tallest athlete of each sport?</em></p>

  <ol>
    <li>
      <p>Open the <span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/iuc/datamash_ops/datamash_ops/1.1.0+galaxy2" title="Datamash tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Datamash</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.0+galaxy2)</span> tool and read the help section at the bottom</p>

      <blockquote class="question">
        <div class="box-title question-title" id="question-20"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <p>Which settings do you think we need to provide to answer our question?</p>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-14"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-14" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ul>
            <li><em>“Group by fields”</em>: We want to group by sport (Column 15).</li>
            <li><em>“Sort”</em>: <code class="language-plaintext highlighter-rouge">Yes</code>. This may not be obvious, but because our file is currently not sorted by our chosen group (sport), we need to tell the tool to do this.</li>
            <li><em>“Skip NA or NaN values”</em>: since we do have NA values for athletes for whom height data is unknown, we should set this to <code class="language-plaintext highlighter-rouge">Yes</code></li>
            <li>Our file has a header line, so we should indicate this as well</li>
            <li><em>“Operation”</em>: we want to determine the <strong>Maximum</strong> height (Column 7)</li>
          </ul>

        </blockquote>
      </blockquote>
    </li>
    <li><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/iuc/datamash_ops/datamash_ops/1.1.0+galaxy2" title="Datamash tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Datamash</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.0+galaxy2)</span> with the following parameters:
      <ul>
        <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Input tabular dataset”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
        <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Group by fields”</em>: <code class="language-plaintext highlighter-rouge">15</code></li>
        <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Sort input”</em>: <code class="language-plaintext highlighter-rouge">yes</code></li>
        <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Input file has a header line”</em>: <code class="language-plaintext highlighter-rouge">yes</code></li>
        <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Skip NA or NaN values”</em>: <code class="language-plaintext highlighter-rouge">yes</code></li>
        <li><em>“Operation to perform on each group”</em>:
          <ul>
            <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Type”</em>: <code class="language-plaintext highlighter-rouge">Maximum</code></li>
            <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“On Column”</em>: <code class="language-plaintext highlighter-rouge">Column: 7</code></li>
          </ul>
        </li>
      </ul>
    </li>
    <li>
      <p><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">galaxy-eye</span> <strong>View</strong> the results.</p>

      <blockquote class="question">
        <div class="box-title question-title" id="question-21"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <ol>
          <li>How tall was the tallest athlete in basketball? And what about karate?</li>
          <li>Why do some sports have a value of <code class="language-plaintext highlighter-rouge">inf</code>?</li>
        </ol>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-15"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-15" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>Basketball’s tallest athlete was 192cm. For Karate it is 163.</li>
            <li>Our dataset had quite a number of <code class="language-plaintext highlighter-rouge">NA</code> (unknown) values in the height column, especially for the earlier Olympics. For sports that had only NA values, there is no maximum so the tool outputs <code class="language-plaintext highlighter-rouge">inf</code> instead.</li>
          </ol>
        </blockquote>
      </blockquote>
    </li>
  </ol>

</blockquote>

<h2 id="grouping-on-multiple-columns">Grouping on multiple columns</h2>

<p>You may have noticed that we could also provide multiple columns to group on. If we do this, we can compute values for combinations of groups, such as sex and sport, to find e.g. the tallest woman in basketball or the shortest man per Olympics. There are also many more options for the computation we perform, so perhaps we are more interested not in the tallest athlete, but the average height. Let’s perform some of these slightly more advanced queries now.</p>

<blockquote class="notranslate hands_on">
  <div class="box-title hands-on-title" id="hands-on-average-height-of-men-and-women-per-sport"><i class="fas fa-pencil-alt" aria-hidden="true" ></i> Hands-on: Average height of men and women per sport</div>

  <p>The question we would like to answer here, is what is the average height for men and women per sport?</p>

  <ol>
    <li>Open the <span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/iuc/datamash_ops/datamash_ops/1.1.0+galaxy2" title="Datamash tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Datamash</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.0+galaxy2)</span> tool
      <ul>
        <li>Which parameters do you think we need?</li>
        <li>Refer to the help section at the bottom of the tool page if you need more information</li>
      </ul>
    </li>
    <li><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/iuc/datamash_ops/datamash_ops/1.1.0+galaxy2" title="Datamash tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Datamash</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.0+galaxy2)</span> with the following parameters:
      <ul>
        <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Input tabular dataset”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
        <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Group by fields”</em>: <code class="language-plaintext highlighter-rouge">15,3</code> (The sports column, and the sex column)</li>
        <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Sort input”</em>: <code class="language-plaintext highlighter-rouge">yes</code></li>
        <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Input file has a header line”</em>: <code class="language-plaintext highlighter-rouge">yes</code></li>
        <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Print header line”</em>: <code class="language-plaintext highlighter-rouge">yes</code></li>
        <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Skip NA or NaN values”</em>: <code class="language-plaintext highlighter-rouge">yes</code></li>
        <li><em>“Operation to perform on each group”</em>:
          <ul>
            <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Type”</em>: <code class="language-plaintext highlighter-rouge">Mean</code></li>
            <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“On Column”</em>: <code class="language-plaintext highlighter-rouge">Column: 7</code></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">galaxy-eye</span> <strong>View</strong> the results.
      <ul>
        <li>Notice the header line in this output that we requested with the <em>“Print header line parameter”</em>. Adding this line will help you remember which columns you grouped on and which computation you performed. In our case it was obvious, but if you have a dataset with multiple columns with similar values, this can be useful</li>
        <li>See if you can answer the following questions based on the output file.</li>
      </ul>

      <blockquote class="question">
        <div class="box-title question-title" id="question-22"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <ol>
          <li>What is the average height of women participating in archery?</li>
          <li>What is the average height of men participating in <a href="https://en.wikipedia.org/wiki/Ballooning_at_the_1900_Summer_Olympics">ballooning</a>?</li>
          <li>Why do some values have <code class="language-plaintext highlighter-rouge">nan</code> instead of a height?</li>
          <li>Why do some sports not have a value for one of the sexes?</li>
          <li>Can you find a sport where women were taller than the men? (Hint: it starts with the letter A)</li>
        </ol>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-16"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-16" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>167.25677031093 cm</li>
            <li>170 cm</li>
            <li>If none of the rows in the group had height data available, it will output <code class="language-plaintext highlighter-rouge">nan</code> (not a number) instead. This is most common for sports that were only featured a few times in the early years of the Olympics.</li>
            <li>Sports such as artistic swimming only exist for women, so no M appears in the data for that group, so there simply is no row for the mean height of men doing artistic swimming in our output.</li>
            <li><a href="https://en.wikipedia.org/wiki/Art_competitions_at_the_Summer_Olympics">Art Competitions</a></li>
          </ol>

          <p>If all went well, your output file should look something like:</p>

          <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GroupBy(sport)	     GroupBy(sex)  mean(height)
Aeronautics         M             nan
Alpine Skiing       F             167.38324708926
Alpine Skiing       M             178.18747142204
Alpinism            M             nan
Archery             F             167.25677031093
Archery             M             178.5865470852
Art Competitions    F             175.33333333333
Art Competitions    M             173.97260273973
Artistic Gymnastics F             156.15316901408
</code></pre></div>          </div>
        </blockquote>
      </blockquote>
    </li>
  </ol>

</blockquote>

<h2 id="exercises-3">Exercises</h2>

<blockquote class="question">
  <div class="box-title question-title" id="question-exercise-grouping-and-computing"><i class="far fa-question-circle" aria-hidden="true"></i> Exercise: Grouping and computing</div>

  <ol>
    <li>How tall is the shortest woman Badminton player to win a gold medal?</li>
    <li>What is the average height and standard deviation of athletes from Denmark (DEN) in the 1964 Olympics?</li>
    <li>Can you determine how heavy the heaviest tennis player in the 2020 Olympics is? Why not?</li>
  </ol>

  <blockquote class="solution">
    <div class="box-title solution-title" id="solution-hints-4"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-hints-4" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Hints</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

    <ol>
      <li>We need to group on 3 columns: medals, sport and sex (note: the order you provide the columns determines the order they are listed in in the output)</li>
      <li>We need to group on 2 columns: country (team) and year, then compute 2 things: the average (mean) and population standard deviation over column 7 (height).
(explanation of <a href="https://www.statology.org/population-vs-sample-standard-deviation/">sample vs population standard deviation</a>)</li>
      <li>You should get an error message here, try to read it carefully to find out why it didn’t work, and how we might be able to fix it (Tip: <a href="/training-material/faqs/galaxy/analysis_troubleshooting.html">troubleshooting errors HOWTO</a>)</li>
    </ol>

    <p>TIP: You can use CTRL+F in your browser to search for values in the file (e.g. “Badminton”)</p>
  </blockquote>

  <blockquote class="solution">
    <div class="box-title solution-title" id="solution-answers-4"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-answers-4" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Answers</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

    <ol>
      <li>161 cm.</li>
      <li>mean height: 175.91304347826, standard deviation: 7.0335410308672`</li>
      <li>We get an error message saying: <code class="language-plaintext highlighter-rouge">datamash: invalid numeric value in line 2434 field 8: '63-67'</code>. So from this we see that our weight column is not always a
single number, but sometimes a range, such as <code class="language-plaintext highlighter-rouge">63-67</code> (kg), e.g. for sports with weight classes such as boxing. Datamash does not know how to
handle such values, and will therefore fail. If we want to do this computation, we will have to clean up our data first (e.g. by replacing each
range by its upper or lower value. We will do this in the <a href="#exercises-putting-it-all-together">final exercise section</a> of this tutorial)</li>
    </ol>

  </blockquote>

  <blockquote class="solution">
    <div class="box-title solution-title" id="solution-full-solutions-2"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-full-solutions-2" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Full Solutions</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

    <ol>
      <li><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/iuc/datamash_ops/datamash_ops/1.1.0+galaxy2" title="Datamash tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Datamash</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.0+galaxy2)</span> with the following parameters:
        <ul>
          <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Input tabular dataset”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
          <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Group by fields”</em>: <code class="language-plaintext highlighter-rouge">17,15,3</code> (The medal, sports, and the sex columns)</li>
          <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Sort input”</em>: <code class="language-plaintext highlighter-rouge">yes</code></li>
          <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Input file has a header line”</em>: <code class="language-plaintext highlighter-rouge">yes</code></li>
          <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Print header line”</em>: <code class="language-plaintext highlighter-rouge">yes</code></li>
          <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Skip NA or NaN values”</em>: <code class="language-plaintext highlighter-rouge">yes</code></li>
          <li><em>“Operation to perform on each group”</em>:
            <ul>
              <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Type”</em>: <code class="language-plaintext highlighter-rouge">Minimum</code></li>
              <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“On Column”</em>: <code class="language-plaintext highlighter-rouge">Column: 7</code></li>
            </ul>
          </li>
        </ul>

        <p>This will give an output like below, scroll down to find the gold medalists, then badminton, then F (if you used a different order in the Group by fields parameter, this file may look a bit different, but will still provide the same information)</p>

        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GroupBy(medal)	GroupBy(sport)	GroupBy(sex)	min(height)
Bronze	Alpine Skiing	F	156
Bronze	Alpine Skiing	M	167
Bronze	Archery	F	155
Bronze	Archery	M	166
Bronze	Art Competitions	F	-inf
Bronze	Art Competitions	M	172
Bronze	Artistic Gymnastics	F	136
...
</code></pre></div>        </div>
      </li>
      <li><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/iuc/datamash_ops/datamash_ops/1.1.0+galaxy2" title="Datamash tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Datamash</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.0+galaxy2)</span> with the following parameters:
        <ul>
          <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Input tabular dataset”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
          <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Group by fields”</em>: <code class="language-plaintext highlighter-rouge">12,9</code> (year and team columns)</li>
          <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Sort input”</em>: <code class="language-plaintext highlighter-rouge">yes</code></li>
          <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Input file has a header line”</em>: <code class="language-plaintext highlighter-rouge">yes</code></li>
          <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Print header line”</em>: <code class="language-plaintext highlighter-rouge">yes</code></li>
          <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Skip NA or NaN values”</em>: <code class="language-plaintext highlighter-rouge">yes</code></li>
          <li><em>“Operation to perform on each group”</em>:
            <ul>
              <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Type”</em>: <code class="language-plaintext highlighter-rouge">Mean</code></li>
              <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“On Column”</em>: <code class="language-plaintext highlighter-rouge">Column: 7</code></li>
            </ul>
          </li>
          <li><i class="far fa-plus-square" aria-hidden="true"></i><span class="visually-hidden">param-repeat</span> <em>“Insert Operation to perform on each group”</em>:
            <ul>
              <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Type”</em>: <code class="language-plaintext highlighter-rouge">Population Standard deviation</code></li>
              <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“On Column”</em>: <code class="language-plaintext highlighter-rouge">Column: 7</code></li>
            </ul>
          </li>
        </ul>

        <p>This will give an output like below:</p>

        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GroupBy(year)	GroupBy(team)	mean(height)	pstdev(height)
1896	Australia	nan	nan
1896	Austria	nan	nan
1896	Belgium	nan	nan
1896	Bulgaria	nan	nan
1896	Denmark	nan	nan
1896	France	167.62962962963	4.6836844324555
...
</code></pre></div>        </div>
      </li>
      <li>
        <p>Any calculations you run which try to compute anything over the weight column (Column 8) will fail. Please see the <a href="#exercises-putting-it-all-together">final exercise section</a> for the solution
to this question, in which we will first clean up the data in the weight column using the Find and Replace operation.</p>

        <p>This type of situation occurs quite frequently, where you data does not fit with your expectations or assumptions, and you may have to perform additional data
manipulation steps to clean up your data. It is very useful to know how to read the error messages of tools. Depending on the tool, the error messages may or may
not be very informative, but in many cases it can give you a clue as to why it failed, which sometimes can be fixed by you. If you think it is a problem with the
tool itself, please submit a bug report, and the tool authors will be able to have a look at it. More information about troubleshooting and reporting errors can
be found in <a href="/training-material/faqs/galaxy/analysis_troubleshooting.html">this FAQ</a></p>
      </li>
    </ol>

  </blockquote>

</blockquote>

<h1 id="computing">Computing</h1>

<p>Sometimes we want to use the data in our column to compute a new value, and add that to the table. For instance, for our dataset we could caluclate athtletes BMI (using height and weight columns), or their age at time of participation (from year of birth and year of the Olymics). By adding these computed values as a new colum to our datset, we can more easily query the dataset for these values. We can do these types of operations using the <span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/devteam/column_maker/Add_a_column1/2.0" title="Compute on rows tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Compute on rows</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 2.0)</span> tool.</p>

<p>As an example, let’s calculate the age of each athlete at the time of participation, and add this as a new column to our dataset.</p>

<blockquote class="notranslate hands_on">
  <div class="box-title hands-on-title" id="hands-on-compute-age-of-athletes"><i class="fas fa-pencil-alt" aria-hidden="true" ></i> Hands-on: Compute age of athletes</div>

  <ol>
    <li>Open the <span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/devteam/column_maker/Add_a_column1/2.0" title="Compute on rows tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Compute on rows</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 2.0)</span> tool.
      <ul>
        <li>read the help text at the bottom of the tool</li>
        <li>what parameters do you think we need to use?</li>
      </ul>
    </li>
    <li><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/devteam/column_maker/Add_a_column1/2.0" title="Compute on rows tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Compute on rows</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 2.0)</span> with the following parameters:.
      <ul>
        <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Input file”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
        <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Input has a header line with column names?”</em>: <code class="language-plaintext highlighter-rouge">Yes</code></li>
        <li>In <em>“Expressions”</em>:
          <ul>
            <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Add expression”</em>: <code class="language-plaintext highlighter-rouge">int(c12)-int(c4)</code> (year column minus the year_of_birth column)</li>
            <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Mode of the operation?”</em>: <code class="language-plaintext highlighter-rouge">Append</code></li>
            <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“The new column name”</em>: <code class="language-plaintext highlighter-rouge">age</code></li>
          </ul>
        </li>
        <li>Under <em>“Error handling”</em>:
          <ul>
            <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Autodetect column types”</em>: <code class="language-plaintext highlighter-rouge">No</code></li>
            <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“If an expression cannot be computed for a row”</em>: <code class="language-plaintext highlighter-rouge">Fill in a replacement value</code></li>
            <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Replacement value”</em>: <code class="language-plaintext highlighter-rouge">NA (not available)</code></li>
          </ul>
        </li>
      </ul>
    </li>
    <li>
      <p><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">galaxy-eye</span> <strong>View</strong> the results.</p>

      <blockquote class="question">
        <div class="box-title question-title" id="question-23"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <ol>
          <li>
            <p>Why did we set up the Error handling section of the tool like we did?</p>

            <p>The help at the bottom of the tool interface has a section dedicated
to its handling of errors. Read it and try to relate it to the
detailed contents of our input data. You can also try rerunning the
tool with any of the Error handling settings changed and see what
happens.</p>
          </li>
          <li>What changed in our file?</li>
          <li>How old was Arnaud Boetsch during his Olympic tennis participation?</li>
        </ol>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-17"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-17" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>Rationale behind Error handling settings
              <ul>
                <li>We disabled column type autodetection because some of the numerical
columns in our input have “NA” values. The tool would figure out
that the columns are meant to hold numbers, but would then fail to
convert these “NA” values to a number. Without column type
autodetection the tool will treat all column values as strings
(words) and that is why we have to use <code class="language-plaintext highlighter-rouge">int()</code> in the expression
to compute, which says: take the value in parentheses and convert
it to an integer number.</li>
                <li>We configured ‘NA’ as the replacement value to use in rows for
which our expression cannot be computed. If you inspect the input
data carefully, you will find that some rows do not specify a
year of birth of the athlete (look at athlete IDs 13 and 14 for
example). Since the tool would not be able to compute our
expression on such lines we needed to specify what to do instead.</li>
              </ul>
            </li>
            <li>A new <code class="language-plaintext highlighter-rouge">age</code> column was added to the end of our file, the value is the age of the athlete in years at time of the olympics.</li>
            <li>Arnaud Boetsch is listed on lines 6 and 7. He turned 27 the year of the Olympics in Atlanta.</li>
          </ol>

        </blockquote>
      </blockquote>
    </li>
    <li><strong>Rename</strong> <i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">galaxy-pencil</span> the output to something descriptive (e.g. <code class="language-plaintext highlighter-rouge">Compute: add age column</code>)</li>
  </ol>
</blockquote>

<p>This was a simple computation, but much more complex mathematical expressions can be computed with this tool. See the help section at the bottom of the tool for a list of all supported operations. In the exercise below, we will compute the BMI for each athlete as an example.</p>

<h2 id="exercises-4">Exercises</h2>

<p>BMI stands for Body Mass Index, is a metric to provide a very crude measure of how healthy your weight is. The formula to compute BMI is:</p>

\[BMI = weight / (height^2)\]

<p>(with weight in kilograms and height in meters).</p>

<blockquote class="tip">
  <div class="box-title tip-title" id="tip-bmi-is-problematic"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-bmi-is-problematic" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true" ></i> <span>Tip: BMI is problematic</span><span class="fold-unfold fa fa-minus-square"></span></button></div>
  <p><a href="https://en.wikipedia.org/wiki/Adolphe_Quetelet">Adolphe Quetelet</a>, who invented <a href="https://en.wikipedia.org/wiki/Body_mass_index">BMI</a>, was not a doctor of medicine, instead he was a Belgian astronomer, mathematician, statistician, and sociologist. His data consisted probably entirely of cisgender, white, european men and women <span class="citation"><a href="#Eknoyan_2007">Eknoyan 2007</a></span>.
In his defense, he did argue it should not be used at individual levels, however it came to be used as such due to simplicity. (See <a href="https://en.wikipedia.org/wiki/Body_mass_index#History">Wikipedia’s History section</a>). BMI is a poor measure of health, especially for populations with high muscle content, and cannot be simply re-used as-is with anyone other than Anglo Saxons <span class="citation"><a href="#Caleyachetty_2021">Caleyachetty <i>et al.</i> 2021</a></span>, <a href="https://en.wikipedia.org/wiki/Body_mass_index#Limitations">Wikipedia:Limitations</a>.</p>

  <p>However as it is an easy to calculate metric, we include the calculation here.</p>
</blockquote>

<p>Let’s use the <span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/devteam/column_maker/Add_a_column1/2.0" title="Compute on rows tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Compute on rows</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 2.0)</span> tool to compute this data for all athletes and add it as a new column directly after the existing height and weight columns.</p>

<blockquote class="question">
  <div class="box-title question-title" id="question-exercise-calculating-bmi"><i class="far fa-question-circle" aria-hidden="true"></i> Exercise: Calculating BMI</div>

  <ol>
    <li>How would you express this calculation in the tool?
      <ul>
        <li>
          <p>Remember that our height is in cm, and the formula expects height in meters</p>
        </li>
        <li>
          <p>Try to apply the lessons learnt with regard to error handling from the previous age calculation, i.e. remember the problematic NA values in the weight and height columns.</p>
        </li>
      </ul>
    </li>
    <li>How do you configure the tool to insert the new BMI column directly to the right of the weight column?</li>
    <li>What is the BMI for Arnaud Boetsch?</li>
  </ol>

  <blockquote class="solution">
    <div class="box-title solution-title" id="solution-hints-5"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-hints-5" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Hints</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

    <ul>
      <li>division is <code class="language-plaintext highlighter-rouge">/</code> and multiplication is ` * ` .</li>
      <li>The tool does not recognize the <code class="language-plaintext highlighter-rouge">^</code> operation as exponentiation. You can use <code class="language-plaintext highlighter-rouge">height * height</code> or <code class="language-plaintext highlighter-rouge">pow(height,2)</code>, or replace <code class="language-plaintext highlighter-rouge">^</code> with <code class="language-plaintext highlighter-rouge">**</code>.</li>
      <li>Parentheses may be required.</li>
      <li>
        <p>Use <code class="language-plaintext highlighter-rouge">int(column)</code> like before to tell the tool the columns contain numbers</p>

        <p>This is only needed because the “NA” values will require disabling column type autodetection again.</p>
      </li>
      <li><code class="language-plaintext highlighter-rouge">Append</code> mode will add the newly computed column at the end of the row, but there are other options, too.</li>
    </ul>

  </blockquote>

  <blockquote class="solution">
    <div class="box-title solution-title" id="solution-answers-5"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-answers-5" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Answers</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

    <ol>
      <li><code class="language-plaintext highlighter-rouge">int(c8)/(int(c7)*int(c7))*10000</code> (other variations are possible)</li>
      <li>You can choose <code class="language-plaintext highlighter-rouge">Insert mode</code> and specify column <code class="language-plaintext highlighter-rouge">9</code> as the insert position.</li>
      <li>22.69</li>
    </ol>
  </blockquote>

  <blockquote class="solution">
    <div class="box-title solution-title" id="solution-full-solution"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-full-solution" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Full solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

    <ol>
      <li><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/devteam/column_maker/Add_a_column1/2.0" title="Compute on rows tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Compute on rows</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 2.0)</span> with the following parameters:
        <ul>
          <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Input file”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
          <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Input has a header line with column names?”</em>: <code class="language-plaintext highlighter-rouge">Yes</code></li>
          <li>In <em>“Expressions”</em>:
            <ul>
              <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Add expression”</em>: <code class="language-plaintext highlighter-rouge">int(c8)/(int(c7)*int(c7))*10000</code></li>
              <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Mode of the operation?”</em>: <code class="language-plaintext highlighter-rouge">Insert</code></li>
              <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Insert new column before existing column number”</em>: <code class="language-plaintext highlighter-rouge">9</code></li>
              <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“The new column name”</em>: <code class="language-plaintext highlighter-rouge">BMI</code></li>
            </ul>
          </li>
          <li>Under <em>“Error handling”</em>:
            <ul>
              <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Autodetect column types”</em>: <code class="language-plaintext highlighter-rouge">No</code></li>
              <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“If an expression cannot be computed for a row”</em>: <code class="language-plaintext highlighter-rouge">Fill in a replacement value</code></li>
              <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Replacement value”</em>: <code class="language-plaintext highlighter-rouge">NA (not available)</code></li>
            </ul>
          </li>
        </ul>
      </li>
    </ol>

  </blockquote>

</blockquote>

<h1 id="find-and-replace">Find and Replace</h1>

<p>Often you may need to change the contents of a file a bit to fit the expectations of an analysis tool. For instance, our file uses <code class="language-plaintext highlighter-rouge">NA</code> for missing values, but other conventions included leaving the cell empty, or using <code class="language-plaintext highlighter-rouge">NaN</code> (not a number) instead. Or, when working with chromosomal data, you may need to add or remove the <code class="language-plaintext highlighter-rouge">chr</code> prefix from a column before using it as input to a certain tool. In such situations, we can find all occurrences of a certain pattern in our file, and replace it with another value.</p>

<p>If we want to perform such a replacement on a single column in our data, we can use the <span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/galaxyp/regex_find_replace/regexColumn1/1.0.1" title="Column Regex Find and Replace tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Column Regex Find and Replace</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.0.1)</span> tool, or if we want to do a replacement on a line by line basis (e.g. if our data isn’t tabular and therefore doesn’t have columns), we can use the <span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/galaxyp/regex_find_replace/regex1/1.0.1" title="Regex Find and Replace tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Regex Find and Replace</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.0.1)</span> tool. Both of these tools are similar, in that they use <em>regular expressions</em> (or <em>regex</em>) to define a pattern to search for. Regular expressions are a standardized way to describe patterns, and while they can seem quite complex at first, with just a few of the basics and a bit of practice, you can perform powerful operations on large datasets with ease.</p>

<p>A few of the basics of regular expression, plus some links to further resources are given in the box below:</p>

<!--SNIPPET-->
<blockquote class="tip">   <div class="box-title tip-title" id="tip-regular-expressions-101"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-regular-expressions-101" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> <span>Tip: Regular Expressions 101</span><span class="fold-unfold fa fa-minus-square"></span></button></div>   <p>Regular expressions are a standardized way of describing patterns in textual data. They can be extremely useful for tasks such as finding and replacing data. They can be a bit tricky to master, but learning even just a few of the basics can help you get the most out of Galaxy.</p>   <p><strong>Finding</strong></p>   <p>Below are just a few examples of basic expressions:</p>   <table>   <thead>     <tr>       <th>Regular expression</th>       <th>Matches</th>     </tr>   </thead>   <tbody>     <tr>       <td><code class="language-plaintext highlighter-rouge">abc</code></td>       <td>an occurrence of <code class="language-plaintext highlighter-rouge">abc</code> within your data</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">(abc|def)</code></td>       <td><code class="language-plaintext highlighter-rouge">abc</code> <em>or</em> <code class="language-plaintext highlighter-rouge">def</code></td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">[abc]</code></td>       <td>a single character which is either <code class="language-plaintext highlighter-rouge">a</code>, <code class="language-plaintext highlighter-rouge">b</code>, or <code class="language-plaintext highlighter-rouge">c</code></td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">[^abc]</code></td>       <td>a character that is NOT <code class="language-plaintext highlighter-rouge">a</code>, <code class="language-plaintext highlighter-rouge">b</code>, nor <code class="language-plaintext highlighter-rouge">c</code></td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">[a-z]</code></td>       <td>any lowercase letter</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">[a-zA-Z]</code></td>       <td>any letter (upper or lower case)</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">[0-9]</code></td>       <td>numbers 0-9</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\d</code></td>       <td>any digit (same as <code class="language-plaintext highlighter-rouge">[0-9]</code>)</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\D</code></td>       <td>any non-digit character</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\w</code></td>       <td>any alphanumeric character</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\W</code></td>       <td>any non-alphanumeric character</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\s</code></td>       <td>any whitespace</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\S</code></td>       <td>any non-whitespace character</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">.</code></td>       <td><em>any</em> character</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\.</code></td>       <td> </td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">{x,y}</code></td>       <td>between <em>x</em> and <em>y</em> repetitions</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">^</code></td>       <td>the beginning of the line</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">$</code></td>       <td>the end of the line</td>     </tr>   </tbody> </table>   <p><strong>Note:</strong> you see that characters such as <code class="language-plaintext highlighter-rouge">*</code>, <code class="language-plaintext highlighter-rouge">?</code>, <code class="language-plaintext highlighter-rouge">.</code>, <code class="language-plaintext highlighter-rouge">+</code> etc have a special meaning in a regular expression. If you want to match on those characters, you can escape them with a backslash. So <code class="language-plaintext highlighter-rouge">\?</code> matches the question mark character exactly.</p>   <p><strong>Examples</strong></p>   <table>   <thead>     <tr>       <th>Regular expression</th>       <th>matches</th>     </tr>   </thead>   <tbody>     <tr>       <td><code class="language-plaintext highlighter-rouge">\d{4}</code></td>       <td>4 digits (e.g. a year)</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">chr\d{1,2}</code></td>       <td><code class="language-plaintext highlighter-rouge">chr</code> followed by 1 or 2 digits</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">.*abc$</code></td>       <td>anything with <code class="language-plaintext highlighter-rouge">abc</code> at the end of the line</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">^$</code></td>       <td>empty line</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">^&gt;.*</code></td>       <td>Line starting with <code class="language-plaintext highlighter-rouge">&gt;</code> (e.g. Fasta header)</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">^[^&gt;].*</code></td>       <td>Line not starting with <code class="language-plaintext highlighter-rouge">&gt;</code> (e.g. Fasta sequence)</td>     </tr>   </tbody> </table>   <p><strong>Replacing</strong></p>   <p>Sometimes you need to capture the exact value you matched on, in order to use it in your replacement, we do this using capture groups <code class="language-plaintext highlighter-rouge">(...)</code>, which we can refer to using <code class="language-plaintext highlighter-rouge">\1</code>, <code class="language-plaintext highlighter-rouge">\2</code> etc for the first and second captured values. If you want to refer to the whole match, use <code class="language-plaintext highlighter-rouge">&amp;</code>.</p>   <table>   <thead>     <tr>       <th>Regular expression</th>       <th>Input</th>       <th>Captures</th>     </tr>   </thead>   <tbody>     <tr>       <td><code class="language-plaintext highlighter-rouge">chr(\d{1,2})</code></td>       <td><code class="language-plaintext highlighter-rouge">chr14</code></td>       <td><code class="language-plaintext highlighter-rouge">\1 = 14</code></td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">(\d{2}) July (\d{4})</code></td>       <td>24 July 1984</td>       <td><code class="language-plaintext highlighter-rouge">\1 = 24</code>, <code class="language-plaintext highlighter-rouge">\2 = 1984</code></td>     </tr>   </tbody> </table>   <p>An expression like <code class="language-plaintext highlighter-rouge">s/find/replacement/g</code> indicates a replacement expression, this will search (<code class="language-plaintext highlighter-rouge">s</code>) for any occurrence of <code class="language-plaintext highlighter-rouge">find</code>, and replace it with <code class="language-plaintext highlighter-rouge">replacement</code>. It will do this globally (<code class="language-plaintext highlighter-rouge">g</code>) which means it doesn’t stop after the first match.</p>   <p>Example: <code class="language-plaintext highlighter-rouge">s/chr(\d{1,2})/CHR\1/g</code> will replace <code class="language-plaintext highlighter-rouge">chr14</code> with <code class="language-plaintext highlighter-rouge">CHR14</code> etc.</p>   <p>You can also use replacement modifier such as convert to lower case <code class="language-plaintext highlighter-rouge">\L</code> or upper case <code class="language-plaintext highlighter-rouge">\U</code>. Example: <code class="language-plaintext highlighter-rouge">s/.*/\U&amp;/g</code> will convert the whole text to upper case.</p>   <p>Note: In Galaxy, you are often asked to provide the find and replacement expressions separately, so you don’t have to use the <code class="language-plaintext highlighter-rouge">s/../../g</code> structure.</p>   <p>There is a lot more you can do with regular expressions, and there are a few different flavours in different tools/programming languages, but these are the most important basics that will already allow you to do many of the tasks you might need in your analysis.</p>   <p><strong>Tip:</strong> <a href="https://regexone.com/">RegexOne</a> is a nice interactive tutorial to learn the basics of regular expressions.</p>   <p><strong>Tip:</strong> <a href="https://regex101.com/">Regex101.com</a> is a great resource for interactively testing and constructing your regular expressions, it even provides an explanation of a regular expression if you provide one.</p>   <p><strong>Tip:</strong> <a href="https://extendsclass.com/regex-tester.html">Cyrilex</a> is a visual regular expression tester.</p> </blockquote>
<p><!--END_SNIPPET--></p>

<p>Let’s start with a simple example:</p>

<blockquote class="notranslate hands_on">
  <div class="box-title hands-on-title" id="hands-on-find-and-replace"><i class="fas fa-pencil-alt" aria-hidden="true" ></i> Hands-on: Find and Replace</div>

  <p>Our file uses a mix of <code class="language-plaintext highlighter-rouge">Athina</code> and <code class="language-plaintext highlighter-rouge">Athens</code> to indicate the Capital City of Greece in the <code class="language-plaintext highlighter-rouge">city</code> column.
Let’s standardize this by replacing occurrences of <code class="language-plaintext highlighter-rouge">Athina</code> with <code class="language-plaintext highlighter-rouge">Athens</code>.</p>

  <ol>
    <li>Open <span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/galaxyp/regex_find_replace/regexColumn1/1.0.1" title="Column Regex Find and Replace tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Column Regex Find and Replace</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.0.1)</span>
      <ul>
        <li>Read the help text at the bottom, what settings do you think we need to use?</li>
        <li>
          <p>Read the Regular expressions 101 FAQ below</p>

          <!--SNIPPET-->
          <blockquote class="tip">   <div class="box-title tip-title" id="tip-regular-expressions-101-1"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-regular-expressions-101-1" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> <span>Tip: Regular Expressions 101</span><span class="fold-unfold fa fa-minus-square"></span></button></div>   <p>Regular expressions are a standardized way of describing patterns in textual data. They can be extremely useful for tasks such as finding and replacing data. They can be a bit tricky to master, but learning even just a few of the basics can help you get the most out of Galaxy.</p>   <p><strong>Finding</strong></p>   <p>Below are just a few examples of basic expressions:</p>   <table>   <thead>     <tr>       <th>Regular expression</th>       <th>Matches</th>     </tr>   </thead>   <tbody>     <tr>       <td><code class="language-plaintext highlighter-rouge">abc</code></td>       <td>an occurrence of <code class="language-plaintext highlighter-rouge">abc</code> within your data</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">(abc|def)</code></td>       <td><code class="language-plaintext highlighter-rouge">abc</code> <em>or</em> <code class="language-plaintext highlighter-rouge">def</code></td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">[abc]</code></td>       <td>a single character which is either <code class="language-plaintext highlighter-rouge">a</code>, <code class="language-plaintext highlighter-rouge">b</code>, or <code class="language-plaintext highlighter-rouge">c</code></td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">[^abc]</code></td>       <td>a character that is NOT <code class="language-plaintext highlighter-rouge">a</code>, <code class="language-plaintext highlighter-rouge">b</code>, nor <code class="language-plaintext highlighter-rouge">c</code></td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">[a-z]</code></td>       <td>any lowercase letter</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">[a-zA-Z]</code></td>       <td>any letter (upper or lower case)</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">[0-9]</code></td>       <td>numbers 0-9</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\d</code></td>       <td>any digit (same as <code class="language-plaintext highlighter-rouge">[0-9]</code>)</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\D</code></td>       <td>any non-digit character</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\w</code></td>       <td>any alphanumeric character</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\W</code></td>       <td>any non-alphanumeric character</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\s</code></td>       <td>any whitespace</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\S</code></td>       <td>any non-whitespace character</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">.</code></td>       <td><em>any</em> character</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\.</code></td>       <td> </td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">{x,y}</code></td>       <td>between <em>x</em> and <em>y</em> repetitions</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">^</code></td>       <td>the beginning of the line</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">$</code></td>       <td>the end of the line</td>     </tr>   </tbody> </table>   <p><strong>Note:</strong> you see that characters such as <code class="language-plaintext highlighter-rouge">*</code>, <code class="language-plaintext highlighter-rouge">?</code>, <code class="language-plaintext highlighter-rouge">.</code>, <code class="language-plaintext highlighter-rouge">+</code> etc have a special meaning in a regular expression. If you want to match on those characters, you can escape them with a backslash. So <code class="language-plaintext highlighter-rouge">\?</code> matches the question mark character exactly.</p>   <p><strong>Examples</strong></p>   <table>   <thead>     <tr>       <th>Regular expression</th>       <th>matches</th>     </tr>   </thead>   <tbody>     <tr>       <td><code class="language-plaintext highlighter-rouge">\d{4}</code></td>       <td>4 digits (e.g. a year)</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">chr\d{1,2}</code></td>       <td><code class="language-plaintext highlighter-rouge">chr</code> followed by 1 or 2 digits</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">.*abc$</code></td>       <td>anything with <code class="language-plaintext highlighter-rouge">abc</code> at the end of the line</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">^$</code></td>       <td>empty line</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">^&gt;.*</code></td>       <td>Line starting with <code class="language-plaintext highlighter-rouge">&gt;</code> (e.g. Fasta header)</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">^[^&gt;].*</code></td>       <td>Line not starting with <code class="language-plaintext highlighter-rouge">&gt;</code> (e.g. Fasta sequence)</td>     </tr>   </tbody> </table>   <p><strong>Replacing</strong></p>   <p>Sometimes you need to capture the exact value you matched on, in order to use it in your replacement, we do this using capture groups <code class="language-plaintext highlighter-rouge">(...)</code>, which we can refer to using <code class="language-plaintext highlighter-rouge">\1</code>, <code class="language-plaintext highlighter-rouge">\2</code> etc for the first and second captured values. If you want to refer to the whole match, use <code class="language-plaintext highlighter-rouge">&amp;</code>.</p>   <table>   <thead>     <tr>       <th>Regular expression</th>       <th>Input</th>       <th>Captures</th>     </tr>   </thead>   <tbody>     <tr>       <td><code class="language-plaintext highlighter-rouge">chr(\d{1,2})</code></td>       <td><code class="language-plaintext highlighter-rouge">chr14</code></td>       <td><code class="language-plaintext highlighter-rouge">\1 = 14</code></td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">(\d{2}) July (\d{4})</code></td>       <td>24 July 1984</td>       <td><code class="language-plaintext highlighter-rouge">\1 = 24</code>, <code class="language-plaintext highlighter-rouge">\2 = 1984</code></td>     </tr>   </tbody> </table>   <p>An expression like <code class="language-plaintext highlighter-rouge">s/find/replacement/g</code> indicates a replacement expression, this will search (<code class="language-plaintext highlighter-rouge">s</code>) for any occurrence of <code class="language-plaintext highlighter-rouge">find</code>, and replace it with <code class="language-plaintext highlighter-rouge">replacement</code>. It will do this globally (<code class="language-plaintext highlighter-rouge">g</code>) which means it doesn’t stop after the first match.</p>   <p>Example: <code class="language-plaintext highlighter-rouge">s/chr(\d{1,2})/CHR\1/g</code> will replace <code class="language-plaintext highlighter-rouge">chr14</code> with <code class="language-plaintext highlighter-rouge">CHR14</code> etc.</p>   <p>You can also use replacement modifier such as convert to lower case <code class="language-plaintext highlighter-rouge">\L</code> or upper case <code class="language-plaintext highlighter-rouge">\U</code>. Example: <code class="language-plaintext highlighter-rouge">s/.*/\U&amp;/g</code> will convert the whole text to upper case.</p>   <p>Note: In Galaxy, you are often asked to provide the find and replacement expressions separately, so you don’t have to use the <code class="language-plaintext highlighter-rouge">s/../../g</code> structure.</p>   <p>There is a lot more you can do with regular expressions, and there are a few different flavours in different tools/programming languages, but these are the most important basics that will already allow you to do many of the tasks you might need in your analysis.</p>   <p><strong>Tip:</strong> <a href="https://regexone.com/">RegexOne</a> is a nice interactive tutorial to learn the basics of regular expressions.</p>   <p><strong>Tip:</strong> <a href="https://regex101.com/">Regex101.com</a> is a great resource for interactively testing and constructing your regular expressions, it even provides an explanation of a regular expression if you provide one.</p>   <p><strong>Tip:</strong> <a href="https://extendsclass.com/regex-tester.html">Cyrilex</a> is a visual regular expression tester.</p> </blockquote>
          <p><!--END_SNIPPET--></p>
        </li>
      </ul>
    </li>
    <li><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/galaxyp/regex_find_replace/regexColumn1/1.0.1" title="Column Regex Find and Replace tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Column Regex Find and Replace</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.0.1)</span> with the following parameters:
      <ul>
        <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Select cells from”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
        <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span><em>“using column”</em>: <code class="language-plaintext highlighter-rouge">Column 14</code></li>
        <li><i class="far fa-plus-square" aria-hidden="true"></i><span class="visually-hidden">param-repeat</span> <em>“Check”</em>
          <ul>
            <li><em>“Find Regex”</em>: <code class="language-plaintext highlighter-rouge">Athina</code></li>
            <li><em>“Replacement”</em>: <code class="language-plaintext highlighter-rouge">Athens</code></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">galaxy-eye</span> <strong>View</strong> the results.
      <ul>
        <li>Look at the file before and after. Athlete 7 (Patrick Chila) near the top of the <code class="language-plaintext highlighter-rouge">olympics.tsv</code> file, had a value of Athina in the city column. Verify that it has been changed to Athens.</li>
      </ul>

      <blockquote class="question">
        <div class="box-title question-title" id="question-24"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <p>Why did we use the column replace tool, and not the general replace tool?</p>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-18"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-18" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <p>It is safer to use the column replace tool in our case. We know the city name only occurs in one of the columns.
If we had used the line replace tool, it would have replaced all occurrences of <code class="language-plaintext highlighter-rouge">Athina</code>, which may have unforeseen consequences (e.g. maybe somebody was named Athina, in that case we don’t want to replace it)</p>

        </blockquote>
      </blockquote>
    </li>
  </ol>

</blockquote>

<p>This was rather simple example, so let’s try a few more examples with slightly more complex expressions.</p>

<h2 id="exercises-5">Exercises</h2>

<p>You may have noticed that our file has a lot of missing data. Especially for the earlier years, things like height, weight and birthday of athletes was not registered, or simply not known. In some columns you see these missing values have been replaced with an <code class="language-plaintext highlighter-rouge">NA</code> (not available) value. In other columns (for example birth place), the cells have simply been left empty.</p>

<p>Different tools may expect different ways of handling missing data. So you may have to change your missing data from empty to <code class="language-plaintext highlighter-rouge">NA</code>, <code class="language-plaintext highlighter-rouge">NaN</code>, or something else, between analysis steps</p>

<blockquote class="notranslate hands_on">
  <div class="box-title hands-on-title" id="hands-on-fill-empty-cells"><i class="fas fa-pencil-alt" aria-hidden="true" ></i> Hands-on: Fill empty cells</div>

  <p>We will now replace empty cells in the <code class="language-plaintext highlighter-rouge">birth_place</code> column, to use <code class="language-plaintext highlighter-rouge">NA</code> instead</p>

  <ol>
    <li>Open <span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/galaxyp/regex_find_replace/regexColumn1/1.0.1" title="Column Regex Find and Replace tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Column Regex Find and Replace</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.0.1)</span>
      <ul>
        <li>Read the help text at the bottom, what settings do you think we need to use?</li>
        <li>
          <p>Read the Regular expressions 101 FAQ below</p>

          <!--SNIPPET-->
          <blockquote class="tip">   <div class="box-title tip-title" id="tip-regular-expressions-101-2"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-regular-expressions-101-2" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> <span>Tip: Regular Expressions 101</span><span class="fold-unfold fa fa-minus-square"></span></button></div>   <p>Regular expressions are a standardized way of describing patterns in textual data. They can be extremely useful for tasks such as finding and replacing data. They can be a bit tricky to master, but learning even just a few of the basics can help you get the most out of Galaxy.</p>   <p><strong>Finding</strong></p>   <p>Below are just a few examples of basic expressions:</p>   <table>   <thead>     <tr>       <th>Regular expression</th>       <th>Matches</th>     </tr>   </thead>   <tbody>     <tr>       <td><code class="language-plaintext highlighter-rouge">abc</code></td>       <td>an occurrence of <code class="language-plaintext highlighter-rouge">abc</code> within your data</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">(abc|def)</code></td>       <td><code class="language-plaintext highlighter-rouge">abc</code> <em>or</em> <code class="language-plaintext highlighter-rouge">def</code></td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">[abc]</code></td>       <td>a single character which is either <code class="language-plaintext highlighter-rouge">a</code>, <code class="language-plaintext highlighter-rouge">b</code>, or <code class="language-plaintext highlighter-rouge">c</code></td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">[^abc]</code></td>       <td>a character that is NOT <code class="language-plaintext highlighter-rouge">a</code>, <code class="language-plaintext highlighter-rouge">b</code>, nor <code class="language-plaintext highlighter-rouge">c</code></td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">[a-z]</code></td>       <td>any lowercase letter</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">[a-zA-Z]</code></td>       <td>any letter (upper or lower case)</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">[0-9]</code></td>       <td>numbers 0-9</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\d</code></td>       <td>any digit (same as <code class="language-plaintext highlighter-rouge">[0-9]</code>)</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\D</code></td>       <td>any non-digit character</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\w</code></td>       <td>any alphanumeric character</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\W</code></td>       <td>any non-alphanumeric character</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\s</code></td>       <td>any whitespace</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\S</code></td>       <td>any non-whitespace character</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">.</code></td>       <td><em>any</em> character</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\.</code></td>       <td> </td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">{x,y}</code></td>       <td>between <em>x</em> and <em>y</em> repetitions</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">^</code></td>       <td>the beginning of the line</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">$</code></td>       <td>the end of the line</td>     </tr>   </tbody> </table>   <p><strong>Note:</strong> you see that characters such as <code class="language-plaintext highlighter-rouge">*</code>, <code class="language-plaintext highlighter-rouge">?</code>, <code class="language-plaintext highlighter-rouge">.</code>, <code class="language-plaintext highlighter-rouge">+</code> etc have a special meaning in a regular expression. If you want to match on those characters, you can escape them with a backslash. So <code class="language-plaintext highlighter-rouge">\?</code> matches the question mark character exactly.</p>   <p><strong>Examples</strong></p>   <table>   <thead>     <tr>       <th>Regular expression</th>       <th>matches</th>     </tr>   </thead>   <tbody>     <tr>       <td><code class="language-plaintext highlighter-rouge">\d{4}</code></td>       <td>4 digits (e.g. a year)</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">chr\d{1,2}</code></td>       <td><code class="language-plaintext highlighter-rouge">chr</code> followed by 1 or 2 digits</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">.*abc$</code></td>       <td>anything with <code class="language-plaintext highlighter-rouge">abc</code> at the end of the line</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">^$</code></td>       <td>empty line</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">^&gt;.*</code></td>       <td>Line starting with <code class="language-plaintext highlighter-rouge">&gt;</code> (e.g. Fasta header)</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">^[^&gt;].*</code></td>       <td>Line not starting with <code class="language-plaintext highlighter-rouge">&gt;</code> (e.g. Fasta sequence)</td>     </tr>   </tbody> </table>   <p><strong>Replacing</strong></p>   <p>Sometimes you need to capture the exact value you matched on, in order to use it in your replacement, we do this using capture groups <code class="language-plaintext highlighter-rouge">(...)</code>, which we can refer to using <code class="language-plaintext highlighter-rouge">\1</code>, <code class="language-plaintext highlighter-rouge">\2</code> etc for the first and second captured values. If you want to refer to the whole match, use <code class="language-plaintext highlighter-rouge">&amp;</code>.</p>   <table>   <thead>     <tr>       <th>Regular expression</th>       <th>Input</th>       <th>Captures</th>     </tr>   </thead>   <tbody>     <tr>       <td><code class="language-plaintext highlighter-rouge">chr(\d{1,2})</code></td>       <td><code class="language-plaintext highlighter-rouge">chr14</code></td>       <td><code class="language-plaintext highlighter-rouge">\1 = 14</code></td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">(\d{2}) July (\d{4})</code></td>       <td>24 July 1984</td>       <td><code class="language-plaintext highlighter-rouge">\1 = 24</code>, <code class="language-plaintext highlighter-rouge">\2 = 1984</code></td>     </tr>   </tbody> </table>   <p>An expression like <code class="language-plaintext highlighter-rouge">s/find/replacement/g</code> indicates a replacement expression, this will search (<code class="language-plaintext highlighter-rouge">s</code>) for any occurrence of <code class="language-plaintext highlighter-rouge">find</code>, and replace it with <code class="language-plaintext highlighter-rouge">replacement</code>. It will do this globally (<code class="language-plaintext highlighter-rouge">g</code>) which means it doesn’t stop after the first match.</p>   <p>Example: <code class="language-plaintext highlighter-rouge">s/chr(\d{1,2})/CHR\1/g</code> will replace <code class="language-plaintext highlighter-rouge">chr14</code> with <code class="language-plaintext highlighter-rouge">CHR14</code> etc.</p>   <p>You can also use replacement modifier such as convert to lower case <code class="language-plaintext highlighter-rouge">\L</code> or upper case <code class="language-plaintext highlighter-rouge">\U</code>. Example: <code class="language-plaintext highlighter-rouge">s/.*/\U&amp;/g</code> will convert the whole text to upper case.</p>   <p>Note: In Galaxy, you are often asked to provide the find and replacement expressions separately, so you don’t have to use the <code class="language-plaintext highlighter-rouge">s/../../g</code> structure.</p>   <p>There is a lot more you can do with regular expressions, and there are a few different flavours in different tools/programming languages, but these are the most important basics that will already allow you to do many of the tasks you might need in your analysis.</p>   <p><strong>Tip:</strong> <a href="https://regexone.com/">RegexOne</a> is a nice interactive tutorial to learn the basics of regular expressions.</p>   <p><strong>Tip:</strong> <a href="https://regex101.com/">Regex101.com</a> is a great resource for interactively testing and constructing your regular expressions, it even provides an explanation of a regular expression if you provide one.</p>   <p><strong>Tip:</strong> <a href="https://extendsclass.com/regex-tester.html">Cyrilex</a> is a visual regular expression tester.</p> </blockquote>
          <p><!--END_SNIPPET--></p>
        </li>
      </ul>

      <blockquote class="question">
        <div class="box-title question-title" id="question-25"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <ol>
          <li>Should we use the column or line replace tool?</li>
          <li>What is the expression for an empty line? (hint: see regular expressions 101 box above)</li>
        </ol>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-19"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-19" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>Since we only want to replace in one column, we will use the column replace tool</li>
            <li><code class="language-plaintext highlighter-rouge">^$</code> indicates an empty line (<code class="language-plaintext highlighter-rouge">^</code> indicated the beginning, and <code class="language-plaintext highlighter-rouge">$</code> the end). The value in the column is treated as the line, since we are looking only in 1 column.</li>
          </ol>

        </blockquote>
      </blockquote>
    </li>
    <li><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/galaxyp/regex_find_replace/regexColumn1/1.0.1" title="Column Regex Find and Replace tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Column Regex Find and Replace</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.0.1)</span> with the following parameters:
      <ul>
        <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Select cells from”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
        <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span><em>“using column”</em>: <code class="language-plaintext highlighter-rouge">Column 6</code></li>
        <li><i class="far fa-plus-square" aria-hidden="true"></i><span class="visually-hidden">param-repeat</span> <em>“Check”</em>
          <ul>
            <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Find Regex”</em>: <code class="language-plaintext highlighter-rouge">^$</code></li>
            <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Replacement”</em>: <code class="language-plaintext highlighter-rouge">NA</code></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">galaxy-eye</span> <strong>View</strong> the results.
      <ul>
        <li>Look at the file before replacement, find a line without a value in the <code class="language-plaintext highlighter-rouge">birth_place</code> column. Verify that it has been replaced in the resulting file.</li>
      </ul>
    </li>
  </ol>

</blockquote>

<p>Let’s do another example, this one using capture groups.</p>

<p>Look at the <code class="language-plaintext highlighter-rouge">birth_day</code> column. It has values in a format like <code class="language-plaintext highlighter-rouge">12 December</code>. Suppose we have a tool that expects this data to be in the reverse format, <code class="language-plaintext highlighter-rouge">December 12</code>. The file is too big to change this manually in every column. But with regular expression tools we can make this replacement easily</p>

<blockquote class="notranslate hands_on">
  <div class="box-title hands-on-title" id="hands-on-reverse-birthday-format"><i class="fas fa-pencil-alt" aria-hidden="true" ></i> Hands-on: Reverse Birthday Format</div>

  <p>We will now change the format in birthday column from <code class="language-plaintext highlighter-rouge">day month</code> to <code class="language-plaintext highlighter-rouge">month day</code></p>

  <ol>
    <li>Open <span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/galaxyp/regex_find_replace/regexColumn1/1.0.1" title="Column Regex Find and Replace tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Column Regex Find and Replace</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.0.1)</span>
      <ul>
        <li>Read the help text at the bottom, what settings do you think we need to use?</li>
        <li>
          <p>Read the Regular expressions 101 FAQ below</p>

          <!--SNIPPET-->
          <blockquote class="tip">   <div class="box-title tip-title" id="tip-regular-expressions-101-3"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-regular-expressions-101-3" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> <span>Tip: Regular Expressions 101</span><span class="fold-unfold fa fa-minus-square"></span></button></div>   <p>Regular expressions are a standardized way of describing patterns in textual data. They can be extremely useful for tasks such as finding and replacing data. They can be a bit tricky to master, but learning even just a few of the basics can help you get the most out of Galaxy.</p>   <p><strong>Finding</strong></p>   <p>Below are just a few examples of basic expressions:</p>   <table>   <thead>     <tr>       <th>Regular expression</th>       <th>Matches</th>     </tr>   </thead>   <tbody>     <tr>       <td><code class="language-plaintext highlighter-rouge">abc</code></td>       <td>an occurrence of <code class="language-plaintext highlighter-rouge">abc</code> within your data</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">(abc|def)</code></td>       <td><code class="language-plaintext highlighter-rouge">abc</code> <em>or</em> <code class="language-plaintext highlighter-rouge">def</code></td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">[abc]</code></td>       <td>a single character which is either <code class="language-plaintext highlighter-rouge">a</code>, <code class="language-plaintext highlighter-rouge">b</code>, or <code class="language-plaintext highlighter-rouge">c</code></td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">[^abc]</code></td>       <td>a character that is NOT <code class="language-plaintext highlighter-rouge">a</code>, <code class="language-plaintext highlighter-rouge">b</code>, nor <code class="language-plaintext highlighter-rouge">c</code></td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">[a-z]</code></td>       <td>any lowercase letter</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">[a-zA-Z]</code></td>       <td>any letter (upper or lower case)</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">[0-9]</code></td>       <td>numbers 0-9</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\d</code></td>       <td>any digit (same as <code class="language-plaintext highlighter-rouge">[0-9]</code>)</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\D</code></td>       <td>any non-digit character</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\w</code></td>       <td>any alphanumeric character</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\W</code></td>       <td>any non-alphanumeric character</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\s</code></td>       <td>any whitespace</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\S</code></td>       <td>any non-whitespace character</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">.</code></td>       <td><em>any</em> character</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">\.</code></td>       <td> </td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">{x,y}</code></td>       <td>between <em>x</em> and <em>y</em> repetitions</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">^</code></td>       <td>the beginning of the line</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">$</code></td>       <td>the end of the line</td>     </tr>   </tbody> </table>   <p><strong>Note:</strong> you see that characters such as <code class="language-plaintext highlighter-rouge">*</code>, <code class="language-plaintext highlighter-rouge">?</code>, <code class="language-plaintext highlighter-rouge">.</code>, <code class="language-plaintext highlighter-rouge">+</code> etc have a special meaning in a regular expression. If you want to match on those characters, you can escape them with a backslash. So <code class="language-plaintext highlighter-rouge">\?</code> matches the question mark character exactly.</p>   <p><strong>Examples</strong></p>   <table>   <thead>     <tr>       <th>Regular expression</th>       <th>matches</th>     </tr>   </thead>   <tbody>     <tr>       <td><code class="language-plaintext highlighter-rouge">\d{4}</code></td>       <td>4 digits (e.g. a year)</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">chr\d{1,2}</code></td>       <td><code class="language-plaintext highlighter-rouge">chr</code> followed by 1 or 2 digits</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">.*abc$</code></td>       <td>anything with <code class="language-plaintext highlighter-rouge">abc</code> at the end of the line</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">^$</code></td>       <td>empty line</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">^&gt;.*</code></td>       <td>Line starting with <code class="language-plaintext highlighter-rouge">&gt;</code> (e.g. Fasta header)</td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">^[^&gt;].*</code></td>       <td>Line not starting with <code class="language-plaintext highlighter-rouge">&gt;</code> (e.g. Fasta sequence)</td>     </tr>   </tbody> </table>   <p><strong>Replacing</strong></p>   <p>Sometimes you need to capture the exact value you matched on, in order to use it in your replacement, we do this using capture groups <code class="language-plaintext highlighter-rouge">(...)</code>, which we can refer to using <code class="language-plaintext highlighter-rouge">\1</code>, <code class="language-plaintext highlighter-rouge">\2</code> etc for the first and second captured values. If you want to refer to the whole match, use <code class="language-plaintext highlighter-rouge">&amp;</code>.</p>   <table>   <thead>     <tr>       <th>Regular expression</th>       <th>Input</th>       <th>Captures</th>     </tr>   </thead>   <tbody>     <tr>       <td><code class="language-plaintext highlighter-rouge">chr(\d{1,2})</code></td>       <td><code class="language-plaintext highlighter-rouge">chr14</code></td>       <td><code class="language-plaintext highlighter-rouge">\1 = 14</code></td>     </tr>     <tr>       <td><code class="language-plaintext highlighter-rouge">(\d{2}) July (\d{4})</code></td>       <td>24 July 1984</td>       <td><code class="language-plaintext highlighter-rouge">\1 = 24</code>, <code class="language-plaintext highlighter-rouge">\2 = 1984</code></td>     </tr>   </tbody> </table>   <p>An expression like <code class="language-plaintext highlighter-rouge">s/find/replacement/g</code> indicates a replacement expression, this will search (<code class="language-plaintext highlighter-rouge">s</code>) for any occurrence of <code class="language-plaintext highlighter-rouge">find</code>, and replace it with <code class="language-plaintext highlighter-rouge">replacement</code>. It will do this globally (<code class="language-plaintext highlighter-rouge">g</code>) which means it doesn’t stop after the first match.</p>   <p>Example: <code class="language-plaintext highlighter-rouge">s/chr(\d{1,2})/CHR\1/g</code> will replace <code class="language-plaintext highlighter-rouge">chr14</code> with <code class="language-plaintext highlighter-rouge">CHR14</code> etc.</p>   <p>You can also use replacement modifier such as convert to lower case <code class="language-plaintext highlighter-rouge">\L</code> or upper case <code class="language-plaintext highlighter-rouge">\U</code>. Example: <code class="language-plaintext highlighter-rouge">s/.*/\U&amp;/g</code> will convert the whole text to upper case.</p>   <p>Note: In Galaxy, you are often asked to provide the find and replacement expressions separately, so you don’t have to use the <code class="language-plaintext highlighter-rouge">s/../../g</code> structure.</p>   <p>There is a lot more you can do with regular expressions, and there are a few different flavours in different tools/programming languages, but these are the most important basics that will already allow you to do many of the tasks you might need in your analysis.</p>   <p><strong>Tip:</strong> <a href="https://regexone.com/">RegexOne</a> is a nice interactive tutorial to learn the basics of regular expressions.</p>   <p><strong>Tip:</strong> <a href="https://regex101.com/">Regex101.com</a> is a great resource for interactively testing and constructing your regular expressions, it even provides an explanation of a regular expression if you provide one.</p>   <p><strong>Tip:</strong> <a href="https://extendsclass.com/regex-tester.html">Cyrilex</a> is a visual regular expression tester.</p> </blockquote>
          <p><!--END_SNIPPET--></p>
        </li>
      </ul>

      <blockquote class="question">
        <div class="box-title question-title" id="question-26"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <ol>
          <li>How do we match on the birthday format? How strict/exact shoule we be here?</li>
          <li>How do we captures both the day and the month?</li>
          <li>How do we refer to the values we captured (for the replacement value)</li>
        </ol>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-hints-6"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-hints-6" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Hints</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>Birthday is one or more digits, followed by a space, followed by one or more letters.</li>
            <li>Remember that you can capture values using parentheses <code class="language-plaintext highlighter-rouge">(..)</code></li>
            <li><code class="language-plaintext highlighter-rouge">\1</code> will be the variable containing the value in the first capture, <code class="language-plaintext highlighter-rouge">\2</code> the second, etc</li>
          </ol>

        </blockquote>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-answers-6"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-answers-6" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Answers</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>There are multiple solutions here, depending on how strict you want to be
              <ul>
                <li><code class="language-plaintext highlighter-rouge">\d+ ([a-zA-Z]+)</code> (not strict, would also match on <code class="language-plaintext highlighter-rouge">142 Septober</code></li>
                <li><code class="language-plaintext highlighter-rouge">[0-9]{1,2} (January|February|March|April|May|June|July|August|September|October|November|December)</code> (this is much more strict, only matches on 1 or 2 digits, followed by a space, followed by one of the months. But this would still match on 42 April, and may miss it if one month names didn’t start with a capital letter)</li>
                <li><code class="language-plaintext highlighter-rouge">[123]?[0-9] [a-zA-Z]+</code> this will only allow dates below 40</li>
              </ul>

              <p>There are different ways to express this, and there is no one perfect solution. If you know your data is clean, and you do not have to worry about values like 42 Septober,
then you can be less strict. If your data is less clean, you may be more worried about capturing things that aren’t valid birthdays and might want to be a bit stricter.
It all depends on your data and use case.</p>
            </li>
            <li><code class="language-plaintext highlighter-rouge">([\d]{1,2}) ([a-zA-Z]+)</code> captures both the day and the month</li>
            <li>We can use <code class="language-plaintext highlighter-rouge">\1</code> to refer to the day we captured, and <code class="language-plaintext highlighter-rouge">\2</code> for the month in our replacement.</li>
          </ol>

        </blockquote>
      </blockquote>
    </li>
    <li><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/galaxyp/regex_find_replace/regexColumn1/1.0.1" title="Column Regex Finda and Replace tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Column Regex Finda and Replace</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.0.1)</span> with the following parameters:
      <ul>
        <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Select cells from”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
        <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span><em>“using column”</em>: <code class="language-plaintext highlighter-rouge">Column 5</code></li>
        <li><i class="far fa-plus-square" aria-hidden="true"></i><span class="visually-hidden">param-repeat</span> <em>“Check”</em>
          <ul>
            <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Find Regex”</em>: <code class="language-plaintext highlighter-rouge">(\d{1,2}) ([a-zA-Z]+)</code> (or your own variation)</li>
            <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Replacement”</em>: <code class="language-plaintext highlighter-rouge">\2 \1</code> (first month, then space, then day)</li>
          </ul>
        </li>
      </ul>
    </li>
    <li><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">galaxy-eye</span> <strong>View</strong> the results.
      <ul>
        <li>Did it work? If not, no shame, it often takes some trial and error to get your expression right. Click the rerun <i class="fas fa-redo" aria-hidden="true"></i><span class="visually-hidden">galaxy-refresh</span> button on the tool,
and tweak your expression until it works.</li>
      </ul>
    </li>
  </ol>

</blockquote>

<h1 id="removing-columns">Removing Columns</h1>

<p>We can remove columns from a table using either <span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/iuc/column_remove_by_header/column_remove_by_header/0.0.1" title="Remove columns by heading tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Remove columns by heading</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 0.0.1)</span> if your table has a header line, or <span class="tool" data-tool="Cut1" title="Cut columns from a table tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Cut columns from a table</strong></span> if it does not (in this case we just indicate columns by their number). These tools can also be used to change the order of columns in your file. There is also the tool <span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cut_tool/1.1.0" title="Advanced Cut columns from a table tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Advanced Cut columns from a table</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.0)</span> that offers a few more options.</p>

<p>To do the reverse, adding one or more columns, we can use the <span class="tool" data-tool="Paste1" title="Paste tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Paste</strong></span> tool. This assumes we have the same number of rows in both files, already in the correct order. It is a very “dumb” tool that simple combines the two files next to each other.</p>

<blockquote class="notranslate hands_on">
  <div class="box-title hands-on-title" id="hands-on-remove-columns"><i class="fas fa-pencil-alt" aria-hidden="true" ></i> Hands-on: Remove columns</div>

  <p>Suppose we want to simplify our file a bit. All we want is file with 4 columns: athlete name, sport, olympic games, and medals.</p>

  <ol>
    <li>Open the <span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/iuc/column_remove_by_header/column_remove_by_header/0.0.1" title="Remove columns by heading tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Remove columns by heading</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 0.0.1)</span> tool and read the help text at the bottom.
      <ul>
        <li>Which settings do you think we need?</li>
      </ul>
    </li>
    <li><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/iuc/column_remove_by_header/column_remove_by_header/0.0.1" title="Remove columns by heading tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Remove columns by heading</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 0.0.1)</span> with the following parameters:
      <ul>
        <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Tabular File”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
        <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Header name”</em>: <code class="language-plaintext highlighter-rouge">name</code></li>
        <li><i class="far fa-plus-square" aria-hidden="true"></i><span class="visually-hidden">param-repeat</span> <em>“Header name”</em>: <code class="language-plaintext highlighter-rouge">sport</code></li>
        <li><i class="far fa-plus-square" aria-hidden="true"></i><span class="visually-hidden">param-repeat</span> <em>“Header name”</em>: <code class="language-plaintext highlighter-rouge">games</code></li>
        <li><i class="far fa-plus-square" aria-hidden="true"></i><span class="visually-hidden">param-repeat</span> <em>“Header name”</em>: <code class="language-plaintext highlighter-rouge">medals</code></li>
        <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Keep named columns”</em>: <code class="language-plaintext highlighter-rouge">Yes</code></li>
      </ul>
    </li>
    <li>
      <p><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">galaxy-eye</span> <strong>View</strong> the results.</p>

      <blockquote class="question">
        <div class="box-title question-title" id="question-27"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <ol>
          <li>How many rows and columns do you expect the output to have?</li>
        </ol>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-20"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-20" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>We expect the same number of rows as the original dataset, but now only the 4 columns we requested to keep.</li>
          </ol>

        </blockquote>
      </blockquote>
    </li>
  </ol>

</blockquote>

<p>Notice that during this step, we also changed the order of the columns. This tool can also be used to re-arrange columns, if you supply all column names but in a different order.</p>

<h2 id="exercises-6">Exercises</h2>

<blockquote class="question">
  <div class="box-title question-title" id="question-exercise-removing-columns"><i class="far fa-question-circle" aria-hidden="true"></i> Exercise: Removing Columns</div>

  <ol>
    <li>Create a file with 4 columns: name, sport, games, medal (same task as the previous hands-on), but use the <span class="tool" data-tool="Cut1" title="Cut columns from a table tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Cut columns from a table</strong></span> tool instead.</li>
    <li>Create a file that is similar to <code class="language-plaintext highlighter-rouge">olympics.tsv</code>, but without the first column (athlete_id column)</li>
    <li>You want to keep all the columns of <code class="language-plaintext highlighter-rouge">olympics.tsv</code>, but change the order so that <code class="language-plaintext highlighter-rouge">sport</code> and <code class="language-plaintext highlighter-rouge">event</code> come right after the athlete’s name.</li>
  </ol>

  <blockquote class="solution">
    <div class="box-title solution-title" id="solution-hints-7"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-hints-7" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Hints</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

    <ol>
      <li>We need to determine the column numbers and provide these to the tool, rather than the column headers</li>
      <li>Think about what the <em>“Keep named colums”</em> parameter does to simplify the settings here</li>
      <li>Which of the two tools would be easier to use? (this can be a personal preference, but think about whether you would rather provide column names or numbers)</li>
    </ol>

  </blockquote>

  <blockquote class="solution">
    <div class="box-title solution-title" id="solution-full-solutions-3"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-full-solutions-3" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Full Solutions</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

    <ol>
      <li><span class="tool" data-tool="Cut1" title="Cut columns from a table tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Cut columns from a table</strong></span> using the following parameters:
        <ul>
          <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Cut Columns”</em>: <code class="language-plaintext highlighter-rouge">c2,c15,c11,c17</code></li>
          <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Delimited By”</em>: <code class="language-plaintext highlighter-rouge">TAB</code></li>
          <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“From”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
        </ul>
      </li>
      <li><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/iuc/column_remove_by_header/column_remove_by_header/0.0.1" title="Remove columns by heading tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Remove columns by heading</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 0.0.1)</span> with the following parameters:
        <ul>
          <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Tabular File”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
          <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Header name”</em>: <code class="language-plaintext highlighter-rouge">athlete_id</code></li>
          <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Keep named columns”</em>: <code class="language-plaintext highlighter-rouge">No</code></li>
        </ul>

        <p><strong>Note:</strong> the <em>“Keep named columns”</em> parameter determines wheter we keep or remove the columns we specified.
You could have obtained the same result by supplying all column names except the first one, and selecting
<em>“Keep named columns”</em>: <code class="language-plaintext highlighter-rouge">No</code>, but that would have been a lot more work.</p>
      </li>
      <li><span class="tool" data-tool="Cut1" title="Cut columns from a table tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Cut columns from a table</strong></span> using the following parameters:
        <ul>
          <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Cut Columns”</em>: <code class="language-plaintext highlighter-rouge">c1,c2,c15,c16,c3,c4,c5,c6,c7,c8,c9,c10,c11,c12,c13,c14,c17</code></li>
          <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span><em>“Delimited By”</em>: <code class="language-plaintext highlighter-rouge">TAB</code></li>
          <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“From”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
        </ul>

        <p><strong>Note:</strong> you can also use the <span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/iuc/column_remove_by_header/column_remove_by_header/0.0.1" title="Remove columns by heading tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Remove columns by heading</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 0.0.1)</span>, it just requires a bit more typing,
but on the other hand it is also a bit less error-prone (i.e. it is easier to mix up column numbers than column names).</p>
      </li>
    </ol>

  </blockquote>

</blockquote>

<h1 id="unique">Unique</h1>

<p>Sometimes, in the course of our data manipulations, we may end up with a file that has duplicate rows. In order to filter these out, we can use the <span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sorted_uniq/1.1.0" title="Unique occurrences of each record tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Unique occurrences of each record</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.0)</span> tool.</p>

<p>Let’s say we would like to create a list of all unique athletes (id and name).</p>

<blockquote class="notranslate hands_on">
  <div class="box-title hands-on-title" id="hands-on-obtaining-list-of-unique-athletes"><i class="fas fa-pencil-alt" aria-hidden="true" ></i> Hands-on: Obtaining list of unique athletes</div>

  <p>First we will cut just the <code class="language-plaintext highlighter-rouge">athlete_id</code> and <code class="language-plaintext highlighter-rouge">name</code> columns from our dataset
(please see the <a href="#removing-columns">Removing Columns</a> section for more info on this step)</p>

  <ol>
    <li><span class="tool" data-tool="Cut1" title="Cut columns from a table tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Cut columns from a table</strong></span> using the following parameters:
      <ul>
        <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Cut Columns”</em>: <code class="language-plaintext highlighter-rouge">c1,c2</code></li>
        <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Delimited By”</em>: <code class="language-plaintext highlighter-rouge">TAB</code></li>
        <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“From”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
      </ul>
    </li>
    <li>
      <p><strong>View</strong> <i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">galaxy-eye</span> the resulting dataset</p>

      <blockquote class="question">
        <div class="box-title question-title" id="question-28"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <ol>
          <li>Do you see duplication? Why is that?</li>
        </ol>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-21"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-21" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>Yes. For all athletes who participated more than once, the row will be identical.</li>
          </ol>

        </blockquote>
      </blockquote>
    </li>
    <li><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sorted_uniq/1.1.0" title="Unique - occurrences of each record tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Unique - occurrences of each record</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.0)</span> with the following parameters:
      <ul>
        <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“File to scan for unique values”</em>: <code class="language-plaintext highlighter-rouge">output from the first step</code></li>
      </ul>
    </li>
    <li>
      <p><strong>View</strong> <i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">galaxy-eye</span> the resulting dataset</p>

      <blockquote class="question">
        <div class="box-title question-title" id="question-29"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <ol>
          <li>What happened to our header line? How could we fix that?</li>
          <li>How many unique athletes do we have?</li>
        </ol>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-22"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-22" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>The unique tool has done some sorting internally, so our header line is not longer at the top. We could fix this in several ways:
              <ul>
                <li>sort the file again to get it back to the top (using natural sort in descending order will work).</li>
                <li>or, we could have removed the header line before running <strong>Unique</strong> (with <strong>remove beginning</strong> tool), then add it back afterwards (with <strong>concatenate</strong> tool).</li>
              </ul>
            </li>
            <li>94,733; The resulting file has 94,734 lines (one of which is our header line)</li>
          </ol>

        </blockquote>
      </blockquote>
    </li>
  </ol>

</blockquote>

<h1 id="joining-files">Joining Files</h1>

<p>This file contains a lot of information, but we may want to add more information. For example if we had a file with information about each country (population, capital city, etc), we could join that information with our Olympics data, to get a single file with all information in every row.</p>

<p>For example, if we would like to be able to group by continent, to e.g. count athletes, medals etc per continent, we will have to add a <code class="language-plaintext highlighter-rouge">continent</code> column to our file. To do this we would need a second file that maps each country to the corresponding continent. This is what we will do in the next hands-on section.</p>

<p>We obtained country information data from <a href="https://datahub.io/core/country-codes">DataHub</a>. More information about this file can be found in the description there. It has 56 columns with a wide variety of data about each country (from country codes, to capital city, languages spoken, etc)</p>

<blockquote class="notranslate hands_on">
  <div class="box-title hands-on-title" id="hands-on-get-data-1"><i class="fas fa-pencil-alt" aria-hidden="true" ></i> Hands-on: Get data</div>

  <ol>
    <li>
      <p><span class="tool" data-tool="upload1" title="Import tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Import</strong></span> the file <code class="language-plaintext highlighter-rouge">country-information.tsv</code> via link</p>

      <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://zenodo.org/record/6803028/files/country-information.tsv
</code></pre></div>      </div>

      <!--SNIPPET-->
      <blockquote class="tip">   <div class="box-title tip-title" id="tip-importing-via-links-1"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-importing-via-links-1" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> <span>Tip: Importing via links</span><span class="fold-unfold fa fa-minus-square"></span></button></div>   <ul>   <li>Copy the link location</li>   <li>     <p>Click <i class="fas fa-upload" aria-hidden="true"></i><span class="visually-hidden">galaxy-upload</span> <strong>Upload Data</strong> at the top of the tool panel</p>   </li>   <li>Select <i class="fa fa-edit" aria-hidden="true"></i><span class="visually-hidden">galaxy-wf-edit</span> <strong>Paste/Fetch Data</strong></li>   <li>     <p>Paste the link(s) into the text field</p>   </li>   <li>     <p>Press <strong>Start</strong></p>   </li>   <li><strong>Close</strong> the window</li> </ul> </blockquote>
      <p><!--END_SNIPPET--></p>
    </li>
    <li>
      <p><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">galaxy-eye</span> <strong>View</strong> file.</p>

      <blockquote class="question">
        <div class="box-title question-title" id="question-30"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <ol>
          <li>How many columns does this file have?</li>
          <li>Which column(s) in this file are the same as in the <code class="language-plaintext highlighter-rouge">olympics.tsv</code> file?</li>
        </ol>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-23"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-23" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>The country information file has 56 columns (see <a href="https://datahub.io/core/country-codes">DataHub</a> for more details).</li>
            <li>Both files have a <code class="language-plaintext highlighter-rouge">NOC</code> column with the 3-letter country code (<code class="language-plaintext highlighter-rouge">NOC</code> stands for National Olympic Committee). We can use this column to join the appropriate country data to each row in our <code class="language-plaintext highlighter-rouge">olympics.tsv</code> file.</li>
          </ol>

        </blockquote>
      </blockquote>
    </li>
  </ol>

</blockquote>

<p>We would now like to take our Olympics dataset as the basis, and add columns to every row of this file with some information about the country. In order to join, we will need to have one column that is shared between the two files, on which we can match. The <code class="language-plaintext highlighter-rouge">NOC</code> column is perfect for this because it is a defined standard. Both files also contain a column with the country name in it, which is also a possible candidate to use for joining, but because it is less standardised, it is safer to use the NOC column. For example, if one file uses “Netherlands”, while the other uses “The Netherlands” to indicate the same country, the joining will fail for these rows. So always make sure the columns you join on are compatible!</p>

<blockquote class="notranslate hands_on">
  <div class="box-title hands-on-title" id="hands-on-joining-country-information-to-the-olympics-data"><i class="fas fa-pencil-alt" aria-hidden="true" ></i> Hands-on: Joining country information to the Olympics data.</div>

  <ol>
    <li>Open <span class="tool" data-tool="join1" title="Join two Datasets side by side on a specified field tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Join two Datasets side by side on a specified field</strong></span>, and read the help text at the bottom
      <ul>
        <li>Which settings do you think we need to use?</li>
      </ul>
    </li>
    <li><span class="tool" data-tool="join1" title="Join two Datasets side by side on a specified field tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Join two Datasets side by side on a specified field</strong></span> with the following parameters:
      <ul>
        <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Join”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
        <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“using column”</em>: <code class="language-plaintext highlighter-rouge">Column 10</code> (the <code class="language-plaintext highlighter-rouge">noc</code> column)</li>
        <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“with”</em>: <code class="language-plaintext highlighter-rouge">country-information.tsv</code></li>
        <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“and column”</em>: <code class="language-plaintext highlighter-rouge">Column 2</code> (the <code class="language-plaintext highlighter-rouge">NOC</code> column)</li>
        <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Keep the header lines?”</em>: <code class="language-plaintext highlighter-rouge">Yes</code></li>
      </ul>
    </li>
    <li>
      <p><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">galaxy-eye</span> <strong>View</strong> the results.</p>

      <blockquote class="question">
        <div class="box-title question-title" id="question-31"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <ol>
          <li>What do you expect the output to look like? Were you right?</li>
          <li>How many columns are in the resulting file? What about the NOC column?</li>
          <li>What is a possible downside to this approach?</li>
        </ol>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-24"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-24" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>All the columns from the country information file are added to the end of each row of our olympics dataset</li>
            <li>Our olympics datset had 17 columns, the country information file has 56 columns. Therefore we have 17+56=73 columns columns in our resulting file. This also means the NOC column
we joined on appears twice in our output.</li>
            <li>There is a lot of data duplication in this file now. The exact same country information is added to every line of every athlete from a certain country.
This means much larger file size, and more usage of your quota.
If you do not need all these columns, it could save you a lot of space to remove unneeded columns from the <code class="language-plaintext highlighter-rouge">country-information.tsv</code> file, before joining.</li>
          </ol>

        </blockquote>
      </blockquote>
    </li>
  </ol>

</blockquote>

<h1 id="concatenating">Concatenating</h1>

<p>Concatenation of two files simple means putting the contents of the two files together, one after the other. Our dataset was created in 2021, but since then we’ve had another Olympic event, the 2022 Winter Olympics in Beijing. If we have the same data for this latest Olympics, we could simply add the rows from the 2022 games to our current file with data, in order to create a single file with all data from 1896 to 2022.</p>

<p>First, let’s get this data for the 2022 Olympics</p>

<blockquote class="notranslate hands_on">
  <div class="box-title hands-on-title" id="hands-on-get-2022-olympics-data"><i class="fas fa-pencil-alt" aria-hidden="true" ></i> Hands-on: Get 2022 Olympics data</div>

  <ol>
    <li>
      <p><span class="tool" data-tool="upload1" title="Import tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Import</strong></span> the file <code class="language-plaintext highlighter-rouge">olympics_2022.tsv</code> via link</p>

      <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://zenodo.org/record/6803028/files/olympics_2022.tsv
</code></pre></div>      </div>

      <!--SNIPPET-->
      <blockquote class="tip">   <div class="box-title tip-title" id="tip-importing-via-links-2"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-importing-via-links-2" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> <span>Tip: Importing via links</span><span class="fold-unfold fa fa-minus-square"></span></button></div>   <ul>   <li>Copy the link location</li>   <li>     <p>Click <i class="fas fa-upload" aria-hidden="true"></i><span class="visually-hidden">galaxy-upload</span> <strong>Upload Data</strong> at the top of the tool panel</p>   </li>   <li>Select <i class="fa fa-edit" aria-hidden="true"></i><span class="visually-hidden">galaxy-wf-edit</span> <strong>Paste/Fetch Data</strong></li>   <li>     <p>Paste the link(s) into the text field</p>   </li>   <li>     <p>Press <strong>Start</strong></p>   </li>   <li><strong>Close</strong> the window</li> </ul> </blockquote>
      <p><!--END_SNIPPET--></p>
    </li>
    <li>
      <p>View <i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">galaxy-eye</span> the new dataset, does it have the same structure as our original <code class="language-plaintext highlighter-rouge">olympics.tsv</code> file?</p>

      <blockquote class="question">
        <div class="box-title question-title" id="question-32"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <ol>
          <li>Does the new file have the same structure?</li>
          <li>Can we simply add the lines of the new files to the end of our existing olympics dataset?</li>
        </ol>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-25"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-25" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>Yes, this file has all the same columns, in the same order, so concatenation should be relatively straightforward.</li>
            <li>If we simply put the contents of this file after our existing dataset, we will have a second header line in the middle of our data rows. It is best to remove the header line from the second dataset after we have verified it is compatible. This way we will only add the real data rows to our dataset.</li>
          </ol>

        </blockquote>
      </blockquote>
    </li>
  </ol>

</blockquote>

<p>Since this new dataset has the exact same structure (number and order of columns), we can simple add the lines from this file to the end of our existing <code class="language-plaintext highlighter-rouge">olympics.tsv</code> file.</p>

<blockquote class="notranslate hands_on">
  <div class="box-title hands-on-title" id="hands-on-adding-2022-olympics-to-our-dataset"><i class="fas fa-pencil-alt" aria-hidden="true" ></i> Hands-on: Adding 2022 Olympics to our dataset</div>

  <p>First we need to remove the header line from the 2022 file (since these lines will be added to the end of our olympic dataset, we don’t want to have a second header line floating around in our file)</p>

  <ol>
    <li><span class="tool" data-tool="Remove beginning1" title="Remove beginning of a file tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Remove beginning of a file</strong></span> with the following parameters:
      <ul>
        <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Remove first”</em>: <code class="language-plaintext highlighter-rouge">1</code></li>
        <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“from”</em>: <code class="language-plaintext highlighter-rouge">olympics_2022.tsv</code></li>
      </ul>

      <p>Now we can perform the concatenation:</p>
    </li>
    <li><span class="tool" data-tool="cat1" title="Concatenate datasets tail-to-head tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Concatenate datasets tail-to-head</strong></span> with the following parameters:
      <ul>
        <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Concatenate Datasets”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code> (this file will be first)</li>
        <li><i class="far fa-plus-square" aria-hidden="true"></i><span class="visually-hidden">param-repeat</span> <em>“Insert Dataset”</em>:
          <ul>
            <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span><em>“Dataset”</em>: <code class="language-plaintext highlighter-rouge">output from step 1</code> (2022 data without the header)</li>
          </ul>
        </li>
      </ul>
    </li>
    <li>
      <p><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">galaxy-eye</span> <strong>View</strong> the results.</p>

      <blockquote class="question">
        <div class="box-title question-title" id="question-33"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <ol>
          <li>How many lines do you expect in the new file? Were you correct? (Hint: use <span class="tool" data-tool="wc_gnu" title="Line/Word/Character count tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Line/Word/Character count</strong></span> to count lines)</li>
          <li>Where are the lines of the 2022 Olympics?</li>
        </ol>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-26"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-26" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>The <code class="language-plaintext highlighter-rouge">olympics.tsv</code> file had 234,523 lines, and the <code class="language-plaintext highlighter-rouge">olympics_2022.tsv</code> file had 4076 lines. Both of these numbers include a header line, which we removed for the second file, so we expect our concatenated file to contain 234,523 + 4076 - 1 = 238,598 lines (which it does).</li>
            <li>The new file has the entire contents of <code class="language-plaintext highlighter-rouge">olympics.tsv</code> at the beginning of the file, followed by the contents of the <code class="language-plaintext highlighter-rouge">olympics_2022.tsv</code> file at the end.</li>
          </ol>
        </blockquote>
      </blockquote>
    </li>
  </ol>

</blockquote>

<p>Now this only works so simply because our two datasets had the same structure; the same number of columns, in the same order. If your data comes from different sources, you may have to do some additional data manipulation before you can concatenate, e.g. to make sure the columns match, or how each file deals with missing data (empty cells, <code class="language-plaintext highlighter-rouge">NA</code>, <code class="language-plaintext highlighter-rouge">NaN</code> or something else).</p>

<h1 id="splitting-files">Splitting Files</h1>

<p>This dataset contains a lot of data, we might want to split the data into one file per Olympic games, or have one file for all the winter games, and another file for all the summer games. In these situtations, where we want to create new, smaller files, based on the values in a column, we can use the tool <span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/bgruening/split_file_on_column/tp_split_on_column/0.6" title="Split file according to the values of a column tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Split file according to the values of a column</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 0.6)</span>.</p>

<p>Tip: use this tool only if you want a separate file for <strong>all values</strong> in a column. For example, if you want a file for each Olympic games, use the split tool, but if you just want a file for one particular Olympics (say Tokyo 2020), you could simply use the <a href="#filtering">Filter</a> tools to extract the data from the full dataset, without making files for all the other Olympics as well.</p>

<blockquote class="notranslate hands_on">
  <div class="box-title hands-on-title" id="hands-on-splitting-the-dataset-by-olympics"><i class="fas fa-pencil-alt" aria-hidden="true" ></i> Hands-on: Splitting the dataset by Olympics</div>

  <p>We would like to create a separate file for each Olympic event.</p>

  <ol>
    <li>Open the tool <span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/bgruening/split_file_on_column/tp_split_on_column/0.6" title="Split file according to the values of a column tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Split file according to the values of a column</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 0.6)</span>, and read the help text at the bottom
      <ul>
        <li>which settings do you think we need to use?</li>
      </ul>
    </li>
    <li><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/bgruening/split_file_on_column/tp_split_on_column/0.6" title="Split file according to the values of a column tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Split file according to the values of a column</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 0.6)</span> with the following parameters:
      <ul>
        <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“File to select”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
        <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“on column”</em>: <code class="language-plaintext highlighter-rouge">Column 11</code> (the <code class="language-plaintext highlighter-rouge">games</code> column)</li>
        <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Include the header in all splitted files?”</em>: <code class="language-plaintext highlighter-rouge">Yes</code></li>
      </ul>
    </li>
    <li>
      <p><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">galaxy-eye</span> <strong>View</strong> the results.</p>

      <blockquote class="question">
        <div class="box-title question-title" id="question-34"><i class="far fa-question-circle" aria-hidden="true" ></i> Question</div>

        <ol>
          <li>How many different files do we get?</li>
          <li>How many lines are in the file for the 1908 Summer Olympics?</li>
        </ol>

        <blockquote class="solution">
          <div class="box-title solution-title" id="solution-27"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-27" aria-expanded="true"><i class="far fa-eye" aria-hidden="true" ></i> <span>Solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

          <ol>
            <li>We get 1 collection with 52 files in it, one per Olympic games:
<a href="./images/split-file.png" rel="noopener noreferrer"><img src="./images/split-file.png" alt="screenshot of the output collection of the split tool. " width="304" height="541" loading="lazy" /></a></li>
            <li>3214 lines</li>
          </ol>
        </blockquote>
      </blockquote>
    </li>
  </ol>

</blockquote>

<h2 id="exercises-7">Exercises</h2>

<p>Let’s practice this a bit more, see if you can use the split file to answer the following questions:</p>

<blockquote class="question">
  <div class="box-title question-title" id="question-exercise-sort-by-height-1"><i class="far fa-question-circle" aria-hidden="true"></i> Exercise: sort by height</div>

  <ol>
    <li>Create two files, one for Summer Olympics, one for Winter Olympics. Which has more lines?</li>
    <li>Split the file by sport, how many sports have there been at the Olympics?</li>
    <li>Split the file by medal, would you expect the output files to be equal sizes?</li>
  </ol>

  <blockquote class="solution">
    <div class="box-title solution-title" id="solution-hints-8"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-hints-8" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Hints</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

    <ol>
      <li>Split on the <code class="language-plaintext highlighter-rouge">season</code> column (Column 13)</li>
      <li>Split on the <code class="language-plaintext highlighter-rouge">sport</code> column (Column 15)</li>
      <li>Split on the <code class="language-plaintext highlighter-rouge">medal</code> column (Column 17)</li>
    </ol>

  </blockquote>

  <blockquote class="solution">
    <div class="box-title solution-title" id="solution-answers-7"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-answers-7" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Answers</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

    <ol>
      <li>The summer olympics file has more lines (~180,000) than the winter olympics file (~45,000) (the first winter Olympics wasn’t held until 1924)</li>
      <li>Each file in the resulting collection represents a sport, there are 91 datasets in the collection, representing 91 different sports in the history of the Olympics.</li>
      <li>The files for gold silver and bronze are roughly equal, but not exactly (think of situations like shared second place, then 2 silver medals are handed out and no bronze medal)</li>
    </ol>
  </blockquote>

</blockquote>

<h1 id="conclusion">Conclusion</h1>

<p>These tools and operations covered in the tutorial are just a few examples of some of the most common operations. There are many more tools available in Galaxy that perform other data manipulations. We encourage you to look around the <code class="language-plaintext highlighter-rouge">General Text Tools</code> section in the Galaxy toolbox (left panel) to find and explore more data manipulation tools. The more comfortable you are performing these kinds of steps, the more you can get out of Galaxy!</p>

<h1 id="exercises-putting-it-all-together">Exercises: Putting it all together!</h1>

<p>This section provides a number of exercises that require you to combine two or more of the techniques you learned in this tutorial. This is a great way to practice your data manipulation skills. Full solutions are provided for every exercise (i.e. all tools and settings), but for many of these exercises there will be multiple solutions, so if you obtained the same results in a different way, that is correct too!</p>

<blockquote class="question">
  <div class="box-title question-title" id="question-exercise-1-finding-shortest-lightest-athlete"><i class="far fa-question-circle" aria-hidden="true"></i> Exercise 1: Finding shortest/lightest athlete</div>

  <p>If you have done exercises in the <a href="#sorting">sorting</a> section, you noticed that finding the shortest athlete ever to compete was not easy,
because all the rows with missing height data (<code class="language-plaintext highlighter-rouge">NA</code>) in the column were sorted to the top. We need to filter out these values first, then
perform our sort, so that our answer is on top.</p>

  <ol>
    <li>Find the shortest athlete ever to compete in the Olympics</li>
    <li>Find the shortest athlete of the Winter Olympics</li>
    <li>Find the lightest athlete of the <em>most recent</em> Summer Olympics</li>
  </ol>

  <blockquote class="solution">
    <div class="box-title solution-title" id="solution-hints-9"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-hints-9" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Hints</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

    <ol>
      <li>You will need to filter out the columns with (<code class="language-plaintext highlighter-rouge">NA</code>) in the height column first</li>
      <li>You will need to filter by season as well</li>
      <li>You will need to filter out missing data in the weight column, filter out Summer Olympics, then sort (by 2 columns)</li>
      <li>Does the order in which you perform these steps matter?</li>
    </ol>

  </blockquote>

  <blockquote class="solution">
    <div class="box-title solution-title" id="solution-answers-8"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-answers-8" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Answers</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

    <ol>
      <li>Lyton Mphande and  Rosario Briones were both 127 cm tall, competing in boxing and gymnastics respectively</li>
      <li>Carolyn Krau was a 137 cm tall figure skater.</li>
      <li>Flávia Saraiva was the lightest athlete (31kg), she was a Artistic Gymnast from Brazil.</li>
    </ol>

  </blockquote>

  <blockquote class="solution">
    <div class="box-title solution-title" id="solution-full-solution-1"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-full-solution-1" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Full solution</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

    <ol>
      <li>
        <p>First we filter out the NA values from the height column:</p>

        <p><span class="tool" data-tool="Filter1" title="Filter - data on any column using simple expressions tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Filter - data on any column using simple expressions</strong></span> with the following parameters:</p>
        <ul>
          <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Filter”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
          <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“With following expression”</em>: <code class="language-plaintext highlighter-rouge">c7!='NA'</code></li>
          <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Number of header lines to skip”</em>: <code class="language-plaintext highlighter-rouge">1</code></li>
        </ul>

        <p>Then we can sort by height, in ascending order to get the shortest athletes on top:</p>

        <p><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/1.1.1" title="Sort - data in ascending or descending order tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Sort - data in ascending or descending order</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.1)</span> with the following parameters:</p>
        <ul>
          <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Sort Query”</em>: <code class="language-plaintext highlighter-rouge">output from the previous step (filter)</code></li>
          <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Number of header lines”</em>: <code class="language-plaintext highlighter-rouge">1</code>`</li>
          <li>Column selections
            <ul>
              <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“on column”</em>: <code class="language-plaintext highlighter-rouge">Column 7</code></li>
              <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“in”</em>: <code class="language-plaintext highlighter-rouge">Ascending order</code></li>
              <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Flavor”</em>: <code class="language-plaintext highlighter-rouge">Fast numeric sort</code></li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>We can take the output from the first exercise, and filter for only Winter Olympics:</p>

        <p><span class="tool" data-tool="Filter1" title="Filter - data on any column using simple expressions tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Filter - data on any column using simple expressions</strong></span> with the following parameters:</p>
        <ul>
          <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Filter”</em>:  <code class="language-plaintext highlighter-rouge">output from previous exercise</code></li>
          <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“With following expression”</em>: <code class="language-plaintext highlighter-rouge">c13='Winter'</code></li>
          <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Number of header lines to skip”</em>: <code class="language-plaintext highlighter-rouge">1</code></li>
        </ul>
      </li>
      <li>
        <p>First we filter out the NA values from the weight column:</p>

        <p><span class="tool" data-tool="Filter1" title="Filter - data on any column using simple expressions tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Filter - data on any column using simple expressions</strong></span> with the following parameters:</p>
        <ul>
          <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Filter”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
          <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“With following expression”</em>: <code class="language-plaintext highlighter-rouge">c8!='NA'</code></li>
          <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Number of header lines to skip”</em>: <code class="language-plaintext highlighter-rouge">1</code></li>
        </ul>

        <p>Then we can filter out only Summer Olympics:</p>

        <p><span class="tool" data-tool="Filter1" title="Filter - data on any column using simple expressions tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Filter - data on any column using simple expressions</strong></span> with the following parameters:</p>
        <ul>
          <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Filter”</em>:  <code class="language-plaintext highlighter-rouge">output from previous step</code></li>
          <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“With following expression”</em>: <code class="language-plaintext highlighter-rouge">c13='Summer'</code></li>
          <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Number of header lines to skip”</em>: <code class="language-plaintext highlighter-rouge">1</code></li>
        </ul>

        <p>Then we can sort by weigth, in ascending order to get the shortest athletes on top:</p>

        <p><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/1.1.1" title="Sort - data in ascending or descending order tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Sort - data in ascending or descending order</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.1)</span> with the following parameters:</p>
        <ul>
          <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Sort Query”</em>: <code class="language-plaintext highlighter-rouge">output from the previous step</code></li>
          <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Number of header lines”</em>: <code class="language-plaintext highlighter-rouge">1</code>`</li>
          <li>Column selections
            <ul>
              <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“on column”</em>: <code class="language-plaintext highlighter-rouge">Column 12</code> (year column)</li>
              <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“in”</em>: <code class="language-plaintext highlighter-rouge">Descending order</code> (most recent on top)</li>
              <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Flavor”</em>: <code class="language-plaintext highlighter-rouge">Fast numeric sort</code></li>
            </ul>
          </li>
          <li><i class="far fa-plus-square" aria-hidden="true"></i><span class="visually-hidden">param-repeat</span> Insert Column selections
            <ul>
              <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“on column”</em>: <code class="language-plaintext highlighter-rouge">Column 8</code> (weight column)</li>
              <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“in”</em>: <code class="language-plaintext highlighter-rouge">Ascending order</code> (lightest on top)</li>
              <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Flavor”</em>: <code class="language-plaintext highlighter-rouge">Fast numeric sort</code></li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>In this case, changing the order of these operations will still have led to the same answer. However, sorting takes more time than filtering,
so it is usually faster to filter first, then do the sorting on a smaller file. Especially noticeable if you have large dataset.</p>
      </li>
    </ol>

  </blockquote>

</blockquote>

<p>Ok, let’s try another exercise! If you have done the exercises in the <a href="#grouping">Grouping</a> section, you will have noticed that we were not able
to perform computation on the weight column, because some of the values were weight classes, e.g. <code class="language-plaintext highlighter-rouge">63-78</code> (kg), and the <span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/iuc/datamash_ops/datamash_ops/1.1.0+galaxy2" title="Datamash tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Datamash</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.0+galaxy2)</span>
tool could not handle such values. In this exercise, we will first clean up this weight column to avoid ranges (by taking the lower number in the range for every
row a weight range is used), and then answering the question a couple of questions around the weight of athletes.</p>

<blockquote class="question">
  <div class="box-title question-title" id="question-exercise-2-data-cleaning-and-computations-of-the-weight-column"><i class="far fa-question-circle" aria-hidden="true"></i> Exercise 2: Data cleaning and computations of the weight column</div>

  <ol>
    <li>Get a list of all the values that occur in the weight column, take note of all the values that are not a single number or <code class="language-plaintext highlighter-rouge">NA</code>; anything else should be cleaned up</li>
    <li>Clean up the weight column (Colum 8) so that we only have single numbers; weight classes (e.g. <code class="language-plaintext highlighter-rouge">63-78</code>) should be replace by the lower bound (<code class="language-plaintext highlighter-rouge">63</code>) of that class</li>
    <li>How heavy was the lightest woman competing in the Biathlon? And the heaviest?</li>
  </ol>

  <blockquote class="solution">
    <div class="box-title solution-title" id="solution-hints-10"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-hints-10" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Hints</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

    <ol>
      <li>You can use the <span class="tool" data-tool="Count1" title="**Count** tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong><strong>Count</strong></strong></span> tool to get a list of all the different values that appear in Column 8</li>
      <li>You can use the <span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/galaxyp/regex_find_replace/regexColumn1/1.0.1" title="Column Regex Find and Replace tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Column Regex Find and Replace</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.0.1)</span> tool to clean up the weight column.
This tool is a bit complex, if you haven’t done so yet, we strongly recommend you work through the <a href="#find-and-replace">Find and Replace section</a> first.
To check if your cleaning worked, re-run <i class="fas fa-redo" aria-hidden="true"></i><span class="visually-hidden">galaxy-refresh</span> the <span class="tool" data-tool="Count1" title="**Count** tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong><strong>Count</strong></strong></span> tool from step 1.</li>
      <li>Use the <span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/iuc/datamash_ops/datamash_ops/1.1.0+galaxy2" title="Datamash tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Datamash</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.0+galaxy2)</span> tool to answer this question, make sure you use the cleaned up datset as input! Find the row
showing Biathlon.</li>
    </ol>

  </blockquote>

  <blockquote class="solution">
    <div class="box-title solution-title" id="solution-answers-9"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-answers-9" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Answers</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

    <ol>
      <li>
        <p>We see values such as <code class="language-plaintext highlighter-rouge">100-105</code>, but also <code class="language-plaintext highlighter-rouge">77,5</code>, <code class="language-plaintext highlighter-rouge">100, 104</code> (notice the space!) and even <code class="language-plaintext highlighter-rouge">76, 77, 79</code> to indicate weight ranges or other unexpected weight values.
All these variations must be converted to single numbers. For this example we will simply convert these ranges to their lower number, and remove the rest when we
clean the column (taking the upper or median value would be equally valid,  but for our solution we will remove everything after the first number.</p>
      </li>
      <li>
        <p>There are many possible regular expression that will clean this column. You can use a single check to catch all the exceptions, or use multiple, there is no one right answer.
Check if your cleaning is successful using the <span class="tool" data-tool="Count1" title="**Count** tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong><strong>Count</strong></strong></span> tool again. Make sure you only have single number values in the weight column before
proceeding to question 3 in this exercise. Also make sure the weights you have make sense (e.g. if you end up with columns having a weight of <code class="language-plaintext highlighter-rouge">0</code>, something went wrong somewhere!)</p>
      </li>
      <li>
        <p>lightest woman weighed 45 kilograms, the heaviest 82.</p>
      </li>
    </ol>

  </blockquote>

  <blockquote class="solution">
    <div class="box-title solution-title" id="solution-full-solutions-4"><button class="gtn-boxify-button solution" type="button" aria-controls="solution-full-solutions-4" aria-expanded="true"><i class="far fa-eye" aria-hidden="true"></i> <span>Full Solutions</span><span class="fold-unfold fa fa-minus-square"></span></button></div>

    <ol>
      <li><span class="tool" data-tool="Count1" title="**Count** occurrences of each record tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong><strong>Count</strong> occurrences of each record</strong></span> with the following parameters
        <ul>
          <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“from dataset”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
          <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Count occurrences of values in column(s)”</em>: <code class="language-plaintext highlighter-rouge">Column 8</code></li>
        </ul>

        <p>This should output a file like:</p>

        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>921	100
2	100, 104
2	100, 107
2	100-105
1	100-106
5	100-110
4	100-113
71	101
3	101-125
204	102
2	102, 103
4	102, 105
2	102-106
97	103
125	104
...
</code></pre></div>        </div>

        <p>We will want to change weight ranges to single numbers in the next step</p>
      </li>
      <li><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/galaxyp/regex_find_replace/regexColumn1/1.0.1" title="Column Regex Find and Replace tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Column Regex Find and Replace</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.0.1)</span> with the following parameters:
        <ul>
          <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Select cells from”</em>: <code class="language-plaintext highlighter-rouge">olympics.tsv</code></li>
          <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span><em>“using column”</em>: <code class="language-plaintext highlighter-rouge">Column 14</code></li>
          <li><i class="far fa-plus-square" aria-hidden="true"></i><span class="visually-hidden">param-repeat</span> <em>“Check”</em></li>
          <li><em>“Find Regex”</em>: <code class="language-plaintext highlighter-rouge">(\d+)(,|-).*</code> (one or more digits (captured), followed by a dash or comma, then zero or more of any other characters)</li>
          <li><em>“Replacement”</em>: <code class="language-plaintext highlighter-rouge">\1</code> (only the first set of numbers we captured)</li>
        </ul>

        <p><strong>NOTE:</strong> there will be a lot of valid answers here, you could do it all in one check like the solution above, or in multiple checks (e.g. one for each different kind of way to
denote a weight range you found in step 1). As long as a re-run of the <span class="tool" data-tool="Count1" title="**Count** occurrences of each record tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong><strong>Count</strong> occurrences of each record</strong></span> tool shows only single numbers in the
column after your find &amp; replace step, then your answer was correct! Also make sure the weights make sense (e.g. if your resulting column has weights of <code class="language-plaintext highlighter-rouge">0</code> or other small numbers, this
doesn’t make sense and you will have to tweak your expression. Don’t feel bad if this takes a bit of trial and error, that is expected!</p>
      </li>
      <li><span class="tool" data-tool="toolshed.g2.bx.psu.edu/repos/iuc/datamash_ops/datamash_ops/1.1.0+galaxy2" title="Datamash tool" aria-role="button"><i class="fas fa-wrench" aria-hidden="true"></i> <strong>Datamash</strong> (<i class="fas fa-cubes" aria-hidden="true"></i> Galaxy version 1.1.0+galaxy2)</span> with the following parameters:
        <ul>
          <li><i class="far fa-file" aria-hidden="true"></i><span class="visually-hidden">param-file</span> <em>“Input tabular dataset”</em>: <code class="language-plaintext highlighter-rouge">olympics-cleaned.tsv</code> (output from your cleaning step)</li>
          <li><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">param-text</span> <em>“Group by fields”</em>: <code class="language-plaintext highlighter-rouge">15,3</code></li>
          <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Sort input”</em>: <code class="language-plaintext highlighter-rouge">yes</code></li>
          <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Input file has a header line”</em>: <code class="language-plaintext highlighter-rouge">yes</code></li>
          <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Print header line”</em>: <code class="language-plaintext highlighter-rouge">yes</code></li>
          <li><i class="fas fa-toggle-on" aria-hidden="true"></i><span class="visually-hidden">param-toggle</span> <em>“Skip NA or NaN values”</em>: <code class="language-plaintext highlighter-rouge">yes</code></li>
          <li><em>“Operation to perform on each group”</em>:
            <ul>
              <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Type”</em>: <code class="language-plaintext highlighter-rouge">Minimum</code></li>
              <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“On Column”</em>: <code class="language-plaintext highlighter-rouge">Column: 8</code></li>
            </ul>
          </li>
          <li><i class="far fa-plus-square" aria-hidden="true"></i><span class="visually-hidden">param-repeat</span> <em>“Insert Operation to perform on each group”</em>:
            <ul>
              <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“Type”</em>: <code class="language-plaintext highlighter-rouge">Maximum</code></li>
              <li><i class="fas fa-filter" aria-hidden="true"></i><span class="visually-hidden">param-select</span> <em>“On Column”</em>: <code class="language-plaintext highlighter-rouge">Column: 8</code></li>
            </ul>
          </li>
        </ul>

        <p>Your resulting file should look something like:</p>

        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GroupBy(sport)	GroupBy(sex)	min(weight)	max(weight)
Aeronautics	M	-inf	inf
Alpine Skiing	F	45	90
Alpine Skiing	M	50	138
Alpinism	M	-inf	inf
Archery	F	42	95
Archery	M	46	130
Art Competitions	F	-inf	inf
Art Competitions	M	59	93
...
</code></pre></div>        </div>
      </li>
    </ol>

  </blockquote>

</blockquote>

<p>Congratulations! You have now mastered the basics of data manipulation! There are a lot more data manipulation operations available in Galaxy that you may need.
Please explore the tools for yourself, and check back with this tutorial often, we plan to add more sections and exercises over time!</p>

                </section>

                <section aria-label="Tutorial Footer, Feedback, Citation" id="tutorial-footer">
                        <h3>You've Finished the Tutorial</h3>
                        <button id="tutorial-finish-button" class="btn btn-primary" onclick="tutorial_finish()">I finished this tutorial 👍</button>
                        <p style="display: none" id="tutorial-finish-text">Please also consider filling out the <a href="#gtn-feedback">Feedback Form</a> as well!</p>
                        <script>
                        function tutorial_finish() {
                          if(typeof plausible !== 'undefined'){
                            // Plausible may be undefined (script blocked)
                            // or it may be defined, but opted-out (select box/DNT),
                            // which means `plausible()` will work but not send data, *nor* execute the callback.
                            plausible('TutorialComplete', {props: {path: document.location.pathname}})
                          }
                          // since the callback is completely cosmetic, we'll just issue it optimistically.
                          tutorial_finish_finish();
                        }
                        function tutorial_finish_finish() {
                          document.getElementById("tutorial-finish-button").innerText = 'Congrats! Thanks for letting us know! 🎉'
                          document.getElementById("tutorial-finish-button").disabled = true
                          document.getElementById("tutorial-finish-button").disabled = true
                          document.getElementById("tutorial-finish-text").style.display = 'block'
                        }
                        </script>

                
                <blockquote class="key_points">
                    <div class="box-title"><i class="fas fa-key" aria-hidden="true"></i> Key points</div>
                    <ul>
                        
                        <li><p>There are a lot of tools available in Galaxy for performing basic data manipulation tasks</p>
</li>
                        
                        <li><p>Basic data manipulation is often needed between steps in a larger scientific analysis in order to connect outputs from one tool to input of another.</p>
</li>
                        
                        <li><p>There are often multiple ways/tools to achieve the same end result</p>
</li>
                        
                        <li><p>Having a basic understanding of data manipulation tools will make it easier to do exploratory data analysis</p>
</li>
                        
                        <li><p>Always read the help text of the tool before using it to get a full understanding of its workings</p>
</li>
                        
                        <li><p>Always try to formulate the output you are expecting from a tool. This will make it easier to spot mistakes as soon as possible.</p>
</li>
                        
                    </ul>
                </blockquote>
                

                <h1>Frequently Asked Questions</h1>
                Have questions about this tutorial? Check out the  <a href="/training-material/topics/introduction/faqs/">FAQ page for the Introduction to Galaxy Analyses topic</a> to see if your question is listed there.
                If not, please ask your question on the <a href="https://gitter.im/Galaxy-Training-Network/Lobby">GTN Gitter Channel</a> or the
                <a href="https://help.galaxyproject.org">Galaxy Help Forum</a>

                

                


                
                <h1 id="bibliography">References</h1>
                <ol class="bibliography"><li id="Eknoyan_2007">Eknoyan, G., 2007 <b>Adolphe Quetelet (1796 1874) the average man and indices of obesity</b>. Nephrology Dialysis Transplantation 23: 47–51. <a href="https://doi.org/10.1093/ndt/gfm517">10.1093/ndt/gfm517</a></li>
<li id="Caleyachetty_2021">Caleyachetty, R., T. M. Barber, N. I. Mohammed, F. P. Cappuccio, R. Hardy <i>et al.</i>, 2021 <b>Ethnicity-specific BMI cutoffs for obesity based on type 2 diabetes risk in England: a population-based cohort study</b>. The Lancet Diabetes and Endocrinology 9: 419–426. <a href="https://doi.org/10.1016/s2213-8587(21)00088-7">10.1016/s2213-8587(21)00088-7</a></li></ol>
                

                

                <h1 id="gtn-feedback">Feedback</h1>
                <p class="text-muted">Did you use this material as an instructor? Feel free to give us feedback on <a href="https://github.com/galaxyproject/training-material/issues/1452">how it went</a>.
                <br>Did you use this material as a learner or student? Click the form below to leave feedback.<i class="fas fa-hand-point-down"></i>
                </p>

                <iframe id="feedback-google" class="google-form" src="https://docs.google.com/forms/d/e/1FAIpQLSd4VZptFTQ03kHkMz0JyW9b6_S8geU5KjNE_tLM0dixT3ZQmA/viewform?embedded=true&entry.1235803833=introduction/data-manipulation-olympics"><a href="https://docs.google.com/forms/d/e/1FAIpQLSd4VZptFTQ03kHkMz0JyW9b6_S8geU5KjNE_tLM0dixT3ZQmA/viewform?embedded=true&entry.1235803833=introduction/data-manipulation-olympics">Feedback Form</a></iframe>

                <h1>Citing this Tutorial</h1>
                <p>
                    <ol>
                        <li id="citation-text">
                            Saskia Hiltemann, Yongbin Li,  <b>Data Manipulation Olympics (Galaxy Training Materials)</b>. <a href="https://training.galaxyproject.org/training-material/topics/introduction/tutorials/data-manipulation-olympics/tutorial.html">https://training.galaxyproject.org/training-material/topics/introduction/tutorials/data-manipulation-olympics/tutorial.html</a> Online; accessed TODAY
                        </li>
                        <li>
                        Hiltemann, Saskia, Rasche, Helena et al., 2023 <b>Galaxy Training: A Powerful Framework for Teaching!</b> PLOS Computational Biology <a href="https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1010752">10.1371/journal.pcbi.1010752</a>
                        </li>
                        <li>
                        Batut et al., 2018 <b>Community-Driven Data Analysis Training for Biology</b> Cell Systems <a href="https://doi.org/10.1016%2Fj.cels.2018.05.012">10.1016/j.cels.2018.05.012</a>
                        </li>
                    </ol>
                </p>

                <!-- collapsible boxcontaining the BibTeX-formatted citation -->
                <blockquote class="details">

                  <div id="citation-bibtex" class="box-title">
                    <button type="button" aria-controls="citation-bibtex" aria-expanded="false">
                      <i class="fas fa-info-circle" aria-hidden="true"></i>
                      <span class="visually-hidden"></span> BibTeX<span role="button" class="fold-unfold fa fa-minus-square" aria-hidden="true"></span>
                    </button>
                   </div>
                   <p style="display: none;">

                   <div class="highlighter-rouge"><div class="highlight"><pre class="highlight">


<code id="citation-code">@misc{introduction-data-manipulation-olympics,
author = "Saskia Hiltemann and Yongbin Li",
	title = "Data Manipulation Olympics (Galaxy Training Materials)",
	year = "",
	month = "",
	day = "",
	url = "\url{https://training.galaxyproject.org/training-material/topics/introduction/tutorials/data-manipulation-olympics/tutorial.html}",
	note = "[Online; accessed TODAY]"
}
@article{Hiltemann_2023,
	doi = {10.1371/journal.pcbi.1010752},
	url = {https://doi.org/10.1371%2Fjournal.pcbi.1010752},
	year = 2023,
	month = {jan},
	publisher = {Public Library of Science ({PLoS})},
	volume = {19},
	number = {1},
	pages = {e1010752},
	author = {Saskia Hiltemann and Helena Rasche and Simon Gladman and Hans-Rudolf Hotz and Delphine Larivi{\`{e}}re and Daniel Blankenberg and Pratik D. Jagtap and Thomas Wollmann and Anthony Bretaudeau and Nadia Gou{\'{e}} and Timothy J. Griffin and Coline Royaux and Yvan Le Bras and Subina Mehta and Anna Syme and Frederik Coppens and Bert Droesbeke and Nicola Soranzo and Wendi Bacon and Fotis Psomopoulos and Crist{\'{o}}bal Gallardo-Alba and John Davis and Melanie Christine Föll and Matthias Fahrner and Maria A. Doyle and Beatriz Serrano-Solano and Anne Claire Fouilloux and Peter van Heusden and Wolfgang Maier and Dave Clements and Florian Heyl and Björn Grüning and B{\'{e}}r{\'{e}}nice Batut and},
	editor = {Francis Ouellette},
	title = {Galaxy Training: A powerful framework for teaching!},
	journal = {PLoS Comput Biol}
}
</code>
                   </pre></div></div>
                   </p>
                </blockquote>

        
		<h2 id="funding">Funding</h2>
		<p>These individuals or organisations provided funding support for the development of this resource</p>

                
<div class="d-flex flex-wrap">

	<a href="/training-material/hall-of-fame/gallantries/" class="funder-badge">
		
		<div class="avatar">
			
			<img class="funder-avatar" src="https://gallantries.github.io/assets/images/gallantries-logo.png" alt="Logo">
			
		</div>

		<div class="info">
			<div class="name">Gallantries</div>
			<div class="description">
			This project (2020-1-NL01-KA203-064717) is funded with the support of the Erasmus+ programme of the European Union. Their funding has supported a large number of tutorials within the GTN across a wide array of topics.



            
			</div>
		</div>
	</a>

</div>


        


<script>
// update the date on load, or leave fallback of 'today'
const citationTodaysDate = new Date();
document.getElementById("citation-code").innerHTML = document.getElementById("citation-code").innerHTML.replace("TODAY", citationTodaysDate.toDateString());
document.getElementById("citation-text").innerHTML = document.getElementById("citation-text").innerHTML.replace("TODAY", citationTodaysDate.toDateString());
</script>

                <i class="far fa-thumbs-up" aria-hidden="true"></i> Congratulations on successfully completing this tutorial!

                

                

		
                <blockquote class="details follow-up" id="admins-install-missing-tools">
                  <div id="admin-missing-tools" class="box-title">
                    <button type="button" aria-controls="admin-missing-tools" aria-expanded="false">
                      <i class="fas fa-info-circle" aria-hidden="true"></i>
                      <span class="visually-hidden"></span> Galaxy Administrators: Install the missing tools<span role="button" class="fold-unfold fa fa-minus-square" aria-hidden="true"></span>
                    </button>
                   </div>


			<p>You can use Ephemeris's <code>shed-tools install</code> command to install the tools used in this tutorial.</p>
<div class="highlight"><pre class="highlight"><code>shed-tools install [-g GALAXY] [-a API_KEY] -t &lt;(curl https://training.galaxyproject.org/training-material/api/topics/introduction/tutorials/data-manipulation-olympics/tutorial.json | jq .admin_install_yaml -r)</code></pre></div>
<p>Alternatively you can copy and paste the following YAML</p>
<div class="highlight"><pre class="highlight"><code>---
install_tool_dependencies: true
install_repository_dependencies: true
install_resolver_dependencies: true
tools:
- name: split_file_on_column
  owner: bgruening
  revisions: 37a53100b67e
  tool_panel_section_label: Text Manipulation
  tool_shed_url: https://toolshed.g2.bx.psu.edu/
- name: text_processing
  owner: bgruening
  revisions: d698c222f354
  tool_panel_section_label: Text Manipulation
  tool_shed_url: https://toolshed.g2.bx.psu.edu/
- name: text_processing
  owner: bgruening
  revisions: d698c222f354
  tool_panel_section_label: Text Manipulation
  tool_shed_url: https://toolshed.g2.bx.psu.edu/
- name: text_processing
  owner: bgruening
  revisions: d698c222f354
  tool_panel_section_label: Text Manipulation
  tool_shed_url: https://toolshed.g2.bx.psu.edu/
- name: column_maker
  owner: devteam
  revisions: 02026300aa45
  tool_panel_section_label: Text Manipulation
  tool_shed_url: https://toolshed.g2.bx.psu.edu/
- name: regex_find_replace
  owner: galaxyp
  revisions: ae8c4b2488e7
  tool_panel_section_label: Text Manipulation
  tool_shed_url: https://toolshed.g2.bx.psu.edu/
- name: datamash_ops
  owner: iuc
  revisions: 562f3c677828
  tool_panel_section_label: Join, Subtract and Group
  tool_shed_url: https://toolshed.g2.bx.psu.edu/
- name: datamash_ops
  owner: iuc
  revisions: 746e8e4bf929
  tool_panel_section_label: Join, Subtract and Group
  tool_shed_url: https://toolshed.g2.bx.psu.edu/
</code></pre></div>
                </blockquote>
		

		<blockquote class="details hide-when-printing" id="feedback-responses">
                  <div id="feedback-response-c" class="box-title">
                    <button type="button" aria-controls="feedback-response-c" aria-expanded="false">
                      <i class="fas fa-info-circle" aria-hidden="true"></i>
                      <span class="visually-hidden"></span> Feedback<span role="button" class="fold-unfold fa fa-minus-square" aria-hidden="true"></span>
                    </button>
                   </div>

		   <p>
		   
		   <table class="charts-css bar show-labels" style="--labels-size: 8rem; overflow-y: hidden">
		   
			<tr>
				<th scope="row"><span class="sr-only">5 stars</span><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i></th>
				<td style="--size: 1.0">13</td>
			</tr>
		   
			<tr>
				<th scope="row"><span class="sr-only">4 stars</span><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i></th>
				<td style="--size: 0.38461538461538464">5</td>
			</tr>
		   
		   </table>
		   </p>
		
        
        
		    
		    <b>October 2024</b>
		    <ul>
				
				<li>
					<span class="sr-only">5 stars</span><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i>:
					<b>Liked</b>: every thing
					
				</li>
				
				<li>
					<span class="sr-only">4 stars</span><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i>:
					<b>Liked</b>: The jovial nature and comprehensive detail of the tutorial
					<b>Disliked</b>: Solutions to Exercice 1.2 should be c13=='Winter' instead of c13='Winter', and the same happens in 1.3 (c13=='Summer'). Exercise 2.2 it should be column 8 instead of column 14.
				</li>
				
				<li>
					<span class="sr-only">5 stars</span><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i>:
					<b>Liked</b>: Quite detail
					<b>Disliked</b>: I think this is enough.
				</li>
				
				<li>
					<span class="sr-only">5 stars</span><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i>:
					<b>Liked</b>: I didn't know all the filters we can use, it was very informative.
					<b>Disliked</b>: I love all the tasks
				</li>
				
				<li>
					<span class="sr-only">5 stars</span><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i>:
					<b>Liked</b>: This tutorial gave me a detailed method on how data can be sorted and manipulated by different columns 
					
				</li>
				
				<li>
					<span class="sr-only">5 stars</span><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i>:
					<b>Liked</b>: All the exercises given were useful for the practice and getting familiarized with the tool.
					
				</li>
				
				<li>
					<span class="sr-only">4 stars</span><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i>:
					<b>Liked</b>: detailed explanation
					<b>Disliked</b>: while a perfectly sound tutorial, its expected completion time is severely underestimated - it took several hours to complete, especially with all exercises
				</li>
				
		    </ul>
		    
		    <b>September 2024</b>
		    <ul>
				
				<li>
					<span class="sr-only">5 stars</span><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i>:
					<b>Liked</b>: Great tutorial!
					<b>Disliked</b>: In section 'Filtering/excercises/question3' (How many medals were handed out during the 2018 Olympics?) the correct expression should be:  c17=='Gold' and c12==2018 or c17=='Silver' and c12==2018 or c17=='Bronze' and c12==2018
				</li>
				
		    </ul>
		    
		    <b>October 2023</b>
		    <ul>
				
				<li>
					<span class="sr-only">4 stars</span><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i>:
					<b>Liked</b>: il is well explained and step-by-step guided. 
					<b>Disliked</b>: It maybe useful to have more details on the special meaning of " *, ?, ., + etc in a regular expression, maybe i just missed the information.  Regarding the sort-tool based exercise i had a different answer to "Which athlete comes last by alphabet, in the most recent Olympics?" : instead of " Žolt Peto who competed in table tennis at the 2020 Summer Olympics in Tokyo. " i obtained "Zuzana Rehák Štefečeková who competed in shooting at the 2020 Summer Olympics in Tokyo". I do not understand why i get a different result and if Žolt should come last because of the "Ž" not being a "Z" ?
				</li>
				
		    </ul>
		    
        
		</blockquote>




		
		
		

                </section>

            </div>
        </div>
    </div>
</article>
<br/>
<br/>
<br/>

        </div>
        <footer>
	<hr />
	<div class="container">
		<div class="row">
			<div class="col-sm-3">
				<span style="font-size: 2em">GTN</span>
				<p>
					The GTN provides learners with a free, open repository of online training
					materials, with a focus on hands-on training that aims to be directly applicable for learners.
					We aim to connect researchers and learners with local trainers, and events worldwide.
				</p>
				<p>
					We promote FAIR and Open Science practices worldwide, are committed to the accessibility of this platform and training for everyone.
				</p>
			</div>
			<div class="col-sm-3">
				<span style="font-size: 1.3em">About Us</span>
				<ul class="no-bullets">
					<li><a href="/training-material/about.html">About</a></li>
					<li><a rel="code-of-conduct" href="https://galaxyproject.org/community/coc/">Code of Conduct</a></li>
					<li><a href="/training-material/accessibility.html">Accessibility</a></li>
					<li><a href="/training-material/faqs/gtn/fair_training.html">100% FAIR Training</a></li>
					<li><a href="/training-material/faqs/gtn/collaborative_development.html">Collaborative Development</a></li>
				</ul>
				<span style="font-size: 1.3em">Page</span>
				<ul class="no-bullets">
					
					<li><i class="fas fa-fingerprint" aria-hidden="true"></i><span class="visually-hidden">purl</span><abbr title="Persistent URL">PURL</abbr>: <a href="https://gxy.io/GTN:T00184">gxy.io/GTN:T00184</a></li>
					

					

					<li>
						<a rel="license" href="https://spdx.org/licenses/CC-BY-4.0">
							Content licensed under Creative Commons Attribution 4.0 International License
						</a>
					</li>
					<li>
						<a href="https://github.com/galaxyproject/training-material/edit/main/topics/introduction/tutorials/data-manipulation-olympics/tutorial.md">
						<i class="fab fa-github" aria-hidden="true"></i><span class="visually-hidden">github</span> Edit on GitHub
						</a>
					</li>
					<li>
						<a href="https://github.com/galaxyproject/training-material/commits/main/topics/introduction/tutorials/data-manipulation-olympics/tutorial.md">
						<i class="fab fa-github" aria-hidden="true"></i><span class="visually-hidden">github</span> View Changes on GitHub
						</a>
					</li>
				</ul>
			</div>
			<div class="col-sm-3">
				<span style="font-size: 1.3em">Support</span>
				<ul class="no-bullets">
					<li><a rel="me" href="/training-material/faqs/galaxy/">Galaxy FAQs</a></li>
					<li><a rel="me" href="https://help.galaxyproject.org">Galaxy Help Forum</a></li>
					<li><a rel="me" href="http://gxy.io/gtn-slack">GTN Slack Chat</a></li>
					<li><a rel="me" href="https://matrix.to/#/%23Galaxy-Training-Network_Lobby%3Agitter.im">GTN Matrix Chat</a></li>
					<li><a rel="me" href="https://matrix.to/#/#galaxyproject_Lobby:gitter.im">Galaxy Matrix Chat</a></li>
				</ul>
				<span style="font-size: 1.3em">Framework</span>
				<ul class="no-bullets">
					<li>Revision <a href="https://github.com/galaxyproject/training-material/commit/9c7657a08299bfb894cca8820a79953e2d8e3beb">9c7657a</a></li>
					<li><a rel="license" href="https://github.com/galaxyproject/training-material/blob/main/LICENSE.md">MIT</a> Licensed</li>
					<li><a href="https://jekyllrb.com/">Jekyll(4.3.2 | production)</a></li>
				</ul>
			</div>
			<div class="col-sm-3">
				<span style="font-size: 1.3em">Follow Us!</span>
				<ul class="no-bullets">
					<li><span style="fill: var(--hyperlink);"><svg   width="1em"   height="1em"   viewBox="0 0 8.4937906 9.1084023"   version="1.1"   id="svg356"   xmlns="http://www.w3.org/2000/svg"   xmlns:svg="http://www.w3.org/2000/svg">  <g     id="layer1"     transform="translate(-70.566217,-144.26757)">    <path       style="fill-opacity:1;stroke:none;stroke-width:0.0179182"       d="m 76.39081,152.24155 c -0.737138,0.20763 -1.554999,0.29101 -2.311453,0.14333 -0.475335,-0.0928 -0.891898,-0.32923 -1.031589,-0.82423 -0.04356,-0.15434 -0.06132,-0.32388 -0.06142,-0.48378 0.353724,0.0457 0.702251,0.1304 1.057176,0.17407 0.701338,0.0864 1.394702,0.0784 2.096434,0.008 0.744056,-0.0745 1.433711,-0.21546 2.060598,-0.64854 0.243974,-0.16855 0.474672,-0.39133 0.603487,-0.66252 0.181421,-0.38195 0.175886,-0.89336 0.204447,-1.30803 0.0923,-1.34029 0.20588,-2.98599 -1.076708,-3.846 -0.499561,-0.33497 -1.208891,-0.39913 -1.791824,-0.45742 -0.987026,-0.0987 -1.971078,-0.0946 -2.956509,0.0338 -0.841146,0.10961 -1.595223,0.31468 -2.1065,1.0443 -0.493296,0.70396 -0.509564,1.52563 -0.509564,2.34729 0,1.37831 -0.05534,2.87744 0.595934,4.13911 0.504703,0.97774 1.498709,1.29589 2.52184,1.41832 0.473239,0.0566 0.96049,0.0849 1.434158,0.0172 0.328853,-0.0471 0.650325,-0.0999 0.966886,-0.20511 0.08957,-0.0298 0.266911,-0.0614 0.322027,-0.14486 0.04089,-0.0618 0.0099,-0.15812 0.0035,-0.22545 -0.01611,-0.16924 -0.02094,-0.34967 -0.02096,-0.51963 m -1.594723,-5.48298 c 0.214822,-0.25951 0.315898,-0.56088 0.60922,-0.75705 0.687899,-0.46006 1.692038,-0.11202 1.992096,0.63161 0.214571,0.5317 0.140174,1.15913 0.140174,1.72017 v 1.03925 c 0,0.0911 0.04009,0.30954 -0.01842,0.38339 -0.04193,0.053 -0.173018,0.0287 -0.232436,0.0287 h -0.698809 v -1.88142 c 0,-0.28413 0.04813,-0.63823 -0.09912,-0.89591 -0.234746,-0.4108 -0.875019,-0.36105 -1.092116,0.0358 -0.123368,0.22555 -0.116792,0.50369 -0.116792,0.75257 v 1.0751 h -0.931726 v -1.05718 c 0,-0.2555 0.0024,-0.53932 -0.121773,-0.77049 -0.21432,-0.39919 -0.857782,-0.44403 -1.090217,-0.0358 -0.147324,0.25871 -0.09604,0.61056 -0.09604,0.89591 v 1.88142 H 72.09042 v -1.98893 c 0,-0.4711 -0.01604,-0.95902 0.233201,-1.3797 0.585269,-0.98786 2.133584,-0.74836 2.472454,0.32253 z"       id="path2318" />  </g></svg></span> <a rel="me" href="https://mstdn.science/@gtn">Mastodon</a></li>
					<li><span style="fill: var(--hyperlink);"><svg  viewBox="0 0 64 57" width="1em" ><path style="fill-opacity:1;stroke:none;stroke-width:0.0179182" d="M13.873 3.805C21.21 9.332 29.103 20.537 32 26.55v15.882c0-.338-.13.044-.41.867-1.512 4.456-7.418 21.847-20.923 7.944-7.111-7.32-3.819-14.64 9.125-16.85-7.405 1.264-15.73-.825-18.014-9.015C1.12 23.022 0 8.51 0 6.55 0-3.268 8.579-.182 13.873 3.805ZM50.127 3.805C42.79 9.332 34.897 20.537 32 26.55v15.882c0-.338.13.044.41.867 1.512 4.456 7.418 21.847 20.923 7.944 7.111-7.32 3.819-14.64-9.125-16.85 7.405 1.264 15.73-.825 18.014-9.015C62.88 23.022 64 8.51 64 6.55c0-9.818-8.578-6.732-13.873-2.745Z"></path></svg></span><a rel="me" href="https://bsky.app/profile/galaxytraining.bsky.social"> Bluesky</a></li>
				</ul>

				<span style="font-size: 1.3em">Publications</span>
				<ul class="no-bullets">
					<li><a href="https://doi.org/10.1371/journal.pcbi.1010752">Hiltemann et al. 2023</a></li>
					<li><a href="https://doi.org/10.1016/j.cels.2018.05.012"> Batut et al. 2018</a></li>
					<li><a href="/training-material/faqs/gtn/gtn_citing.html">Citing Us</a></li>
				</ul>
			</div>
		</div>
	</div>
</footer>


        <script  async defer src='/training-material/assets/js/bundle.main.40d4e218.js'></script>

	
	<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
	
	

    </body>
</html>