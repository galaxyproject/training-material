<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Introduction to SQL</title>
        
            <script async defer data-domain="training.galaxyproject.org" src="https://plausible.galaxyproject.eu/js/plausible.js"></script>

        
        <link rel="stylesheet" href="/training-material/assets/css/bootstrap.min.css?v=3">
        <link rel="stylesheet" href="/training-material/assets/css/bootstrap-toc.min.css">
        <link rel="stylesheet" href="/training-material/assets/css/main.css?v=2">
        <script src="https://kit.fontawesome.com/67b3f98409.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="/training-material/assets/css/academicons.css">
        <link rel="stylesheet" href="/training-material/assets/css/syntax_highlighting.css">
        <link rel="shortcut icon" href="/training-material/favicon.ico" type="image/x-icon" />
        <link rel="alternate" type="application/atom+xml" href="/training-material/feed.xml" />

        
        
        
        
        
        <meta name="description" content="These lessons will help you get your feet in data science..." />
        <meta property="og:title" content="Galaxy Training: Introduction to SQL" />
        <meta property="og:description" content="These lessons will help you get your feet in data science..." />
        <meta property="og:image" content="/training-material/assets/images/GTNLogo1000.png" />
    </head>
    <body data-spy="scroll" data-target="#toc">
        <header>
    <nav class="navbar navbar-expand-md navbar-dark" aria-label="Site Navigation">
        <div class="container">
            <a class="navbar-brand" href="/training-material/">
                <img src="/training-material/assets/images/GTN-60px.png" height="30" alt="Galaxy Training Network logo">
                Galaxy Training!
            </a>

            <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#top-navbar" aria-controls="top-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="top-navbar">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        
                        <a class="nav-link" href="/training-material/topics/data-science" title="Go back to list of tutorials">
                            <i class="far fa-folder" aria-hidden="true"></i> Foundations of Data Science
                        </a>
                        
                    </li>
                    <li class="nav-item dropdown">
    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-expanded="false" title="Help">
        <i class="far fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">help</span> Help
    </a>
    <div class="dropdown-menu dropdown-menu-right">
        <!-- disable Tess for now
        <form method="get" action="https://tess.elixir-europe.org/materials">
            <input type="text" id="search" name="q" value="" style="margin-left: 0.5em;/*! border-radius: 0px; */">
            <input type="hidden" value="Galaxy Training" name="content_provider">
            <input type="submit" value="Search on TeSS" style="width: 92%;border-radius: 0px;margin: 0.5em;background: #f47d20;border: 0px;padding: 0.25em;" class="">
        </form>
        -->

        <a class="dropdown-item" href="/training-material/faq" title="Check our FAQs">
           <i class="far fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">question</span> FAQs
        </a>
        
        <a class="dropdown-item" href="/training-material/topics/data-science/faqs/" title="Check our FAQs for the Foundations of Data Science topic">
           <i class="far fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">question</span> Topic FAQs
        </a>
        
        <a class="dropdown-item" href="https://help.galaxyproject.org/" title="Discuss on Galaxy Help">
            <i class="far fa-comments" aria-hidden="true"></i><span class="visually-hidden">feedback</span> Galaxy Help Forum
        </a>
        <a class="dropdown-item" href="https://gitter.im/Galaxy-Training-Network/Lobby" title="Discuss on gitter">
           <i class="fab fa-gitter" aria-hidden="true"></i><span class="visually-hidden">gitter</span> Discuss on Gitter
        </a>
    </div>
</li>


                    <li class="nav-item dropdown">
    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-expanded="false" title="Extras">
        <i class="far fa-star" aria-hidden="true"></i><span class="visually-hidden">galaxy-star</span> Extras
    </a>
    <div class="dropdown-menu dropdown-menu-right">

        
        <a class="dropdown-item" href="https://github.com/galaxyproject/training-material/edit/main/topics/data-science/tutorials/sql-basic/tutorial.md" title="Edit on GitHub">
          <i class="fab fa-github" aria-hidden="true"></i><span class="visually-hidden">github</span> Edit on GitHub
        </a>

        <a class="dropdown-item" href="/training-material/stats.html" title="Show view statistics about this repository">
            <i class="fas fa-chart-bar" aria-hidden="true"></i><span class="visually-hidden">galaxy-barchart</span> GTN statistics
        </a>

        <a class="dropdown-item" href="https://plausible.galaxyproject.eu/training.galaxyproject.org?period=12mo&page=/training-material/topics/data-science/tutorials/sql-basic/tutorial.html" title="Show view statistics of this page">
            <i class="fas fa-chart-bar" aria-hidden="true"></i><span class="visually-hidden">galaxy-barchart</span> Page Metrics
        </a>

        
            <a class="dropdown-item" href="/training-material/feedback.html" title="Show feedback statistics about this repository">
                <i class="fas fa-chart-bar" aria-hidden="true"></i><span class="visually-hidden">galaxy-barchart</span> GTN feedback
            </a>
        

        <div class="dropdown-item">
            <div>
                <i class="fas fa-language" aria-hidden="true"></i><span class="visually-hidden">language</span> Translate this page
            </div>

            <div id="lang-selector">
                
                <strong>Automatic Translations</strong>

<a class="btn btn-info" href="https://translate.google.com/translate?hl=jp&sl=en&tl=fr&u=https%3A%2F%2Ftraining.galaxyproject.org/topics/data-science/tutorials/sql-basic/tutorial.html&edit-text=&act=url">
                Fran√ßais
                </a>
                
<a class="btn btn-info" href="https://translate.google.com/translate?hl=jp&sl=en&tl=ja&u=https%3A%2F%2Ftraining.galaxyproject.org/topics/data-science/tutorials/sql-basic/tutorial.html&edit-text=&act=url">
                Êó•Êú¨Ë™û
                </a>
                
<a class="btn btn-info" href="https://translate.google.com/translate?hl=jp&sl=en&tl=es&u=https%3A%2F%2Ftraining.galaxyproject.org/topics/data-science/tutorials/sql-basic/tutorial.html&edit-text=&act=url">
                Espa√±ol
                </a>
                
<a class="btn btn-info" href="https://translate.google.com/translate?hl=jp&sl=en&tl=pt&u=https%3A%2F%2Ftraining.galaxyproject.org/topics/data-science/tutorials/sql-basic/tutorial.html&edit-text=&act=url">
                Portugu√™s
                </a>
                
<a class="btn btn-info" href="https://translate.google.com/translate?hl=jp&sl=en&tl=ar&u=https%3A%2F%2Ftraining.galaxyproject.org/topics/data-science/tutorials/sql-basic/tutorial.html&edit-text=&act=url">
                ÿßŸÑÿπÿ±ÿ®Ÿäÿ©
                </a>
                
                <a class="btn btn-info" href="https://translate.google.com/translate?hl=jp&sl=en&tl=&u=https%3A%2F%2Ftraining.galaxyproject.org/topics/data-science/tutorials/sql-basic/tutorial.html&edit-text=&act=url" title="">
                And more!
                </a>
            </div>
        </div>

        <div class="dropdown-item">
            <div>
                <i class="fas fa-palette" aria-hidden="true"></i><span class="visually-hidden">gtn-theme</span> Theme
            </div>

            <div id="theme-selector" data-toggle="buttons">
                <label data-value="default" class="btn btn-secondary">
                    <input type="radio" name="options" id="default" autocomplete="off"> Default
                </label>
                <label data-value="night" class="btn btn-secondary">
                    <input type="radio" name="options" id="night" autocomplete="off"> Night
                </label>
                <label data-value="midnight" class="btn btn-secondary">
                    <input type="radio" name="options" id="midnight" autocomplete="off"> Midnight
                </label>
                <label data-value="rainbow" class="btn btn-secondary">
                    <input type="radio" name="options" id="rainbow" autocomplete="off"> Rainbow
                </label>
                <label data-value="progress" class="btn btn-secondary">
                    <input type="radio" name="options" id="progress" autocomplete="off">üè≥Ô∏è‚Äçüåà
                </label>
                <label data-value="halloween" class="btn btn-secondary">
                    <input type="radio" name="options" id="halloween" autocomplete="off"> üéÉ
                </label>
                <label data-value="straya" class="btn btn-secondary">
                    <input type="radio" name="options" id="downunder" autocomplete="off"> üá¶üá∫
                </label>
            </div>

        </div>

        <div class="dropdown-item">
            <div>
                <i class="fas fa-history" aria-hidden="true"></i><span class="visually-hidden">galaxy-rulebuilder-history</span> Previous Versions
            </div>

            
            <div id="archive-selector">
            
                <a class="btn btn-warning" href="https://training.galaxyproject.org/archive/2021-10-01/topics/data-science/tutorials/sql-basic/tutorial.html" title="Version 2021-10-01">2021-10-01</a>
            
                <a class="btn btn-warning" href="https://training.galaxyproject.org/archive/2021-09-01/topics/data-science/tutorials/sql-basic/tutorial.html" title="Version 2021-09-01">2021-09-01</a>
            
                <a class="btn btn-warning" href="https://training.galaxyproject.org/archive/2021-08-01/topics/data-science/tutorials/sql-basic/tutorial.html" title="Version 2021-08-01">2021-08-01</a>
            
                <a class="btn btn-warning" href="https://training.galaxyproject.org/archive/" title="Older Versions">Older Versions</a>
            </div>

        </div>

    </div>
</li>


                    <!-- Search bar-->
                    <li class="nav-item">
                      <div id="navbarSupportedContent" role="search">
                        <!-- Search form -->
                        <form class="form-inline mr-auto" method="GET" action="/training-material/search">
                          <i class="fas fa-search nav-link" aria-hidden="true"></i>
                          <div class="md-form mb-2">
                            <input name="query" class="form-control nicer" type="text" placeholder="Search Tutorials" aria-label="Search">
                          </div>
                        </form>
                      </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>

        <div class="container main-content" role="main">
        











<!-- Gitter -->




<script>
  ((window.gitter = {}).chat = {}).options = {
  room: 'Galaxy-Training-Network/Lobby'
  };
</script>
<script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>

<script type="application/ld+json">
    


{
  "@context": "http://schema.org",
  "@type": "Course",
  "accessMode": [
    "textual",
    "visual"
  ],
  "accessModeSufficient": [
    "textual",
    "visual"
  ],
  "accessibilityControl": [
    "fullKeyboardControl",
    "fullMouseControl"
  ],
  "accessibilityFeature": [
    "alternativeText",
    "tableOfContents"
  ],
  "accessibilitySummary": "Short descriptions are present but long descriptions will be needed for non-visual users",
  "audience": {
    "@type": "EducationalAudience",
    "educationalRole": "students"
  },
  "citation": {
    "@type": "CreativeWork",
    "name": "Community-Driven Data Analysis Training for Biology",
    "url": "https://doi.org/10.1016/j.cels.2018.05.012"
  },
  "copyrightHolder": {
    "@type": "Organization",
    "email": "galaxytrainingnetwork@gmail.com",
    "name": "Galaxy Training Network",
    "url": "https://galaxyproject.org/teach/gtn/"
  },
  "dateModified": "1970-01-01 00:33:41 +0000",
  "discussionUrl": "https://gitter.im/Galaxy-Training-Network/Lobby",
  "headline": "Introduction to SQL",
  "interactivityType": "mixed",
  "isAccessibleForFree": true,
  "isFamilyFriendly": true,
  "license": "https://spdx.org/licenses/CC-BY-4.0.html",
  "producer": {
    "@type": "Organization",
    "email": "galaxytrainingnetwork@gmail.com",
    "name": "Galaxy Training Network",
    "url": "https://galaxyproject.org/teach/gtn/"
  },
  "provider": {
    "@type": "Organization",
    "email": "galaxytrainingnetwork@gmail.com",
    "name": "Galaxy Training Network",
    "url": "https://galaxyproject.org/teach/gtn/"
  },
  "sourceOrganization": {
    "@type": "Organization",
    "email": "galaxytrainingnetwork@gmail.com",
    "name": "Galaxy Training Network",
    "url": "https://galaxyproject.org/teach/gtn/"
  },
  "isPartOf": {
    "@type": "CreativeWork",
    "name": "Foundations of Data Science",
    "description": "These lessons will help you get your feet in data science and give you tools to help you slice and dice your data into results.",
    "url": "https://training.galaxyproject.org//training-material/topics/data-science/"
  },
  "courseCode": "data-science / sql-basic / hands-on",
  "learningResourceType": "hands-on tutorial",
  "name": "Hands-on for 'Introduction to SQL' tutorial",
  "url": "https://training.galaxyproject.org//training-material/topics/data-science/tutorials/sql-basic/tutorial.html",
  "timeRequired": "PT3H",
  "keywords": "SQL, jupyter-notebook",
  "description": "The questions this  addresses are:\n - How can I get data from a database?\n - How can I sort a query's results?\n - How can I remove duplicate values from a query's results?\n - How can I select subsets of data?\n - How can I calculate new values on the fly?\n - How do databases represent missing information?\n - What special handling does missing information require?\n\n\\nThe objectives are:\n - Explain the difference between a table, a record, and a field.\n - Explain the difference between a database and a database manager.\n - Write a query to select all values for specific fields from a single table.\n - Write queries that display results in a particular order.\n - Write queries that eliminate duplicate values from data.\n - Write queries that select records that satisfy user-specified conditions.\n - Explain the order in which the clauses in a query are executed.\n - Write queries that calculate new values for each selected record.\n - Explain how databases represent missing information.\n - Explain the three-valued logic databases use when manipulating missing information.\n - Write queries that handle missing information correctly.\n\n",
  "inLanguage": {
    "@type": "Language",
    "name": "English",
    "alternateName": "en"
  },
  "hasPart": [

  ],
  "author": [
    {
      "@type": "Person",
      "name": "The Carpentries"
    },
    {
      "@type": "Person",
      "name": "Helena Rasche"
    },
    {
      "@type": "Person",
      "name": "Donny Vrins"
    },
    {
      "@type": "Person",
      "name": "Bazante Sanders"
    }
  ],
  "contributor": [
    {
      "@type": "Person",
      "name": "The Carpentries"
    },
    {
      "@type": "Person",
      "name": "Helena Rasche"
    },
    {
      "@type": "Person",
      "name": "Donny Vrins"
    },
    {
      "@type": "Person",
      "name": "Bazante Sanders"
    }
  ],
  "about": [
    {
      "@type": "CreativeWork",
      "name": "Foundations of Data Science",
      "description": "These lessons will help you get your feet in data science and give you tools to help you slice and dice your data into results.",
      "url": "https://training.galaxyproject.org//training-material/topics/data-science/"
    }
  ],
  "skillLevel": "Introductory"
}
</script>

<section class="tutorial topic-data-science">
    <h1 data-toc-skip>Introduction to SQL</h1>
    

    <div class="contributors-line">Authors: <a href="/training-material/hall-of-fame/carpentries/" class="contributor-badge contributor-carpentries"><img src="https://avatars.githubusercontent.com/carpentries?s=27" alt="Avatar">The Carpentries</a><a href="/training-material/hall-of-fame/hexylena/" class="contributor-badge contributor-hexylena"><img src="https://avatars.githubusercontent.com/hexylena?s=27" alt="Avatar">Helena Rasche</a><a href="/training-material/hall-of-fame/dirowa/" class="contributor-badge contributor-dirowa"><img src="https://avatars.githubusercontent.com/dirowa?s=27" alt="Avatar">Donny Vrins</a><a href="/training-material/hall-of-fame/bazante1/" class="contributor-badge contributor-bazante1"><img src="https://avatars.githubusercontent.com/bazante1?s=27" alt="Avatar">Bazante Sanders</a></div>

    <blockquote class="overview">
        <h3>Overview</h3>
        
        <img alt="Creative Commons License" class="float-right" style="border-width:0; display: inline-block; margin:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" aria-hidden="true" />
        
        <strong><i class="far fa-question-circle" aria-hidden="true"></i> Questions:</strong>
        <ul>
        
        <li><p>How can I get data from a database?</p>
</li>
        
        <li><p>How can I sort a query‚Äôs results?</p>
</li>
        
        <li><p>How can I remove duplicate values from a query‚Äôs results?</p>
</li>
        
        <li><p>How can I select subsets of data?</p>
</li>
        
        <li><p>How can I calculate new values on the fly?</p>
</li>
        
        <li><p>How do databases represent missing information?</p>
</li>
        
        <li><p>What special handling does missing information require?</p>
</li>
        
        </ul>

        <strong><i class="fas fa-bullseye" aria-hidden="true"></i> Objectives: </strong>
        <ul>
        
        <li><p>Explain the difference between a table, a record, and a field.</p>
</li>
        
        <li><p>Explain the difference between a database and a database manager.</p>
</li>
        
        <li><p>Write a query to select all values for specific fields from a single table.</p>
</li>
        
        <li><p>Write queries that display results in a particular order.</p>
</li>
        
        <li><p>Write queries that eliminate duplicate values from data.</p>
</li>
        
        <li><p>Write queries that select records that satisfy user-specified conditions.</p>
</li>
        
        <li><p>Explain the order in which the clauses in a query are executed.</p>
</li>
        
        <li><p>Write queries that calculate new values for each selected record.</p>
</li>
        
        <li><p>Explain how databases represent missing information.</p>
</li>
        
        <li><p>Explain the three-valued logic databases use when manipulating missing information.</p>
</li>
        
        <li><p>Write queries that handle missing information correctly.</p>
</li>
        
        </ul>

        
        <strong><i class="fas fa-check-circle" aria-hidden="true"></i> Requirements:</strong>
        <ul>
        
        
        </ul>
        

        
        <div><strong><i class="fas fa-hourglass-half" aria-hidden="true"></i> Time estimation:</strong> 3 hours</div>
        

        
        <div><strong><i class="fas fa-graduation-cap" aria-hidden="true"></i> Level: </strong>
        


 Introductory <span class="visually-hidden">Introductory</span>
<span class="level introductory" title="Introductory Tutorial">
  <i class="fas fa-graduation-cap" aria-hidden="true"></i> <i class="fas fa-graduation-cap" aria-hidden="true"></i> <i class="fas fa-graduation-cap" aria-hidden="true"></i>
</span>

</div>
        

        
        

        
        <div id="supporting-materials"><strong><i class="fa fa-external-link" aria-hidden="true"></i> Supporting Materials:</strong></div>
        <ul class="supporting_material">
            

            

            

            

            
                <li class="btn btn-default supporting_material">


    <a class="topic-icon" href="/training-material/topics/data-science/tutorials/sql-basic/tutorial.md.ipynb" title="Notebooks" alt="Introduction to SQL workflows">
        <i class="far fa-file-code" aria-hidden="true"></i> Jupyter Notebook
    </a>

</li>
            

            
            
            

            
        </ul>
        

        <div><strong><i class="far fa-calendar" aria-hidden="true"></i> Last modification:</strong> Oct 19, 2021 </div>
        <div><strong><i class="fas fa-balance-scale" aria-hidden="true"></i> License:</strong>
            
            <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Tutorial Content is licensed under Creative Commons Attribution 4.0 International License</a>
            
            <a rel="license" href="https://github.com/galaxyproject/training-material/blob/main/LICENSE.md">The GTN Framework is licensed under MIT</a>
        </div>
    </blockquote>

    <div class="container">
        <div class="row">
            <!-- sidebar, which will move to the top on a small screen -->
            <div class="col-sm-2">
                <nav id="toc" data-toggle="toc" class="sticky-top" aria-label="Table of Contents"></nav>
            </div>
            <div class="col-sm-10">
                
                <blockquote class="comment">
                    <h3><i class="far fa-comment-dots" aria-hidden="true"></i> Best viewed in a Jupyter Notebook</h3>
                    <p>
                        This tutorial is best viewed in a Jupyter notebook! You can load this notebook in Jupyter on one of the UseGalaxy.* servers<!--, or you can click to run it in MyBinder-->
                    </p>
                    <!--
                    <p><b>Launching on MyBinder</b>
                        Click here and the notebook will launch on MyBinder.org
                        <a href="https://mybinder.org/v2/gh/galaxyproject/training-material/main?filepath=training-material%2Ftopics%2Fdata-science%2Ftutorials%2Fsql-basic%2Ftutorial.md.ipynb" title="Launch notebook on MyBinder"><img src="https://mybinder.org/badge_logo.svg" alt="My Binder Logo"/></a>
                    </p>
                    -->
                    <p><b>Launching the notebook in Jupyter in Galaxy</b>
                        <ol>
                            <li><a href="/training-material/faqs/galaxy/interactive_tools_jupyter_launch.html">Instructions to Launch JupyterLab</a></li>
                            <li>Open a Terminal in JupyterLab with <b>File -> New -> Terminal</b></li>
                            <li>Run <code>wget https://training.galaxyproject.org/training-material/topics/data-science/tutorials/sql-basic/tutorial.md.ipynb</code></li>
                            <li>Select the notebook that appears in the list of files on the left.</li>
                        </ol>
                    </p>
                    <p><b>Downloading the notebook</b>
                        <ol>
                            <li>Right click this link: <a href="https://training.galaxyproject.org/training-material/topics/data-science/tutorials/sql-basic/tutorial.md.ipynb">tutorial.ipynb</a></li>
                            <li>Save Link As..</li>
                        </ol>
                    </p>
                </blockquote>
                

                <blockquote class="comment">
  <h3 id="comment-comment"><i class="far fa-comment-dots" aria-hidden="true"></i><span class="visually-hidden">comment</span> Comment</h3>

  <p>This tutorial is <strong>significantly</strong> based on <a href="https://carpentries.org">the Carpentries</a> <a href="https://github.com/swcarpentry/sql-novice-survey/">Databases and SQL</a> lesson, which is licensed CC-BY 4.0.</p>

  <p>Abigail Cabunoc and Sheldon McKay (eds): ‚ÄúSoftware Carpentry: Using Databases and SQL.‚Äù  Version 2017.08, August 2017,
<a href="https://github.com/swcarpentry/sql-novice-survey">github.com/swcarpentry/sql-novice-survey</a>, <a href="https://doi.org/10.5281/zenodo.838776">https://doi.org/10.5281/zenodo.838776</a></p>

  <p>Adaptations have been made to make this work better in a GTN/<span class="notranslate">Galaxy</span> environment.</p>
</blockquote>

<blockquote class="agenda">
  <h3 id="agenda">Agenda</h3>

  <p>In this tutorial, we will cover:</p>

<ol id="markdown-toc">
  <li><a href="#selecting-data" id="markdown-toc-selecting-data">Selecting Data</a></li>
  <li><a href="#sorting-and-removing-duplicates" id="markdown-toc-sorting-and-removing-duplicates">Sorting and Removing Duplicates</a></li>
  <li><a href="#filtering" id="markdown-toc-filtering">Filtering</a></li>
  <li><a href="#calculating-new-values" id="markdown-toc-calculating-new-values">Calculating New Values</a></li>
  <li><a href="#missing-data" id="markdown-toc-missing-data">Missing Data</a></li>
</ol>

</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">#</span> <span class="n">This</span> <span class="n">preamble</span> <span class="k">sets</span> <span class="n">up</span> <span class="n">the</span> <span class="k">sql</span> <span class="nv">"magic"</span> <span class="k">for</span> <span class="n">jupyter</span><span class="p">.</span> <span class="n">Use</span> <span class="o">%%</span><span class="k">sql</span> <span class="k">in</span> <span class="n">your</span> <span class="n">cells</span> <span class="k">to</span> <span class="k">write</span> <span class="k">sql</span><span class="o">!</span>
<span class="o">!</span><span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">ipython</span><span class="o">-</span><span class="k">sql</span> <span class="n">sqlalchemy</span>
<span class="o">!</span><span class="n">wget</span> <span class="o">-</span><span class="k">c</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">swcarpentry</span><span class="p">.</span><span class="n">github</span><span class="p">.</span><span class="n">io</span><span class="o">/</span><span class="k">sql</span><span class="o">-</span><span class="n">novice</span><span class="o">-</span><span class="n">survey</span><span class="o">/</span><span class="n">files</span><span class="o">/</span><span class="n">survey</span><span class="p">.</span><span class="n">db</span>
<span class="n">import</span> <span class="n">sqlalchemy</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">sqlalchemy</span><span class="p">.</span><span class="n">create_engine</span><span class="p">(</span><span class="nv">"sqlite:///survey.db"</span><span class="p">)</span>
<span class="o">%</span><span class="n">load_ext</span> <span class="k">sql</span>
<span class="o">%</span><span class="k">sql</span> <span class="n">sqlite</span><span class="p">:</span><span class="o">///</span><span class="n">survey</span><span class="p">.</span><span class="n">db</span>
<span class="o">%</span><span class="n">config</span> <span class="n">SqlMagic</span><span class="p">.</span><span class="n">displaycon</span><span class="o">=</span><span class="k">False</span>
</code></pre></div></div>

<h1 id="selecting-data">Selecting Data</h1>

<p>A relational database
is a way to store and manipulate information.
Databases are arranged as table.
Each table has columns (also known as fields) that describe the data,
and rows (also known as records) which contain the data.</p>

<p>When we are using a sp<span class="notranslate">reads</span>heet,
we put formulas into cells to calculate new values based on old ones.
When we are using a database,
we send commands
(usually called queries)
to a database manager:
a program that manipulates the database for us.
The database manager does whatever lookups and calculations the query specifies,
returning the results in a tabular form
that we can then use as a starting point for further queries.</p>

<p>Queries are written in a language called Structured Query Language (SQL),
SQL provides hundreds of different ways to analyze and recombine data.
We will only look at a handful of queries,
but that handful accounts for most of what scientists do.</p>

<blockquote class="tip">
  <h3 id="tip-changing-database-managers"><i class="far fa-lightbulb" aria-hidden="true"></i><span class="visually-hidden">tip</span> Changing Database Managers</h3>

  <p>Many database managers ‚Äî Oracle,
IBM DB2, PostgreSQL, MySQL, Microsoft Access, and SQLite ‚Äî  understand
SQL but each stores data in a different way,
so a database created with one cannot be used directly by another.
However, every database manager
can import and export data in a variety of formats like .csv, SQL,
so it <em>is</em> possible to move information from one to another.</p>
</blockquote>

<p>Before we get into using <abbr title="Structured Query Language">SQL</abbr> to select the data, let‚Äôs take a look at the tables of the database we will use in our examples:</p>

<p><strong>Person</strong>: people who took readings.</p>

<table>
  <thead>
    <tr>
      <th>id</th>
      <th>personal</th>
      <th>family</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>dyer</td>
      <td>William</td>
      <td>Dyer</td>
    </tr>
    <tr>
      <td>pb</td>
      <td>Frank</td>
      <td>Pabodie</td>
    </tr>
    <tr>
      <td>lake</td>
      <td>Anderson</td>
      <td>Lake</td>
    </tr>
    <tr>
      <td>roe</td>
      <td>Valentina</td>
      <td>Roerich</td>
    </tr>
    <tr>
      <td>danforth</td>
      <td>Frank</td>
      <td>Danforth</td>
    </tr>
  </tbody>
</table>

<p><strong>Site</strong>: locations where readings were taken.</p>

<table>
  <thead>
    <tr>
      <th>name</th>
      <th>lat</th>
      <th>long</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>DR-1</td>
      <td>-49.85</td>
      <td>-128.57</td>
    </tr>
    <tr>
      <td>DR-3</td>
      <td>-47.15</td>
      <td>-126.72</td>
    </tr>
    <tr>
      <td>MSK-4</td>
      <td>-48.87</td>
      <td>-123.4</td>
    </tr>
  </tbody>
</table>

<p><strong>Visited</strong>: when readings were taken at specific sites.</p>

<table>
  <thead>
    <tr>
      <th>id</th>
      <th>site</th>
      <th>dated</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>619</td>
      <td>DR-1</td>
      <td>1927-02-08</td>
    </tr>
    <tr>
      <td>622</td>
      <td>DR-1</td>
      <td>1927-02-10</td>
    </tr>
    <tr>
      <td>734</td>
      <td>DR-3</td>
      <td>1930-01-07</td>
    </tr>
    <tr>
      <td>735</td>
      <td>DR-3</td>
      <td>1930-01-12</td>
    </tr>
    <tr>
      <td>751</td>
      <td>DR-3</td>
      <td>1930-02-26</td>
    </tr>
    <tr>
      <td>752</td>
      <td>DR-3</td>
      <td>None</td>
    </tr>
    <tr>
      <td>837</td>
      <td>MSK-4</td>
      <td>1932-01-14</td>
    </tr>
    <tr>
      <td>844</td>
      <td>DR-1</td>
      <td>1932-03-22</td>
    </tr>
  </tbody>
</table>

<p><strong>Survey</strong>: the actual readings.  The field <code class="language-plaintext highlighter-rouge">quant</code> is short for quantitative and indicates what is being measured.  Values are <code class="language-plaintext highlighter-rouge">rad</code>, <code class="language-plaintext highlighter-rouge">sal</code>, and <code class="language-plaintext highlighter-rouge">temp</code> referring to ‚Äòradiation‚Äô, ‚Äòsalinity‚Äô and ‚Äòtemperature‚Äô, respectively.</p>

<table>
  <thead>
    <tr>
      <th>taken</th>
      <th>person</th>
      <th>quant</th>
      <th>reading</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>619</td>
      <td>dyer</td>
      <td>rad</td>
      <td>9.82</td>
    </tr>
    <tr>
      <td>619</td>
      <td>dyer</td>
      <td>sal</td>
      <td>0.13</td>
    </tr>
    <tr>
      <td>622</td>
      <td>dyer</td>
      <td>rad</td>
      <td>7.8</td>
    </tr>
    <tr>
      <td>622</td>
      <td>dyer</td>
      <td>sal</td>
      <td>0.09</td>
    </tr>
    <tr>
      <td>734</td>
      <td>pb</td>
      <td>rad</td>
      <td>8.41</td>
    </tr>
    <tr>
      <td>734</td>
      <td>lake</td>
      <td>sal</td>
      <td>0.05</td>
    </tr>
    <tr>
      <td>734</td>
      <td>pb</td>
      <td>temp</td>
      <td>-21.5</td>
    </tr>
    <tr>
      <td>735</td>
      <td>pb</td>
      <td>rad</td>
      <td>7.22</td>
    </tr>
    <tr>
      <td>735</td>
      <td>None</td>
      <td>sal</td>
      <td>0.06</td>
    </tr>
    <tr>
      <td>735</td>
      <td>None</td>
      <td>temp</td>
      <td>-26.0</td>
    </tr>
    <tr>
      <td>751</td>
      <td>pb</td>
      <td>rad</td>
      <td>4.35</td>
    </tr>
    <tr>
      <td>751</td>
      <td>pb</td>
      <td>temp</td>
      <td>-18.5</td>
    </tr>
    <tr>
      <td>751</td>
      <td>lake</td>
      <td>sal</td>
      <td>0.1</td>
    </tr>
    <tr>
      <td>752</td>
      <td>lake</td>
      <td>rad</td>
      <td>2.19</td>
    </tr>
    <tr>
      <td>752</td>
      <td>lake</td>
      <td>sal</td>
      <td>0.09</td>
    </tr>
    <tr>
      <td>752</td>
      <td>lake</td>
      <td>temp</td>
      <td>-16.0</td>
    </tr>
    <tr>
      <td>752</td>
      <td>roe</td>
      <td>sal</td>
      <td>41.6</td>
    </tr>
    <tr>
      <td>837</td>
      <td>lake</td>
      <td>rad</td>
      <td>1.46</td>
    </tr>
    <tr>
      <td>837</td>
      <td>lake</td>
      <td>sal</td>
      <td>0.21</td>
    </tr>
    <tr>
      <td>837</td>
      <td>roe</td>
      <td>sal</td>
      <td>22.5</td>
    </tr>
    <tr>
      <td>844</td>
      <td>roe</td>
      <td>rad</td>
      <td>11.25</td>
    </tr>
  </tbody>
</table>

<p>Notice that three entries ‚Äî one in the <code class="language-plaintext highlighter-rouge">Visited</code> table,
and two in the <code class="language-plaintext highlighter-rouge">Survey</code> table ‚Äî don‚Äôt contain any actual
data, but instead have a special <code class="language-plaintext highlighter-rouge">None</code> entry:
we‚Äôll return to these missing values.</p>

<p>For now,
let‚Äôs write an SQL query that displays scientists‚Äô names.
We do this using the SQL command <code class="language-plaintext highlighter-rouge">SELECT</code>,
giving it the names of the columns we want and the table we want them from.
Our query and its output look like this:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">family</span><span class="p">,</span> <span class="n">personal</span> <span class="k">FROM</span> <span class="n">Person</span><span class="p">;</span>
</code></pre></div></div>

<p>The semicolon at the end of the query
tells the database manager that the query is complete and ready to run.
We have written our commands in upper case and the names for the table and columns
in lower case,
but we don‚Äôt have to:
as the example below shows,
SQL is case insensitive.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SeLeCt</span> <span class="n">FaMiLy</span><span class="p">,</span> <span class="n">PeRsOnAl</span> <span class="k">FrOm</span> <span class="n">PeRsOn</span><span class="p">;</span>
</code></pre></div></div>

<p>You can use SQL‚Äôs case insensitivity to your advantage. For instance,
some people choose to write SQL keywords (such as <code class="language-plaintext highlighter-rouge">SELECT</code> and <code class="language-plaintext highlighter-rouge">FROM</code>)
in capital letters and <strong>field</strong> and <strong>table</strong> names in lower
case. This can make it easier to locate parts of an SQL statement. For
instance, you can scan the statement, quickly locate the prominent
<code class="language-plaintext highlighter-rouge">FROM</code> keyword and know the table name follows.  Whatever casing
convention you choose, please be consistent: complex queries are hard
enough to read without the extra cognitive load of random
capitalization.  One convention is to use UPPER CASE for SQL
statements, to distinguish them from tables and column names. This is
the convention that we will use for this lesson.</p>

<blockquote class="question">
  <h3 id="question-question-is-a-personal-and-family-name-column-a-good-design"><i class="far fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">question</span> Question: Is a personal and family name column a good design?</h3>
  <p>If you were tasked with designing a database to store this same data, is storing the name data in
this way the best way to do it? Why or why not?</p>

  <p>Can you think of any names that would be difficult to enter in such a schema?</p>

  <blockquote class="solution">
    <h3 id="solution-solution"><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">solution</span> Solution</h3>
    <p>No, it is generally not. There are a lot of <a href="https://shinesolutions.com/2018/01/08/falsehoods-programmers-believe-about-names-with-examples/">falsehoods that programmers believe about names</a>.
The situation is much more complex as you can read in that article, but names vary wildly and
generally placing constraints on how names are entered is only likely to frustrate you or your
users later on when they need to enter data into that database.</p>

    <p>In general you should consider using a single text field for the name and allowing users to
specify them as whatever they like (if it is a system with registration), or asking what they
wish to be recorded (if you are doing this sort of data collection).</p>

    <p>If you are doing scientific research, you might know that names are generally very poor
identifiers of a single human, and in that case consider recording their
<a href="https://orcid.org/">ORCiD</a> which will help you reference that individual when you are
publishing later.</p>

    <p>This is also a good time to consider what data you really <em>need</em> to collect. If you are working
in the EU under GDPR, do you really need their full legal name? Is that necessary? Do you have a
plan for ensuring that data is correct when publishing, if any part of their name has changed
since?</p>
  </blockquote>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Try solutions here!</span>
</code></pre></div></div>

<p>While we are on the topic of SQL‚Äôs syntax, one aspect of SQL‚Äôs syntax
that can frustrate novices and experts alike is forgetting to finish a
command with <code class="language-plaintext highlighter-rouge">;</code> (semicolon).  When you press enter for a command
without adding the <code class="language-plaintext highlighter-rouge">;</code> to the end, it can look something like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT id FROM Person
...&gt;
...&gt;
</code></pre></div></div>

<p>This is SQL‚Äôs prompt, where it is waiting for additional commands or
for a <code class="language-plaintext highlighter-rouge">;</code> to let SQL know to finish.  This is easy to fix!  Just type
<code class="language-plaintext highlighter-rouge">;</code> and press enter!</p>

<p>Now, going back to our query,
it‚Äôs important to understand that
the rows and columns in a database table aren‚Äôt actually stored in any particular order.
They will always be <em>displayed</em> in some order,
but we can control that in various ways.
For example,
we could swap the columns in the output by writing our query as:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">personal</span><span class="p">,</span> <span class="n">family</span> <span class="k">FROM</span> <span class="n">Person</span><span class="p">;</span>
</code></pre></div></div>

<p>or even repeat columns:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span> <span class="n">id</span><span class="p">,</span> <span class="n">id</span> <span class="k">FROM</span> <span class="n">Person</span><span class="p">;</span>
</code></pre></div></div>

<p>As a shortcut,
we can select all of the columns in a table using <code class="language-plaintext highlighter-rouge">*</code>:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">Person</span><span class="p">;</span>
</code></pre></div></div>

<blockquote class="question">
  <h3 id="question-question-selecting-site-names"><i class="far fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">question</span> Question: Selecting Site Names</h3>

  <p>Write a query that selects only the <code class="language-plaintext highlighter-rouge">name</code> column from the <code class="language-plaintext highlighter-rouge">Site</code> table.</p>

  <blockquote class="solution">
    <h3 id="solution-solution-1"><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">solution</span> Solution</h3>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT name FROM Site;
</code></pre></div>    </div>

    <table>
      <thead>
        <tr>
          <th>name</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>DR-1</td>
        </tr>
        <tr>
          <td>DR-3</td>
        </tr>
        <tr>
          <td>MSK-4</td>
        </tr>
      </tbody>
    </table>
  </blockquote>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Try solutions here!</span>
</code></pre></div></div>

<blockquote class="question">
  <h3 id="question-question-query-style"><i class="far fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">question</span> Question: Query Style</h3>

  <p>Many people format queries as:</p>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT personal, family FROM person;
</code></pre></div>  </div>

  <p>or as:</p>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>select Personal, Family from PERSON;
</code></pre></div>  </div>

  <p>What style do you find easiest to read, and why?</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Try solutions here!</span>
</code></pre></div></div>

<h1 id="sorting-and-removing-duplicates">Sorting and Removing Duplicates</h1>

<p>In beginning our examination of the Antarctic data, we want to know:</p>

<ul>
  <li>what kind of quantity measurements were taken at each site;</li>
  <li>which scientists took measurements on the expedition;</li>
</ul>

<p>To determine which measurements were taken at each site,
we can examine the <code class="language-plaintext highlighter-rouge">Survey</code> table.
Data is often redundant,
so queries often return redundant information.
For example,
if we select the quantities that have been measured
from the <code class="language-plaintext highlighter-rouge">Survey</code> table,
we get this:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">quant</span> <span class="k">FROM</span> <span class="n">Survey</span><span class="p">;</span>
</code></pre></div></div>

<p>This result makes it difficult to see all of the different types of
<code class="language-plaintext highlighter-rouge">quant</code> in the Survey table.  We can eliminate the redundant output to
make the result more readable by adding the <code class="language-plaintext highlighter-rouge">DISTINCT</code> keyword to our
query:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="k">DISTINCT</span> <span class="n">quant</span> <span class="k">FROM</span> <span class="n">Survey</span><span class="p">;</span>
</code></pre></div></div>

<p>If we want to determine which visit (stored in the <code class="language-plaintext highlighter-rouge">taken</code> column)
have which <code class="language-plaintext highlighter-rouge">quant</code> measurement,
we can use the <code class="language-plaintext highlighter-rouge">DISTINCT</code> keyword on multiple columns.
If we select more than one column,
distinct <em>sets</em> of values are returned
(in this case <em>pairs</em>, because we are selecting two columns):</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="k">DISTINCT</span> <span class="n">taken</span><span class="p">,</span> <span class="n">quant</span> <span class="k">FROM</span> <span class="n">Survey</span><span class="p">;</span>
</code></pre></div></div>

<p>Notice in both cases that duplicates are removed
even if the rows they come from didn‚Äôt appear to be adjacent in the database table.</p>

<p>Our next task is to identify the scientists on the expedition by looking at the <code class="language-plaintext highlighter-rouge">Person</code> table.
As we mentioned earlier,
database records are not stored in any particular order.
This means that query results aren‚Äôt necessarily sorted,
and even if they are,
we often want to sort them in a different way,
e.g., by their identifier instead of by their personal name.
We can do this in SQL by adding an <code class="language-plaintext highlighter-rouge">ORDER BY</code> clause to our query:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">Person</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">id</span><span class="p">;</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>id</th>
      <th>personal</th>
      <th>family</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>danfort</td>
      <td>Frank</td>
      <td>Danforth</td>
    </tr>
    <tr>
      <td>dyer</td>
      <td>William</td>
      <td>Dyer</td>
    </tr>
    <tr>
      <td>lake</td>
      <td>Anderson</td>
      <td>Lake</td>
    </tr>
    <tr>
      <td>pb</td>
      <td>Frank</td>
      <td>Pabodie</td>
    </tr>
    <tr>
      <td>roe</td>
      <td>Valentina</td>
      <td>Roerich</td>
    </tr>
  </tbody>
</table>

<p>By default, when we use <code class="language-plaintext highlighter-rouge">ORDER BY</code>,
results are sorted in ascending order of the column we specify
(i.e.,
from least to greatest).</p>

<p>We can sort in the opposite order using <code class="language-plaintext highlighter-rouge">DESC</code> (for ‚Äúdescending‚Äù):</p>

<blockquote class="tip">
  <h3 id="tip-a-note-on-ordering"><i class="far fa-lightbulb" aria-hidden="true"></i><span class="visually-hidden">tip</span> A note on ordering</h3>

  <p>While it may look that the records are consistent every time we ask for them in this lesson, that is because no one has changed or modified any of the data so far. Remember to use <code class="language-plaintext highlighter-rouge">ORDER BY</code> if you want the rows returned to have any sort of consistent or predictable order.</p>
</blockquote>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">person</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">id</span> <span class="k">DESC</span><span class="p">;</span>
</code></pre></div></div>

<p>(And if we want to make it clear that we‚Äôre sorting in ascending order,
we can use <code class="language-plaintext highlighter-rouge">ASC</code> instead of <code class="language-plaintext highlighter-rouge">DESC</code>.)</p>

<p>In order to look at which scientist measured quantities during each visit,
we can look again at the <code class="language-plaintext highlighter-rouge">Survey</code> table.
We can also sort on several fields at once.
For example,
this query sorts results first in ascending order by <code class="language-plaintext highlighter-rouge">taken</code>,
and then in descending order by <code class="language-plaintext highlighter-rouge">person</code>
within each group of equal <code class="language-plaintext highlighter-rouge">taken</code> values:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">taken</span><span class="p">,</span> <span class="n">person</span><span class="p">,</span> <span class="n">quant</span> <span class="k">FROM</span> <span class="n">Survey</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">taken</span> <span class="k">ASC</span><span class="p">,</span> <span class="n">person</span> <span class="k">DESC</span><span class="p">;</span>
</code></pre></div></div>

<p>This query gives us a good idea of which scientist was involved in which visit,
and what measurements they performed during the visit.</p>

<p>Looking at the table, it seems like some scientists specialized in
certain kinds of measurements.  We can examine which scientists
performed which measurements by selecting the appropriate columns and
removing duplicates.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="k">DISTINCT</span> <span class="n">quant</span><span class="p">,</span> <span class="n">person</span> <span class="k">FROM</span> <span class="n">Survey</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">quant</span> <span class="k">ASC</span><span class="p">;</span>
</code></pre></div></div>

<blockquote class="question">
  <h3 id="question-question-finding-distinct-dates"><i class="far fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">question</span> Question: Finding Distinct Dates</h3>

  <p>Write a query that selects distinct dates from the <code class="language-plaintext highlighter-rouge">Visited</code> table.</p>

  <blockquote class="solution">
    <h3 id="solution-solution-2"><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">solution</span> Solution</h3>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT DISTINCT dated FROM Visited;
</code></pre></div>    </div>

    <table>
      <thead>
        <tr>
          <th>dated</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1927-02-08</td>
        </tr>
        <tr>
          <td>1927-02-10</td>
        </tr>
        <tr>
          <td>1930-01-07</td>
        </tr>
        <tr>
          <td>1930-01-12</td>
        </tr>
        <tr>
          <td>1930-02-26</td>
        </tr>
        <tr>
          <td>¬†</td>
        </tr>
        <tr>
          <td>1932-01-14</td>
        </tr>
        <tr>
          <td>1932-03-22</td>
        </tr>
      </tbody>
    </table>
  </blockquote>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Try solutions here!</span>
</code></pre></div></div>

<blockquote class="question">
  <h3 id="question-question-displaying-full-names"><i class="far fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">question</span> Question: Displaying Full Names</h3>

  <p>Write a query that displays the full names of the scientists in the <code class="language-plaintext highlighter-rouge">Person</code> table,
ordered by family name.</p>

  <blockquote class="solution">
    <h3 id="solution-solution-3"><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">solution</span> Solution</h3>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT personal, family FROM Person ORDER BY family ASC;
</code></pre></div>    </div>

    <table>
      <thead>
        <tr>
          <th>personal</th>
          <th>family</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Frank</td>
          <td>Danforth</td>
        </tr>
        <tr>
          <td>William</td>
          <td>Dyer</td>
        </tr>
        <tr>
          <td>Anderson</td>
          <td>Lake</td>
        </tr>
        <tr>
          <td>Frank</td>
          <td>Pabodie</td>
        </tr>
        <tr>
          <td>Valentina</td>
          <td>Roerich</td>
        </tr>
      </tbody>
    </table>
  </blockquote>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Try solutions here!</span>
</code></pre></div></div>

<blockquote class="tip">
  <h3 id="tip-tip-is-sorting-names-useful"><i class="far fa-lightbulb" aria-hidden="true"></i><span class="visually-hidden">tip</span> Tip: Is sorting names useful?</h3>
  <p>If you are someone with a name which falls at the end of the alphabet, you‚Äôve likely been
penalised for this your entire life. Alphabetically sorting names should always be looked at
critically and through a lens to whether you are fairly reflecting everyone‚Äôs contributions,
rather than just the default sort order.</p>

  <p>There are many options, either by some metric of contribution that everyone could agree on, or
better, consider random sorting, like the GTN uses with our <a href="/training-material/hall-of-fame.html">Hall of Fame</a>
page where we intentionally order randomly to tell contributors that no one persons
contributions matter more than anothers.</p>

  <blockquote class="quote">
    <p>The evidence provided in a variety of studies leaves no doubt that an
alphabetical author ordering norm disadvantages researchers with
last names toward the end of the alphabet. There is furthermore con-
vincing evidence that researchers are aware of this and that they
react strategically to such alphabetical discrimination, for example
with their choices of who to collaborate with. See <a href="https://doi.org/10.1093%2Freseval%2Frvy008">Weber 2018</a> for more.</p>
  </blockquote>
</blockquote>

<blockquote class="tip">
  <h3 id="tip-tip-name-collation"><i class="far fa-lightbulb" aria-hidden="true"></i><span class="visually-hidden">tip</span> Tip: Name collation</h3>
  <p>When you are sorting things in SQL, you need to be aware of something called collation which can
affect your results if you have values that are not the letters A-Z. Collating is the process of
sorting values, and this affects many human languages when storing data in a database.</p>

  <p>Here is a Dutch example. In the old days their alphabet contained a <code class="language-plaintext highlighter-rouge">√ø</code> which was later replaced
with <code class="language-plaintext highlighter-rouge">ƒ≥</code>, a digraph of two characters squished together. This is commonly rendered as <code class="language-plaintext highlighter-rouge">ij</code>
however, two separate characters, due to the internet and widespread use of keyboards featuring
mainly ascii characters. However, it is still the 25th letter of their alphabet.</p>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sqlite&gt; create table nl(value text);
sqlite&gt; insert into nl values ('appel'), ('beer'), ('index'), ('ijs'), ('jammer'), ('winkel'), ('zon');
sqlite&gt; select * from nl order by value;
appel
beer
index
ijs
jammer
winkel
zon
</code></pre></div>  </div>

  <p>Find a dutch friend and ask them if this is the correct order for this list. Unfortunately it
isn‚Äôt. Even though it is <code class="language-plaintext highlighter-rouge">ij</code> as two separate characters, it should be sorted as if it was <code class="language-plaintext highlighter-rouge">ƒ≥</code> or
<code class="language-plaintext highlighter-rouge">√ø</code>, before <code class="language-plaintext highlighter-rouge">z</code>. Like so: appel, beer, index, jammer, winkel, ijs, zon</p>

  <p>While there is not much you can do about it now (you‚Äôre just beginning!) it is something you
should be aware of. When you later need to know about this, you will find the term ‚Äòcollation‚Äô
useful, and you‚Äôll find the procedure is different for every database engine.</p>
</blockquote>

<h1 id="filtering">Filtering</h1>

<p>One of the most powerful features of a database is
the ability to filter data,
i.e.,
to select only those records that match certain criteria.
For example,
suppose we want to see when a particular site was visited.
We can select these records from the <code class="language-plaintext highlighter-rouge">Visited</code> table
by using a <code class="language-plaintext highlighter-rouge">WHERE</code> clause in our query:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">Visited</span> <span class="k">WHERE</span> <span class="n">site</span> <span class="o">=</span> <span class="s1">'DR-1'</span><span class="p">;</span>
</code></pre></div></div>

<p>The database manager executes this query in two stages.
First,
it checks at each row in the <code class="language-plaintext highlighter-rouge">Visited</code> table
to see which ones satisfy the <code class="language-plaintext highlighter-rouge">WHERE</code>.
It then uses the column names following the <code class="language-plaintext highlighter-rouge">SELECT</code> keyword
to determine which columns to display.</p>

<p>This processing order means that
we can filter records using <code class="language-plaintext highlighter-rouge">WHERE</code>
based on values in columns that aren‚Äôt then displayed:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">id</span> <span class="k">FROM</span> <span class="n">Visited</span> <span class="k">WHERE</span> <span class="n">site</span> <span class="o">=</span> <span class="s1">'DR-1'</span><span class="p">;</span>
</code></pre></div></div>

<p>![SQL Filtering in Action]`(../../images/carpentries-sql/sql-filter.svg)</p>

<p>We can use many other Boolean operators to filter our data.
For example,
we can ask for all information from the DR-1 site collected before 1930:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">Visited</span> <span class="k">WHERE</span> <span class="n">site</span> <span class="o">=</span> <span class="s1">'DR-1'</span> <span class="k">AND</span> <span class="n">dated</span> <span class="o">&lt;</span> <span class="s1">'1930-01-01'</span><span class="p">;</span>
</code></pre></div></div>

<blockquote class="tip">
  <h3 id="tip-date-types"><i class="far fa-lightbulb" aria-hidden="true"></i><span class="visually-hidden">tip</span> Date Types</h3>

  <p>Most database managers have a special data type for dates.
In fact, many have two:
one for dates,
such as ‚ÄúMay 31, 1971‚Äù,
and one for durations,
such as ‚Äú31 days‚Äù.
SQLite doesn‚Äôt:
instead,
it stores dates as either text
(in the ISO-8601 standard format ‚ÄúYYYY-MM-DD HH:MM:SS.SSSS‚Äù),
real numbers
(<a href="https://en.wikipedia.org/wiki/Julian_day">Julian days</a>, the number of days since November 24, 4714 BCE),
or integers
(<a href="https://en.wikipedia.org/wiki/Unix_time">Unix time</a>, the number of seconds since midnight, January 1, 1970).
If this sounds complicated,
it is,
but not nearly as complicated as figuring out
<a href="https://en.wikipedia.org/wiki/Swedish_calendar">historical dates in Sweden</a>.</p>
</blockquote>

<blockquote class="tip">
  <h3 id="tip-30-1930-or-2030"><i class="far fa-lightbulb" aria-hidden="true"></i><span class="visually-hidden">tip</span> ‚Äò30: 1930 or 2030?</h3>
  <p>Storing the year as the last two digits causes problems in databases, and is part of what caused
<a href="https://en.wikipedia.org/wiki/Year_2000_problem">Y2K</a>. Be sure to use the databases‚Äô built in
format for storing dates, if it is available as that will generally avoid any major issues.</p>

  <p>Similarly there is a <a href="https://en.wikipedia.org/wiki/Year_2000_problem#Year_2038_problem">‚ÄúYear 2038 problem‚Äù</a>,
as the timestamps mentioned above that count seconds since Jan 1, 1970 were running out of space
on 32-bit machines. Many systems have since migrated to work around this with 64-bit timestamps.</p>
</blockquote>

<p>If we want to find out what measurements were taken by either Lake or Roerich,
we can combine the tests on their names using <code class="language-plaintext highlighter-rouge">OR</code>:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">Survey</span> <span class="k">WHERE</span> <span class="n">person</span> <span class="o">=</span> <span class="s1">'lake'</span> <span class="k">OR</span> <span class="n">person</span> <span class="o">=</span> <span class="s1">'roe'</span><span class="p">;</span>
</code></pre></div></div>

<p>Alte<span class="notranslate">rna</span>tively,
we can use <code class="language-plaintext highlighter-rouge">IN</code> to see if a value is in a specific set:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">Survey</span> <span class="k">WHERE</span> <span class="n">person</span> <span class="k">IN</span> <span class="p">(</span><span class="s1">'lake'</span><span class="p">,</span> <span class="s1">'roe'</span><span class="p">);</span>
</code></pre></div></div>

<p>We can combine <code class="language-plaintext highlighter-rouge">AND</code> with <code class="language-plaintext highlighter-rouge">OR</code>,
but we need to be careful about which operator is executed first.
If we <em>don‚Äôt</em> use parentheses,
we get this:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">Survey</span> <span class="k">WHERE</span> <span class="n">quant</span> <span class="o">=</span> <span class="s1">'sal'</span> <span class="k">AND</span> <span class="n">person</span> <span class="o">=</span> <span class="s1">'lake'</span> <span class="k">OR</span> <span class="n">person</span> <span class="o">=</span> <span class="s1">'roe'</span><span class="p">;</span>
</code></pre></div></div>

<p>which is salinity measurements by Lake,
and <em>any</em> measurement by Roerich.
We probably want this instead:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">Survey</span> <span class="k">WHERE</span> <span class="n">quant</span> <span class="o">=</span> <span class="s1">'sal'</span> <span class="k">AND</span> <span class="p">(</span><span class="n">person</span> <span class="o">=</span> <span class="s1">'lake'</span> <span class="k">OR</span> <span class="n">person</span> <span class="o">=</span> <span class="s1">'roe'</span><span class="p">);</span>
</code></pre></div></div>

<p>We can also filter by partial matches.  For example, if we want to
know something just about the site names beginning with ‚ÄúDR‚Äù we can
use the <code class="language-plaintext highlighter-rouge">LIKE</code> keyword.  The percent symbol acts as a
wildcard, matching any characters in that
place.  It can be used at the beginning, middle, or end of the string
Click <a href="https://www.w3schools.com/sql/sql_wildcards.asp">Here</a> for more information about wildcards:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">Visited</span> <span class="k">WHERE</span> <span class="n">site</span> <span class="k">LIKE</span> <span class="s1">'DR%'</span><span class="p">;</span>
</code></pre></div></div>

<p>Finally,
we can use <code class="language-plaintext highlighter-rouge">DISTINCT</code> with <code class="language-plaintext highlighter-rouge">WHERE</code>
to give a second level of filtering:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="k">DISTINCT</span> <span class="n">person</span><span class="p">,</span> <span class="n">quant</span> <span class="k">FROM</span> <span class="n">Survey</span> <span class="k">WHERE</span> <span class="n">person</span> <span class="o">=</span> <span class="s1">'lake'</span> <span class="k">OR</span> <span class="n">person</span> <span class="o">=</span> <span class="s1">'roe'</span><span class="p">;</span>
</code></pre></div></div>

<p>But remember:
<code class="language-plaintext highlighter-rouge">DISTINCT</code> is applied to the values displayed in the chosen columns,
not to the entire rows as they are being processed.</p>

<blockquote class="tip">
  <h3 id="tip-growing-queries"><i class="far fa-lightbulb" aria-hidden="true"></i><span class="visually-hidden">tip</span> Growing Queries</h3>

  <p>What we have just done is how most people ‚Äúgrow‚Äù their <abbr title="Structured Query Language">SQL</abbr> queries.
We started with something simple that did part of what we wanted,
then added more clauses one by one,
testing their effects as we went.
This is a good strategy ‚Äî in fact,
for complex queries it‚Äôs often the <em>only</em> strategy ‚Äî but
it depends on quick tu<span class="notranslate">rna</span>round,
and on us recognizing the right answer when we get it.</p>

  <p>The best way to achieve quick tu<span class="notranslate">rna</span>round is often
to put a subset of data in a temporary database
and run our queries against that,
or to fill a small database with synthesized records.
For example,
instead of trying our queries against an actual database of 20 million Australians,
we could run it against a sample of ten thousand,
or write a small program to generate ten thousand random (but plausible) records
and use that.</p>
</blockquote>

<blockquote class="question">
  <h3 id="question-question-fix-this-query"><i class="far fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">question</span> Question: Fix This Query</h3>

  <p>Suppose we want to select all sites that lie within 48 degrees of the equator.
Our first query is:</p>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT * FROM Site WHERE (lat &gt; -48) OR (lat &lt; 48);
</code></pre></div>  </div>

  <p>Explain why this is wrong,
and rewrite the query so that it is correct.</p>

  <blockquote class="solution">
    <h3 id="solution-solution-4"><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">solution</span> Solution</h3>

    <p>Because we used <code class="language-plaintext highlighter-rouge">OR</code>, a site on the South Pole for example will still meet
the second criteria and thus be included. Instead, we want to restrict this
to sites that meet <em>both</em> criteria:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT * FROM Site WHERE (lat &gt; -48) AND (lat &lt; 48);
</code></pre></div>    </div>
  </blockquote>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Try solutions here!</span>
</code></pre></div></div>

<blockquote class="question">
  <h3 id="question-question-finding-outliers"><i class="far fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">question</span> Question: Finding Outliers</h3>

  <p>Normalized salinity readings are supposed to be between 0.0 and 1.0.
Write a query that selects all records from <code class="language-plaintext highlighter-rouge">Survey</code>
with salinity values outside this range.</p>

  <blockquote class="solution">
    <h3 id="solution-solution-5"><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">solution</span> Solution</h3>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT * FROM Survey WHERE quant = 'sal' AND ((reading &gt; 1.0) OR (reading &lt; 0.0));
</code></pre></div>    </div>

    <table>
      <thead>
        <tr>
          <th>taken</th>
          <th>person</th>
          <th>quant</th>
          <th>reading</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>752</td>
          <td>roe</td>
          <td>sal</td>
          <td>41.6</td>
        </tr>
        <tr>
          <td>837</td>
          <td>roe</td>
          <td>sal</td>
          <td>22.5</td>
        </tr>
      </tbody>
    </table>
  </blockquote>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Try solutions here!</span>
</code></pre></div></div>

<blockquote class="question">
  <h3 id="question-question--matching-patterns"><i class="far fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">question</span> Question:  Matching Patterns</h3>

  <p>Which of these <span class="notranslate">expression</span>s are true?</p>

  <ol>
    <li><code class="language-plaintext highlighter-rouge">'a' LIKE 'a'</code></li>
    <li><code class="language-plaintext highlighter-rouge">'a' LIKE '%a'</code></li>
    <li><code class="language-plaintext highlighter-rouge">'beta' LIKE '%a'</code></li>
    <li><code class="language-plaintext highlighter-rouge">'alpha' LIKE 'a%%'</code></li>
    <li><code class="language-plaintext highlighter-rouge">'alpha' LIKE 'a%p%'</code></li>
  </ol>

  <blockquote class="solution">
    <h3 id="solution-solution-6"><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">solution</span> Solution</h3>

    <ol>
      <li>True because these are the same character.</li>
      <li>True because the wildcard can match <em>zero</em> or more characters.</li>
      <li>True because the <code class="language-plaintext highlighter-rouge">%</code> matches <code class="language-plaintext highlighter-rouge">bet</code> and the <code class="language-plaintext highlighter-rouge">a</code> matches the <code class="language-plaintext highlighter-rouge">a</code>.</li>
      <li>True because the first wildcard matches <code class="language-plaintext highlighter-rouge">lpha</code> and the second wildcard matches zero characters (or vice versa).</li>
      <li>True because the first wildcard matches <code class="language-plaintext highlighter-rouge">l</code> and the second wildcard matches <code class="language-plaintext highlighter-rouge">ha</code>.</li>
    </ol>
  </blockquote>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Try solutions here!</span>
</code></pre></div></div>

<blockquote class="tip">
  <h3 id="tip-case-insensitive-matching"><i class="far fa-lightbulb" aria-hidden="true"></i><span class="visually-hidden">tip</span> Case-insensitive matching</h3>
  <p>But what about if you don‚Äôt care about if it‚Äôs <code class="language-plaintext highlighter-rouge">ALPHA</code> or <code class="language-plaintext highlighter-rouge">alpha</code> in the database, and you are
using a language that has a notion of case (unlike e.g. Chinese, Japenese)?</p>

  <p>Then you can use the <code class="language-plaintext highlighter-rouge">ILIKE</code> operator for ‚Äòcase Insensitive LIKE‚Äô.
for example the following are true:</p>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">'a' ILIKE 'A'</code></li>
    <li><code class="language-plaintext highlighter-rouge">'AlPhA' ILIKE '%lpha'</code></li>
  </ul>
</blockquote>

<h1 id="calculating-new-values">Calculating New Values</h1>

<p>After carefully re-reading the expedition logs,
we realize that the radiation measurements they report
may need to be corrected upward by 5%.
Rather than modifying the stored data,
we can do this calculation on the fly
as part of our query:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="mi">1</span><span class="p">.</span><span class="mi">05</span> <span class="o">*</span> <span class="n">reading</span> <span class="k">FROM</span> <span class="n">Survey</span> <span class="k">WHERE</span> <span class="n">quant</span> <span class="o">=</span> <span class="s1">'rad'</span><span class="p">;</span>
</code></pre></div></div>

<p>When we run the query,
the <span class="notranslate">expression</span> <code class="language-plaintext highlighter-rouge">1.05 * reading</code> is evaluated for each row.
<span class="notranslate">Expression</span>s can use any of the fields,
all of usual arithmetic operators,
and a variety of common functions.
(Exactly which ones depends on which database manager is being used.)
For example,
we can convert temperature readings from Fahrenheit to Celsius
and round to two decimal places:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">taken</span><span class="p">,</span> <span class="n">round</span><span class="p">(</span><span class="mi">5</span> <span class="o">*</span> <span class="p">(</span><span class="n">reading</span> <span class="o">-</span> <span class="mi">32</span><span class="p">)</span> <span class="o">/</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">Survey</span> <span class="k">WHERE</span> <span class="n">quant</span> <span class="o">=</span> <span class="s1">'temp'</span><span class="p">;</span>
</code></pre></div></div>

<p>As you can see from this example, though, the string describing our
new field (generated from the equation) can become quite unwieldy. <abbr title="Structured Query Language">SQL</abbr>
allows us to rename our fields, any field for that matter, whether it
was calculated or one of the existing fields in our database, for
succinctness and clarity. For example, we could write the previous
query as:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">taken</span><span class="p">,</span> <span class="n">round</span><span class="p">(</span><span class="mi">5</span> <span class="o">*</span> <span class="p">(</span><span class="n">reading</span> <span class="o">-</span> <span class="mi">32</span><span class="p">)</span> <span class="o">/</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="k">as</span> <span class="n">Celsius</span> <span class="k">FROM</span> <span class="n">Survey</span> <span class="k">WHERE</span> <span class="n">quant</span> <span class="o">=</span> <span class="s1">'temp'</span><span class="p">;</span>
</code></pre></div></div>

<p>We can also combine values from different fields,
for example by using the string concatenation operator <code class="language-plaintext highlighter-rouge">||</code>:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">personal</span> <span class="o">||</span> <span class="s1">' '</span> <span class="o">||</span> <span class="n">family</span> <span class="k">FROM</span> <span class="n">Person</span><span class="p">;</span>
</code></pre></div></div>

<p>But of course that can also be solved by simply having a single name field which avoids other
issues.</p>

<blockquote class="question">
  <h3 id="question-question--fixing-salinity-readings"><i class="far fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">question</span> Question:  Fixing Salinity Readings</h3>

  <p>After further reading,
we realize that Valentina Roerich
was reporting salinity as percentages.
Write a query that returns all of her salinity measurements
from the <code class="language-plaintext highlighter-rouge">Survey</code> table
with the values divided by 100.</p>

  <blockquote class="solution">
    <h3 id="solution-solution-7"><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">solution</span> Solution</h3>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT taken, reading / 100 FROM Survey WHERE person = 'roe' AND quant = 'sal';
</code></pre></div>    </div>

    <table>
      <thead>
        <tr>
          <th>taken</th>
          <th>reading / 100</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>752</td>
          <td>0.416</td>
        </tr>
        <tr>
          <td>837</td>
          <td>0.225</td>
        </tr>
      </tbody>
    </table>
  </blockquote>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Try solutions here!</span>
</code></pre></div></div>

<blockquote class="question">
  <h3 id="question-question-unions"><i class="far fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">question</span> Question: Unions</h3>

  <p>The <code class="language-plaintext highlighter-rouge">UNION</code> operator combines the results of two queries:</p>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT * FROM Person WHERE id = 'dyer' UNION SELECT * FROM Person WHERE id = 'roe';
</code></pre></div>  </div>

  <table>
    <thead>
      <tr>
        <th>id</th>
        <th>personal</th>
        <th>family</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>dyer</td>
        <td>William</td>
        <td>Dyer</td>
      </tr>
      <tr>
        <td>roe</td>
        <td>Valentina</td>
        <td>Roerich</td>
      </tr>
    </tbody>
  </table>

  <p>The <code class="language-plaintext highlighter-rouge">UNION ALL</code> command is equivalent to the <code class="language-plaintext highlighter-rouge">UNION</code> operator,
except that <code class="language-plaintext highlighter-rouge">UNION ALL</code> will select all values.
The difference is that <code class="language-plaintext highlighter-rouge">UNION ALL</code> will not eliminate duplicate rows.
Instead, <code class="language-plaintext highlighter-rouge">UNION ALL</code> pulls all rows from the query
specifics and combines them into a table.
The <code class="language-plaintext highlighter-rouge">UNION</code> command does a <code class="language-plaintext highlighter-rouge">SELECT DISTINCT</code> on the results set.
If all the records to be returned are unique from your union,
use <code class="language-plaintext highlighter-rouge">UNION ALL</code> instead, it gives faster results since it skips the <code class="language-plaintext highlighter-rouge">DISTINCT</code> step.
For this section, we shall use UNION.</p>

  <p>Use <code class="language-plaintext highlighter-rouge">UNION</code> to create a consolidated list of salinity measurements
in which Valentina Roerich‚Äôs, and only Valentina‚Äôs,
have been corrected as described in the previous challenge.
The output should be something like:</p>

  <table>
    <thead>
      <tr>
        <th>taken</th>
        <th>reading</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>619</td>
        <td>0.13</td>
      </tr>
      <tr>
        <td>622</td>
        <td>0.09</td>
      </tr>
      <tr>
        <td>734</td>
        <td>0.05</td>
      </tr>
      <tr>
        <td>751</td>
        <td>0.1</td>
      </tr>
      <tr>
        <td>752</td>
        <td>0.09</td>
      </tr>
      <tr>
        <td>752</td>
        <td>0.416</td>
      </tr>
      <tr>
        <td>837</td>
        <td>0.21</td>
      </tr>
      <tr>
        <td>837</td>
        <td>0.225</td>
      </tr>
    </tbody>
  </table>

  <blockquote class="solution">
    <h3 id="solution-solution-8"><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">solution</span> Solution</h3>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT taken, reading FROM Survey WHERE person != 'roe' AND quant = 'sal' UNION SELECT taken, reading / 100 FROM Survey WHERE person = 'roe' AND quant = 'sal' ORDER BY taken ASC;
</code></pre></div>    </div>
  </blockquote>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Try solutions here!</span>
</code></pre></div></div>

<blockquote class="question">
  <h3 id="question-question-selecting-major-site-identifiers"><i class="far fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">question</span> Question: Selecting Major Site Identifiers</h3>

  <p>The site identifiers in the <code class="language-plaintext highlighter-rouge">Visited</code> table have two parts
separated by a ‚Äò-‚Äò:</p>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT DISTINCT site FROM Visited;
</code></pre></div>  </div>

  <table>
    <thead>
      <tr>
        <th>site</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>DR-1</td>
      </tr>
      <tr>
        <td>DR-3</td>
      </tr>
      <tr>
        <td>MSK-4</td>
      </tr>
    </tbody>
  </table>

  <p>Some major site identifiers (i.e. the letter codes) are two letters long and some are three.
The ‚Äúin string‚Äù function <code class="language-plaintext highlighter-rouge">instr(X, Y)</code>
returns the 1-based index of the first occurrence of string Y in string X,
or 0 if Y does not exist in X.
The substring function <code class="language-plaintext highlighter-rouge">substr(X, I, [L])</code>
returns the substring of X starting at index I, with an optional length L.
Use these two functions to produce a list of unique major site identifiers.
(For this data,
the list should contain only ‚ÄúDR‚Äù and ‚ÄúMSK‚Äù).</p>

  <blockquote class="solution">
    <h3 id="solution-solution-9"><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">solution</span> Solution</h3>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT DISTINCT substr(site, 1, instr(site, '-') - 1) AS MajorSite FROM Visited;
</code></pre></div>    </div>
  </blockquote>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Try solutions here!</span>
</code></pre></div></div>

<h1 id="missing-data">Missing Data</h1>

<p>Real-world data is never complete ‚Äî there are always holes.
Databases represent these holes using a special value called <code class="language-plaintext highlighter-rouge">null</code>.
<code class="language-plaintext highlighter-rouge">null</code> is not zero, <code class="language-plaintext highlighter-rouge">False</code>, or the empty string;
it is a one-of-a-kind value that means ‚Äúnothing here‚Äù.
Dealing with <code class="language-plaintext highlighter-rouge">null</code> requires a few special tricks
and some careful thinking.</p>

<p>By default, the Python SQL interface does not display NULL values in its output, instead it shows <code class="language-plaintext highlighter-rouge">None</code>.</p>

<p>To start,
let‚Äôs have a look at the <code class="language-plaintext highlighter-rouge">Visited</code> table.
There are eight records,
but #752 doesn‚Äôt have a date ‚Äî or rather,
its date is null:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">Visited</span><span class="p">;</span>
</code></pre></div></div>

<p>Null doesn‚Äôt behave like other values.
If we select the records that come before 1930:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">Visited</span> <span class="k">WHERE</span> <span class="n">dated</span> <span class="o">&lt;</span> <span class="s1">'1930-01-01'</span><span class="p">;</span>
</code></pre></div></div>

<p>we get two results,
and if we select the ones that come during or after 1930:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">Visited</span> <span class="k">WHERE</span> <span class="n">dated</span> <span class="o">&gt;=</span> <span class="s1">'1930-01-01'</span><span class="p">;</span>
</code></pre></div></div>

<p>we get five,
but record #752 isn‚Äôt in either set of results.
The reason is that
<code class="language-plaintext highlighter-rouge">null&lt;'1930-01-01'</code>
is neither true nor false:
null means, ‚ÄúWe don‚Äôt know,‚Äù
and if we don‚Äôt know the value on the left side of a comparison,
we don‚Äôt know whether the comparison is true or false.
Since databases represent ‚Äúdon‚Äôt know‚Äù as null,
the value of <code class="language-plaintext highlighter-rouge">null&lt;'1930-01-01'</code>
is actually <code class="language-plaintext highlighter-rouge">null</code>.
<code class="language-plaintext highlighter-rouge">null&gt;='1930-01-01'</code> is also null
because we can‚Äôt answer to that question either.
And since the only records kept by a <code class="language-plaintext highlighter-rouge">WHERE</code>
are those for which the test is true,
record #752 isn‚Äôt included in either set of results.</p>

<p>Comparisons aren‚Äôt the only operations that behave this way with nulls.
<code class="language-plaintext highlighter-rouge">1+null</code> is <code class="language-plaintext highlighter-rouge">null</code>,
<code class="language-plaintext highlighter-rouge">5*null</code> is <code class="language-plaintext highlighter-rouge">null</code>,
<code class="language-plaintext highlighter-rouge">log(null)</code> is <code class="language-plaintext highlighter-rouge">null</code>,
and so on.
In particular,
comparing things to null with = and != produces null:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">Visited</span> <span class="k">WHERE</span> <span class="n">dated</span> <span class="o">=</span> <span class="k">NULL</span><span class="p">;</span>
</code></pre></div></div>

<p>produces no output, and neither does:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">Visited</span> <span class="k">WHERE</span> <span class="n">dated</span> <span class="o">!=</span> <span class="k">NULL</span><span class="p">;</span>
</code></pre></div></div>

<p>To check whether a value is <code class="language-plaintext highlighter-rouge">null</code> or not,
we must use a special test <code class="language-plaintext highlighter-rouge">IS NULL</code>:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">Visited</span> <span class="k">WHERE</span> <span class="n">dated</span> <span class="k">IS</span> <span class="k">NULL</span><span class="p">;</span>
</code></pre></div></div>

<p>or its inverse <code class="language-plaintext highlighter-rouge">IS NOT NULL</code>:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">Visited</span> <span class="k">WHERE</span> <span class="n">dated</span> <span class="k">IS</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">;</span>
</code></pre></div></div>

<p>Null values can cause headaches wherever they appear.
For example,
suppose we want to find all the salinity measurements
that weren‚Äôt taken by Lake.
It‚Äôs natural to write the query like this:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">Survey</span> <span class="k">WHERE</span> <span class="n">quant</span> <span class="o">=</span> <span class="s1">'sal'</span> <span class="k">AND</span> <span class="n">person</span> <span class="o">!=</span> <span class="s1">'lake'</span><span class="p">;</span>
</code></pre></div></div>

<p>but this query filters omits the records
where we don‚Äôt know who took the measurement.
Once again,
the reason is that when <code class="language-plaintext highlighter-rouge">person</code> is <code class="language-plaintext highlighter-rouge">null</code>,
the <code class="language-plaintext highlighter-rouge">!=</code> comparison produces <code class="language-plaintext highlighter-rouge">null</code>,
so the record isn‚Äôt kept in our results.
If we want to keep these records
we need to add an explicit check:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">Survey</span> <span class="k">WHERE</span> <span class="n">quant</span> <span class="o">=</span> <span class="s1">'sal'</span> <span class="k">AND</span> <span class="p">(</span><span class="n">person</span> <span class="o">!=</span> <span class="s1">'lake'</span> <span class="k">OR</span> <span class="n">person</span> <span class="k">IS</span> <span class="k">NULL</span><span class="p">);</span>
</code></pre></div></div>

<p>We still have to decide whether this is the right thing to do or not.
If we want to be absolutely sure that
we aren‚Äôt including any measurements by Lake in our results,
we need to exclude all the records for which we don‚Äôt know who did the work.</p>

<p>In contrast to arithmetic or Boolean operators, aggregation functions
that combine multiple values, such as <code class="language-plaintext highlighter-rouge">min</code>, <code class="language-plaintext highlighter-rouge">max</code> or <code class="language-plaintext highlighter-rouge">avg</code>, <em>ignore</em>
<code class="language-plaintext highlighter-rouge">null</code> values. In the majority of cases, this is a desirable output:
for example, unknown values are thus not affecting our data when we
are averaging it. Aggregation functions will be addressed in more
detail in <a href="#">the next section</a>.</p>

<blockquote class="question">
  <h3 id="question-question-sorting-by-known-date"><i class="far fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">question</span> Question: Sorting by Known Date</h3>

  <p>Write a query that sorts the records in <code class="language-plaintext highlighter-rouge">Visited</code> by date,
omitting entries for which the date is not known
(i.e., is null).</p>

  <blockquote class="solution">
    <h3 id="solution-solution-10"><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">solution</span> Solution</h3>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT * FROM Visited WHERE dated IS NOT NULL ORDER BY dated ASC;
</code></pre></div>    </div>

    <table>
      <thead>
        <tr>
          <th>id</th>
          <th>site</th>
          <th>dated</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>619</td>
          <td>DR-1</td>
          <td>1927-02-08</td>
        </tr>
        <tr>
          <td>622</td>
          <td>DR-1</td>
          <td>1927-02-10</td>
        </tr>
        <tr>
          <td>734</td>
          <td>DR-3</td>
          <td>1930-01-07</td>
        </tr>
        <tr>
          <td>735</td>
          <td>DR-3</td>
          <td>1930-01-12</td>
        </tr>
        <tr>
          <td>751</td>
          <td>DR-3</td>
          <td>1930-02-26</td>
        </tr>
        <tr>
          <td>837</td>
          <td>MSK-4</td>
          <td>1932-01-14</td>
        </tr>
        <tr>
          <td>844</td>
          <td>DR-1</td>
          <td>1932-03-22</td>
        </tr>
      </tbody>
    </table>
  </blockquote>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Try solutions here!</span>
</code></pre></div></div>

<blockquote class="question">
  <h3 id="question-question-null-in-a-set"><i class="far fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">question</span> Question: NULL in a Set</h3>

  <p>What do you expect the following query to produce?</p>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT * FROM Visited WHERE dated IN ('1927-02-08', NULL);
</code></pre></div>  </div>

  <p>What does it actually produce?</p>
  <blockquote class="solution">
    <h3 id="solution-solution-11"><i class="far fa-eye" aria-hidden="true"></i><span class="visually-hidden">solution</span> Solution</h3>

    <p>You might expect the above query to return rows where dated is either ‚Äò1927-02-08‚Äô or NULL.
Instead it only returns rows where dated is ‚Äò1927-02-08‚Äô, the same as you would get from this
simpler query:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT * FROM Visited WHERE dated IN ('1927-02-08');
</code></pre></div>    </div>

    <p>The reason is that the <code class="language-plaintext highlighter-rouge">IN</code> operator works with a set of <em>values</em>, but NULL is by definition
not a value and is therefore simply ignored.</p>

    <p>If we wanted to actually include NULL, we would have to rewrite the query to use the IS NULL condition:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT * FROM Visited WHERE dated = '1927-02-08' OR dated IS NULL;
</code></pre></div>    </div>
  </blockquote>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Try solutions here!</span>
</code></pre></div></div>

<blockquote class="question">
  <h3 id="question-question-pros-and-cons-of-sentinels"><i class="far fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">question</span> Question: Pros and Cons of Sentinels</h3>

  <p>Some database designers prefer to use
a sentinel value
to mark missing data rather than <code class="language-plaintext highlighter-rouge">null</code>.
For example,
they will use the date ‚Äú0000-00-00‚Äù to mark a missing date,
or -1.0 to mark a missing salinity or radiation reading
(since actual readings cannot be negative).
What does this simplify?
What burdens or risks does it introduce?</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Try solutions here!</span>
</code></pre></div></div>


                
                <blockquote class="key_points">
                    <h3><i class="fas fa-key" aria-hidden="true"></i> Key points</h3>
                    <ul>
                        
                        <li><p>A relational database stores information in tables, each of which has a fixed set of columns and a variable number of records.</p>
</li>
                        
                        <li><p>A database manager is a program that manipulates information stored in a database.</p>
</li>
                        
                        <li><p>We write queries in a specialized language called SQL to extract information from databases.</p>
</li>
                        
                        <li><p>Use SELECT‚Ä¶ FROM‚Ä¶ to get values from a database table.</p>
</li>
                        
                        <li><p>SQL is case-insensitive (but data is case-sensitive).</p>
</li>
                        
                        <li><p>The records in a database table are not intrinsically ordered: if we want to display them in some order, we must specify that explicitly with ORDER BY.</p>
</li>
                        
                        <li><p>The values in a database are not guaranteed to be unique: if we want to eliminate duplicates, we must specify that explicitly as well using DISTINCT.</p>
</li>
                        
                        <li><p>Use WHERE to specify conditions that records must meet in order to be included in a query‚Äôs results.</p>
</li>
                        
                        <li><p>Use AND, OR, and NOT to combine tests.</p>
</li>
                        
                        <li><p>Filtering is done on whole records, so conditions can use fields that are not actually displayed.</p>
</li>
                        
                        <li><p>Write queries incrementally.</p>
</li>
                        
                        <li><p>Queries can do the usual arithmetic operations on values.</p>
</li>
                        
                        <li><p>Use UNION to combine the results of two or more queries.</p>
</li>
                        
                        <li><p>Databases use a special value called NULL to represent missing information.</p>
</li>
                        
                        <li><p>Almost all operations on NULL produce NULL.</p>
</li>
                        
                        <li><p>Queries can test for NULLs using IS NULL and IS NOT NULL.</p>
</li>
                        
                    </ul>
                </blockquote>
                

                <h1>Frequently Asked Questions</h1>
                Have questions about this tutorial? Check out the  <a href="/training-material/topics/data-science/faqs/">FAQ page for the Foundations of Data Science topic</a> to see if your question is listed there.
                If not, please ask your question on the <a href="https://gitter.im/Galaxy-Training-Network/Lobby">GTN Gitter Channel</a> or the
                <a href="https://help.galaxyproject.org">Galaxy Help Forum</a>

                

                

                
                <h1 data-toc-skip>Glossary</h1>
                <dl>
                    
                    
                    <dt>SQL</dt>
                    <dd>Structured Query Language</dd>
                    
                </dl>
                

                <h1>Feedback</h1>
                <p class="text-muted">Did you use this material as an instructor? Feel free to give us feedback on <a href="https://github.com/galaxyproject/training-material/issues/1452" target="_blank">how it went</a>.</p>

                <div id="feedback-button">
                    <img src="/training-material/shared/images/feedback.png" title="Click to activate" alt="Click here to load Google feedback frame" />
                </div>
                <div id="feedback-form">
                </div>
                <script type="text/javascript">
                    (function (window, document) {
                        function onDocumentReady(fn) {
                            if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
                                fn();
                            } else {
                                document.addEventListener('DOMContentLoaded', fn);
                            }
                        }

                        onDocumentReady(function () {
                            $("#feedback-button").click(function(evt){
                                var e = $(evt.target)
                                e.hide();

                                $("#feedback-form").html(`
                                    <iframe id="feedback-google" class="google-form" src="https://docs.google.com/forms/d/e/1FAIpQLSd4VZptFTQ03kHkMz0JyW9b6_S8geU5KjNE_tLM0dixT3ZQmA/viewform?embedded=true&entry.1235803833=Introduction to SQL (Foundations of Data Science)">Loading...</iframe>
                                `)
                            })
                        });
                    })(window, document);
                </script>



                <h1>Citing this Tutorial</h1>
                <p>
                    <ol>
                        <li id="citation-text">The Carpentries, Helena Rasche, Donny Vrins, Bazante Sanders, 2021 <b>Introduction to SQL (Galaxy Training Materials)</b>. <a href="https://training.galaxyproject.org/training-material/topics/data-science/tutorials/sql-basic/tutorial.html">https://training.galaxyproject.org/training-material/topics/data-science/tutorials/sql-basic/tutorial.html</a> Online; accessed TODAY
                        </li>
                        <li>
                        Batut et al., 2018 <b>Community-Driven Data Analysis Training for Biology</b> Cell Systems <a href="https://doi.org/10.1016%2Fj.cels.2018.05.012">10.1016/j.cels.2018.05.012</a>
                        </li>
                    </ol>
                </p>


                <blockquote class="details">
                  <h3><i class="fa fa-info-circle" aria-hidden="true"></i><span class="visually-hidden">details</span> BibTeX</h3>
                  <p style="display: none;">

                <div class="highlighter-rouge"><div class="highlight"><pre class="highlight">
<code id="citation-code">@misc{data-science-sql-basic,
author = "The Carpentries and Helena Rasche and Donny Vrins and Bazante Sanders",
title = "Introduction to SQL (Galaxy Training Materials)",
year = "2021",
month = "10",
day = "19"
url = "\url{https://training.galaxyproject.org/training-material/topics/data-science/tutorials/sql-basic/tutorial.html}",
note = "[Online; accessed TODAY]"
}
@article{Batut_2018,
    doi = {10.1016/j.cels.2018.05.012},
    url = {https://doi.org/10.1016%2Fj.cels.2018.05.012},
    year = 2018,
    month = {jun},
    publisher = {Elsevier {BV}},
    volume = {6},
    number = {6},
    pages = {752--758.e1},
    author = {B{\'{e}}r{\'{e}}nice Batut and Saskia Hiltemann and Andrea Bagnacani and Dannon Baker and Vivek Bhardwaj and Clemens Blank and Anthony Bretaudeau and Loraine Brillet-Gu{\'{e}}guen and Martin {\v{C}}ech and John Chilton and Dave Clements and Olivia Doppelt-Azeroual and Anika Erxleben and Mallory Ann Freeberg and Simon Gladman and Youri Hoogstrate and Hans-Rudolf Hotz and Torsten Houwaart and Pratik Jagtap and Delphine Larivi{\`{e}}re and Gildas Le Corguill{\'{e}} and Thomas Manke and Fabien Mareuil and Fidel Ram{\'{\i}}rez and Devon Ryan and Florian Christoph Sigloch and Nicola Soranzo and Joachim Wolff and Pavankumar Videm and Markus Wolfien and Aisanjiang Wubuli and Dilmurat Yusuf and James Taylor and Rolf Backofen and Anton Nekrutenko and Bj√∂rn Gr√ºning},
    title = {Community-Driven Data Analysis Training for Biology},
    journal = {Cell Systems}
}</code>
                </pre></div></div>
                </p>
                </blockquote>


<script type="text/javascript">
// update the date on load, or leave fallback of 'today'
d = new Date();
document.getElementById("citation-code").innerHTML = document.getElementById("citation-code").innerHTML.replace("TODAY", d.toDateString());
document.getElementById("citation-text").innerHTML = document.getElementById("citation-text").innerHTML.replace("TODAY", d.toDateString());
</script>

                <h3><i class="far fa-thumbs-up" aria-hidden="true"></i> Congratulations on successfully completing this tutorial!</h3>

                

                
                <blockquote class="agenda follow-up">
                    <strong class="follow-up"><i class="fas fa-graduation-cap" aria-hidden="true"></i> Do you want to extend your knowledge? Follow one of our recommended follow-up trainings:</strong>
                    <ul>
                        
    <li>
    
        
        
        <a href="/training-material/topics/data-science">Foundations of Data Science</a>
        
            <ul>
                
                    
                        
                    
                        
                    
                        
                            
                            <li> Advanced SQL:
                            
                            
                                
                                     <a href="/training-material/topics/data-science/tutorials/sql-advanced/tutorial.html"><i class="fas fa-laptop" aria-hidden="true"></i><span class="visually-hidden">tutorial</span> hands-on</a>
                                
                            
                            </li>
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                
            </ul>
        
    
    </li>

                    </ul>
                </blockquote>
                

            </div>
        </div>
    </div>
</section>
<br/>
<br/>
<br/>

        </div>
        
    </body>
    <script type="text/javascript" src="/training-material/assets/js/jquery.slim.min.js"></script>
    <script type="text/javascript" src="/training-material/assets/js/popper.min.js"></script>
    <script type="text/javascript" src="/training-material/assets/js/bootstrap.min.js?v=3"></script>
    <script type="text/javascript" src="/training-material/assets/js/details-element-polyfill.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="/training-material/assets/js/bootstrap-toc.min.js"></script>
    <script type="text/javascript" src="/training-material/assets/js/main.js"></script>
    <script type="text/javascript" src="/training-material/assets/js/theme.js"></script>

    <script type="text/javascript" src="/training-material/assets/js/clipboard.min.js"></script>
    <script type="text/javascript">
    var snippets=document.querySelectorAll('div.highlight');
    [].forEach.call(snippets,function(snippet){
        snippet.firstChild.insertAdjacentHTML('beforebegin','<button class="btn btn-light" data-clipboard-snippet><i class="fa fa-copy"></i>&nbsp;Copy</button>');
    });

    var clipboardSnippets=new ClipboardJS('[data-clipboard-snippet]',{
        target:function(trigger){return trigger.nextElementSibling;
    }});
    </script>
    

    <script type="text/javascript">
        if(window.location.hostname === "galaxyproject.github.io") {
            // Redirect
            var redirect = "https://training.galaxyproject.org" + window.location.pathname + window.location.search;
            $('div.container.main-content').prepend("<div class='alert alert-warning'><strong>Note: </strong>This content has a new home at <a href=\"" + redirect + "\">" + redirect + "</a>, which you will be redirected to in 5 seconds.</div>");

            window.setTimeout(function(){
                window.location.href = redirect;
            }, 5000)

        }
    </script>
</html>
