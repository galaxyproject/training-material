<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>module Jekyll::GtnFunctions - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
  var index_rel_prefix = "../";
</script>

<script src="../js/navigation.js" defer></script>
<script src="../js/search.js" defer></script>
<script src="../js/search_index.js" defer></script>
<script src="../js/searcher.js" defer></script>
<script src="../js/darkfish.js" defer></script>

<link href="../css/fonts.css" rel="stylesheet">
<link href="../css/rdoc.css" rel="stylesheet">


<body id="top" role="document" class="module">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    
    
    
    
<!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    <li ><a href="#method-c-cache">::cache</a>
    <li ><a href="#method-i-convert_to_material_list">#convert_to_material_list</a>
    <li ><a href="#method-i-convert_workflow_path_to_trs">#convert_workflow_path_to_trs</a>
    <li ><a href="#method-i-elixirnode2name">#elixirnode2name</a>
    <li ><a href="#method-i-fedi2link">#fedi2link</a>
    <li ><a href="#method-i-filter_authors">#filter_authors</a>
    <li ><a href="#method-i-fix_box_titles">#fix_box_titles</a>
    <li ><a href="#method-i-get_default_link">#get_default_link</a>
    <li ><a href="#method-i-get_topic">#get_topic</a>
    <li ><a href="#method-i-gtn_mod_date">#gtn_mod_date</a>
    <li ><a href="#method-i-how_many_topic_feedbacks">#how_many_topic_feedbacks</a>
    <li ><a href="#method-i-how_many_tutorial_feedbacks">#how_many_tutorial_feedbacks</a>
    <li ><a href="#method-i-humanize_types">#humanize_types</a>
    <li ><a href="#method-i-last_modified_at">#last_modified_at</a>
    <li ><a href="#method-i-layout_to_human">#layout_to_human</a>
    <li ><a href="#method-i-load_svg">#load_svg</a>
    <li ><a href="#method-i-regex_replace">#regex_replace</a>
    <li ><a href="#method-i-regex_replace_once">#regex_replace_once</a>
    <li ><a href="#method-i-replace_newline_doublespace">#replace_newline_doublespace</a>
    <li ><a href="#method-i-slugify_unsafe">#slugify_unsafe</a>
    <li ><a href="#method-i-top_citations">#top_citations</a>
    <li ><a href="#method-i-topic_name_from_page">#topic_name_from_page</a>
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="module-Jekyll::GtnFunctions">
  <h1 id="module-Jekyll::GtnFunctions" class="module">
    module Jekyll::GtnFunctions
  </h1>

  <section class="description">
    
<p>The main GTN function library</p>

  </section>

  <section id="5Buntitled-5D" class="documentation-section">


    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
        <dt id="ELIXIR_NODES">ELIXIR_NODES
        <dd><p>List of elixir node country IDs (ISO 3166-1 alpha-2) and their names</p>
      </dl>
    </section>



     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

      <div id="method-c-cache" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">cache</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="cache-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 56</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">cache</span>
  <span class="ruby-identifier">@@cache</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Jekyll</span><span class="ruby-operator">::</span><span class="ruby-constant">Cache</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;GtnFunctions&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

    </section>

     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

      <div id="method-i-convert_to_material_list" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">convert_to_material_list</span><span
            class="method-args">(site, materials)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="convert_to_material_list-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 275</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">convert_to_material_list</span>(<span class="ruby-identifier">site</span>, <span class="ruby-identifier">materials</span>)
  <span class="ruby-comment"># [{&quot;name&quot;=&gt;&quot;introduction&quot;, &quot;topic&quot;=&gt;&quot;admin&quot;}]</span>
  <span class="ruby-identifier">materials</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-string">&#39;name&#39;</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-string">&#39;topic&#39;</span>)
      <span class="ruby-identifier">found</span> = <span class="ruby-constant">TopicFilter</span>.<span class="ruby-identifier">fetch_tutorial_material</span>(<span class="ruby-identifier">site</span>, <span class="ruby-identifier">m</span>[<span class="ruby-string">&#39;topic&#39;</span>], <span class="ruby-identifier">m</span>[<span class="ruby-string">&#39;name&#39;</span>])
      <span class="ruby-constant">Jekyll</span>.<span class="ruby-identifier">logger</span>.<span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;Could not find material #{m[&#39;topic&#39;]}/#{m[&#39;name&#39;]} in the site data&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">found</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">found</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-string">&#39;external&#39;</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">m</span>[<span class="ruby-string">&#39;external&#39;</span>]
      {
        <span class="ruby-string">&#39;layout&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&#39;tutorial_hands_on&#39;</span>,
        <span class="ruby-string">&#39;name&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">m</span>[<span class="ruby-string">&#39;name&#39;</span>],
        <span class="ruby-string">&#39;title&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">m</span>[<span class="ruby-string">&#39;name&#39;</span>],
        <span class="ruby-string">&#39;hands_on&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&#39;external&#39;</span>,
        <span class="ruby-string">&#39;hands_on_url&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">m</span>[<span class="ruby-string">&#39;link&#39;</span>],
      }
    <span class="ruby-keyword">else</span>
      <span class="ruby-constant">Jekyll</span>.<span class="ruby-identifier">logger</span>.<span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;[GTN] Unsure how to render #{m}&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-convert_workflow_path_to_trs" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">convert_workflow_path_to_trs</span><span
            class="method-args">(str)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Convert a workflow path to a TRS path Params:</p>
<dl class="rdoc-list note-list"><dt><code>str</code>
<dd>
<p>The workflow path</p>
</dd></dl>

<p>Returns:</p>
<dl class="rdoc-list note-list"><dt><code>String</code>
<dd>
<p>The TRS path</p>
</dd></dl>

<p>Example:</p>

<pre>{{ &quot;topics/metagenomics/tutorials/mothur-miseq-sop-short/workflows/workflow1_quality_control.ga&quot; |
   convert_workflow_path_to_trs }}
=&gt; &quot;/api/ga4gh/trs/v2/tools/metagenomics-mothur-miseq-sop-short/versions/workflow1_quality_control&quot;</pre>

          <div class="method-source-code" id="convert_workflow_path_to_trs-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 307</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">convert_workflow_path_to_trs</span>(<span class="ruby-identifier">str</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-string">&#39;GTN_TRS_ERROR_NIL&#39;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">str</span>.<span class="ruby-identifier">nil?</span>

  <span class="ruby-identifier">m</span> = <span class="ruby-identifier">str</span>.<span class="ruby-identifier">match</span>(<span class="ruby-regexp">%r{topics/(?&lt;topic&gt;.*)/tutorials/(?&lt;tutorial&gt;.*)/workflows/(?&lt;workflow&gt;.*)\.ga}</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-node">&quot;/api/ga4gh/trs/v2/tools/#{m[:topic]}-#{m[:tutorial]}/versions/#{m[:workflow].downcase}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">m</span>

  <span class="ruby-string">&#39;GTN_TRS_ERROR&#39;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-elixirnode2name" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">elixirnode2name</span><span
            class="method-args">(name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Returns the name of an elixir node, given its country ID Params:</p>
<dl class="rdoc-list note-list"><dt><code>name</code>
<dd>
<p>The country ID of the node (ISO 3166-1 alpha-2)</p>
</dd></dl>

<p>Returns:</p>
<dl class="rdoc-list note-list"><dt><code>String</code>
<dd>
<p>The name of the node</p>
</dd></dl>

          <div class="method-source-code" id="elixirnode2name-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 93</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">elixirnode2name</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-constant">ELIXIR_NODES</span>[<span class="ruby-identifier">name</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-fedi2link" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">fedi2link</span><span
            class="method-args">(fedi_address)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Convert a fedi address to a link Params:</p>
<dl class="rdoc-list note-list"><dt><code>fedi_address</code>
<dd>
<p>The fedi address to convert</p>
</dd></dl>

<p>Returns:</p>
<dl class="rdoc-list note-list"><dt><code>String</code>
<dd>
<p>The URL at which their profile is accessible</p>
</dd></dl>

<p>Example:</p>

<pre>{{ contributors[page.contributor].fediverse | fedi2link }}

fedi2link(&quot;@hexylena@galaxians.garden&quot;) =&gt; &quot;https://galaxians.garden/@hexylena&quot;</pre>

          <div class="method-source-code" id="fedi2link-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 242</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">fedi2link</span>(<span class="ruby-identifier">fedi_address</span>)
  <span class="ruby-identifier">fedi_address</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/^@?(?&lt;user&gt;.*)@(?&lt;host&gt;.*)$/</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">_m</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;https://#{$LAST_MATCH_INFO[:host]}/@#{$LAST_MATCH_INFO[:user]}&quot;</span> }
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-filter_authors" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">filter_authors</span><span
            class="method-args">(contributors, contributions)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Basically a dupe of &#39;get_authors&#39; Params:</p>
<dl class="rdoc-list note-list"><dt><code>contributors</code>
<dd>
<p>The contributors to the material</p>
</dd><dt><code>contributions</code>
<dd>
<p>The contributions to the material</p>
</dd></dl>

<p>Returns:</p>
<dl class="rdoc-list note-list"><dt><code>Array</code>
<dd>
<p>The “authors” of the material</p>
</dd></dl>

<p>TODO(hexylena) de-duplicate</p>

<p>Example:</p>

<pre>{% assign authors = page.contributors | filter_authors:page.contributions -%}</pre>

          <div class="method-source-code" id="filter_authors-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 225</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">filter_authors</span>(<span class="ruby-identifier">contributors</span>, <span class="ruby-identifier">contributions</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">contributors</span> <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">contributors</span>.<span class="ruby-identifier">nil?</span>

  <span class="ruby-identifier">contributions</span>[<span class="ruby-string">&#39;authorship&#39;</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-fix_box_titles" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">fix_box_titles</span><span
            class="method-args">(content, lang, key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Fix the titles of boxes in a page Params:</p>
<dl class="rdoc-list note-list"><dt><code>content</code>
<dd>
<p>The content to fix</p>
</dd><dt><code>lang</code>
<dd>
<p>The language of the content</p>
</dd><dt><code>key</code>
<dd>
<p>The key of the content</p>
</dd></dl>

<p>Returns:</p>
<dl class="rdoc-list note-list"><dt><code>String</code>
<dd>
<p>The fixed content</p>
</dd></dl>

          <div class="method-source-code" id="fix_box_titles-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 209</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">fix_box_titles</span>(<span class="ruby-identifier">content</span>, <span class="ruby-identifier">lang</span>, <span class="ruby-identifier">key</span>)
  <span class="ruby-constant">Gtn</span><span class="ruby-operator">::</span><span class="ruby-constant">Boxify</span>.<span class="ruby-identifier">replace_elements</span>(<span class="ruby-identifier">content</span>, <span class="ruby-identifier">lang</span>, <span class="ruby-identifier">key</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-get_default_link" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">get_default_link</span><span
            class="method-args">(material)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Gets the &#39;default&#39; link for a material, hands on if it exists, otherwise slides. Params:</p>
<dl class="rdoc-list note-list"><dt><code>material</code>
<dd>
<p>The material to get the link for</p>
</dd></dl>

<p>Returns:</p>
<dl class="rdoc-list note-list"><dt><code>String</code>
<dd>
<p>The URL of the default link</p>
</dd></dl>

          <div class="method-source-code" id="get_default_link-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 357</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">get_default_link</span>(<span class="ruby-identifier">material</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-string">&#39;NO LINK&#39;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">material</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-string">&#39;NO LINK&#39;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">material</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">true</span>

  <span class="ruby-identifier">url</span> = <span class="ruby-keyword">nil</span>

  <span class="ruby-identifier">url</span> = <span class="ruby-node">&quot;topics/#{material[&#39;topic_name&#39;]}/tutorials/#{material[&#39;tutorial_name&#39;]}/slides.html&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">material</span>[<span class="ruby-string">&#39;slides&#39;</span>]

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">material</span>[<span class="ruby-string">&#39;hands_on&#39;</span>] <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">material</span>[<span class="ruby-string">&#39;hands_on&#39;</span>] <span class="ruby-operator">!=</span> <span class="ruby-string">&#39;external&#39;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">material</span>[<span class="ruby-string">&#39;hands_on&#39;</span>] <span class="ruby-operator">!=</span> <span class="ruby-string">&#39;&#39;</span>)
    <span class="ruby-identifier">url</span> = <span class="ruby-node">&quot;topics/#{material[&#39;topic_name&#39;]}/tutorials/#{material[&#39;tutorial_name&#39;]}/tutorial.html&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">url</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-get_topic" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">get_topic</span><span
            class="method-args">(page)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Get the topic of a page&#39;s path Params:</p>
<dl class="rdoc-list note-list"><dt><code>page</code>
<dd>
<p>The page to get the topic of, it will inspect <a href="'path'">page</a></p>
</dd></dl>

<p>Returns:</p>
<dl class="rdoc-list note-list"><dt><code>String</code>
<dd>
<p>The topic of the page</p>
</dd></dl>

<p>Example:</p>

<pre>{{ page | get_topic }}</pre>

          <div class="method-source-code" id="get_topic-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 346</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">get_topic</span>(<span class="ruby-identifier">page</span>)
  <span class="ruby-comment"># Arrays that will store all introduction slides and tutorials we discover.</span>
  <span class="ruby-identifier">page</span>[<span class="ruby-string">&#39;path&#39;</span>].<span class="ruby-identifier">split</span>(<span class="ruby-string">&#39;/&#39;</span>)[<span class="ruby-value">1</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-gtn_mod_date" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">gtn_mod_date</span><span
            class="method-args">(path)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Returns the last modified date of a page Params:</p>
<dl class="rdoc-list note-list"><dt><code>page</code>
<dd>
<p>The page to get the last modified date of</p>
</dd></dl>

<p>Returns:</p>
<dl class="rdoc-list note-list"><dt><code>String</code>
<dd>
<p>The last modified date of the page</p>
</dd></dl>

          <div class="method-source-code" id="gtn_mod_date-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 174</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">gtn_mod_date</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-comment"># Automatically strips any leading slashes.</span>
  <span class="ruby-constant">Gtn</span><span class="ruby-operator">::</span><span class="ruby-constant">ModificationTimes</span>.<span class="ruby-identifier">obtain_time</span>(<span class="ruby-identifier">path</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">%r{^/}</span>, <span class="ruby-string">&#39;&#39;</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-how_many_topic_feedbacks" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">how_many_topic_feedbacks</span><span
            class="method-args">(feedback, name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>How many times has a topic been mentioned in feedback? Params:</p>
<dl class="rdoc-list note-list"><dt><code>feedback</code>
<dd>
<p>The feedback to search through</p>
</dd><dt><code>name</code>
<dd>
<p>The name of the topic to search for</p>
</dd></dl>

<p>Returns:</p>
<dl class="rdoc-list note-list"><dt><code>Integer</code>
<dd>
<p>The number of times the topic has been mentioned</p>
</dd></dl>

          <div class="method-source-code" id="how_many_topic_feedbacks-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 186</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">how_many_topic_feedbacks</span>(<span class="ruby-identifier">feedback</span>, <span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">feedback</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>[<span class="ruby-string">&#39;topic&#39;</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">name</span> }.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-how_many_tutorial_feedbacks" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">how_many_tutorial_feedbacks</span><span
            class="method-args">(feedback, name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>How many times has a tutorial been mentioned in feedback? Params:</p>
<dl class="rdoc-list note-list"><dt><code>feedback</code>
<dd>
<p>The feedback to search through</p>
</dd><dt><code>name</code>
<dd>
<p>The name of the tutorial to search for</p>
</dd></dl>

<p>Returns:</p>
<dl class="rdoc-list note-list"><dt><code>Integer</code>
<dd>
<p>The number of times the tutorial has been mentioned</p>
</dd></dl>

          <div class="method-source-code" id="how_many_tutorial_feedbacks-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 197</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">how_many_tutorial_feedbacks</span>(<span class="ruby-identifier">feedback</span>, <span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">feedback</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>[<span class="ruby-string">&#39;tutorial&#39;</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">name</span> }.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-humanize_types" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">humanize_types</span><span
            class="method-args">(type)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Return human text for ruby types Params:</p>
<dl class="rdoc-list note-list"><dt><code>type</code>
<dd>
<p>The type to humanize</p>
</dd></dl>

<p>Returns:</p>
<dl class="rdoc-list note-list"><dt><code>String</code>
<dd>
<p>The humanized type</p>
</dd></dl>

<p>Example:</p>

<pre class="ruby"><span class="ruby-identifier">humanize_types</span>(<span class="ruby-string">&quot;seq&quot;</span>) <span class="ruby-comment"># =&gt; &quot;List of Items&quot;</span>
</pre>

          <div class="method-source-code" id="humanize_types-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 137</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">humanize_types</span>(<span class="ruby-identifier">type</span>)
  <span class="ruby-identifier">data</span> = {
    <span class="ruby-string">&#39;seq&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&#39;List of Items&#39;</span>,
    <span class="ruby-string">&#39;str&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&#39;Free Text&#39;</span>,
    <span class="ruby-string">&#39;map&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&#39;A dictionary/map&#39;</span>,
    <span class="ruby-string">&#39;float&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&#39;Decimal Number&#39;</span>,
    <span class="ruby-string">&#39;int&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&#39;Integer Number&#39;</span>,
    <span class="ruby-string">&#39;bool&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&#39;Boolean&#39;</span>
  }
  <span class="ruby-identifier">data</span>[<span class="ruby-identifier">type</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-last_modified_at" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">last_modified_at</span><span
            class="method-args">(page)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Returns the last modified date of a page Params:</p>
<dl class="rdoc-list note-list"><dt><code>page</code>
<dd>
<p>The page to get the last modified date of</p>
</dd></dl>

<p>Returns:</p>
<dl class="rdoc-list note-list"><dt><code>String</code>
<dd>
<p>The last modified date of the page</p>
</dd></dl>

<p>TODO: These two could be unified tbh</p>

          <div class="method-source-code" id="last_modified_at-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 163</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">last_modified_at</span>(<span class="ruby-identifier">page</span>)
  <span class="ruby-constant">Gtn</span><span class="ruby-operator">::</span><span class="ruby-constant">ModificationTimes</span>.<span class="ruby-identifier">obtain_time</span>(<span class="ruby-identifier">page</span>[<span class="ruby-string">&#39;path&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-layout_to_human" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">layout_to_human</span><span
            class="method-args">(layout)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="layout_to_human-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 316</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">layout_to_human</span>(<span class="ruby-identifier">layout</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">layout</span>
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">/slides/</span>
    <span class="ruby-string">&#39;Slides&#39;</span>
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">/tutorial_hands_on/</span>
    <span class="ruby-string">&#39;Hands-on&#39;</span>
  <span class="ruby-keyword">when</span> <span class="ruby-string">&#39;faq&#39;</span>
    <span class="ruby-string">&#39;FAQs&#39;</span>
  <span class="ruby-keyword">when</span> <span class="ruby-string">&#39;news&#39;</span>
    <span class="ruby-string">&#39;News&#39;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-load_svg" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">load_svg</span><span
            class="method-args">(path)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Load an SVG file directly into the page Params:</p>
<dl class="rdoc-list note-list"><dt><code>path</code>
<dd>
<p>The path of the SVG file (relative to GTN workspace root)</p>
</dd></dl>

<p>Returns:</p>
<dl class="rdoc-list note-list"><dt><code>String</code>
<dd>
<p>The SVG file contents</p>
</dd></dl>

<p>Example:</p>

<pre>{{ &quot;assets/images/mastodon.svg&quot; | load_svg }}</pre>

          <div class="method-source-code" id="load_svg-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 255</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">load_svg</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">path</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/\R+/</span>, <span class="ruby-string">&#39;&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-regex_replace" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">regex_replace</span><span
            class="method-args">(str, regex_search, value_replace)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="regex_replace-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 259</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">regex_replace</span>(<span class="ruby-identifier">str</span>, <span class="ruby-identifier">regex_search</span>, <span class="ruby-identifier">value_replace</span>)
  <span class="ruby-identifier">regex</span> = <span class="ruby-regexp">/#{regex_search}/m</span>
  <span class="ruby-identifier">str</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-identifier">regex</span>, <span class="ruby-identifier">value_replace</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-regex_replace_once" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">regex_replace_once</span><span
            class="method-args">(str, regex_search, value_replace)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>This method does a single regex replacement</p>

<h1 id="method-i-regex_replace_once-label-Example">Example<span><a href="#method-i-regex_replace_once-label-Example">&para;</a> <a href="#top">&uarr;</a></span></h1>

<pre>{{ content | regex_replace: &#39;&lt;hr&gt;&#39;, &#39;&#39; }}</pre>

          <div class="method-source-code" id="regex_replace_once-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 270</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">regex_replace_once</span>(<span class="ruby-identifier">str</span>, <span class="ruby-identifier">regex_search</span>, <span class="ruby-identifier">value_replace</span>)
  <span class="ruby-identifier">regex</span> = <span class="ruby-regexp">/#{regex_search}/m</span>
  <span class="ruby-identifier">str</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-identifier">regex</span>, <span class="ruby-identifier">value_replace</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-replace_newline_doublespace" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">replace_newline_doublespace</span><span
            class="method-args">(text)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Replaces newlines with newline + two spaces</p>

          <div class="method-source-code" id="replace_newline_doublespace-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 151</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">replace_newline_doublespace</span>(<span class="ruby-identifier">text</span>)
  <span class="ruby-identifier">text</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/\n/</span>, <span class="ruby-string">&quot;\n  &quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-slugify_unsafe" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">slugify_unsafe</span><span
            class="method-args">(text)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>A slightly more unsafe slugify function Params:</p>
<dl class="rdoc-list note-list"><dt><code>text</code>
<dd>
<p>The text to slugify</p>
</dd></dl>

<p>Returns:</p>
<dl class="rdoc-list note-list"><dt><code>String</code>
<dd>
<p>The slugified text</p>
</dd></dl>

<p>Example:</p>

<pre class="ruby"><span class="ruby-identifier">slugify_unsafe</span>(<span class="ruby-string">&quot;Hello, World!&quot;</span>) <span class="ruby-comment"># =&gt; &quot;Hello-World&quot;</span>
</pre>

          <div class="method-source-code" id="slugify_unsafe-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 123</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">slugify_unsafe</span>(<span class="ruby-identifier">text</span>)
  <span class="ruby-comment"># Gets rid of *most* things without making it completely unusable?</span>
  <span class="ruby-identifier">text</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">%r{[&quot;&#39;\\/;:,.!@#$%^&amp;*()]}</span>, <span class="ruby-string">&#39;&#39;</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/\s/</span>, <span class="ruby-string">&#39;-&#39;</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/-+/</span>, <span class="ruby-string">&#39;-&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-top_citations" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">top_citations</span><span
            class="method-args">(citations)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Obtain the most cited paper in the GTN Params:</p>
<dl class="rdoc-list note-list"><dt><code>citations</code>
<dd>
<p>The citations to search through</p>
</dd></dl>

<p>Returns:</p>
<dl class="rdoc-list note-list"><dt><code>Hash</code>
<dd>
<p>The papers including their text citation and citation count</p>
</dd></dl>

          <div class="method-source-code" id="top_citations-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 104</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">top_citations</span>(<span class="ruby-identifier">citations</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">citations</span>.<span class="ruby-identifier">nil?</span>
    {}
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">citations</span>.<span class="ruby-identifier">sort_by</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">_k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">v</span> }.<span class="ruby-identifier">reverse</span>.<span class="ruby-identifier">to_h</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value">20</span>).<span class="ruby-identifier">to_h</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
      [<span class="ruby-identifier">k</span>, { <span class="ruby-string">&#39;count&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">v</span>, <span class="ruby-string">&#39;text&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-constant">Gtn</span><span class="ruby-operator">::</span><span class="ruby-constant">Scholar</span>.<span class="ruby-identifier">render_citation</span>(<span class="ruby-identifier">k</span>) }]
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-topic_name_from_page" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">topic_name_from_page</span><span
            class="method-args">(page, site)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="topic_name_from_page-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 329</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">topic_name_from_page</span>(<span class="ruby-identifier">page</span>, <span class="ruby-identifier">site</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">page</span>.<span class="ruby-identifier">key?</span> <span class="ruby-string">&#39;topic_name&#39;</span>
    <span class="ruby-identifier">site</span>.<span class="ruby-identifier">data</span>[<span class="ruby-identifier">page</span>[<span class="ruby-string">&#39;topic_name&#39;</span>]][<span class="ruby-string">&#39;title&#39;</span>]
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">site</span>.<span class="ruby-identifier">data</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">page</span>[<span class="ruby-string">&#39;url&#39;</span>].<span class="ruby-identifier">split</span>(<span class="ruby-string">&#39;/&#39;</span>)[<span class="ruby-value">2</span>], { <span class="ruby-string">&#39;title&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&#39;&#39;</span> })[<span class="ruby-string">&#39;title&#39;</span>]
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

    </section>

  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.3.3.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

