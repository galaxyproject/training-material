<!doctype html>
<!-- 
3d requirement: psql: needed?

-->
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Galaxy Database Schema</title>

		<link rel="stylesheet" href="../../shared/reveal.js/css/reveal.css">
		<link rel="stylesheet" href="../../shared/reveal.js/css/theme/simple.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="../../shared/reveal.js/lib/css/zenburn.css">
        <link rel="stylesheet" href="../../shared/font-awesome/css/font-awesome.min.css">
		<link rel="stylesheet" href="../../shared/css/custom.css" id="theme">

		<!-- Printing and PDF exports -->
        <script>
          if( window.location.search.match( /print-pdf/gi ) ) {
            var link = document.createElement( 'link' );
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = '../../shared/reveal.js/css/print/pdf.css';
            document.getElementsByTagName( 'head' )[0].appendChild( link );
          }
        </script>
		<!--<script>
            if (window.location.search.match(/print-pdf/gi)) {
                document.write('<link rel="stylesheet" href="css/pdf.css" type="text/css">');
            }
        </script>-->

		<!--[if lt IE 9]>
        <script src="../../shared/reveal.js/lib/js/html5shiv.js"></script>
        <![endif]-->
	</head>

	<body>
	  <div class="reveal">
            <div class="slides">
                <section data-markdown>
                    <script type="text/template">
                        ## Welcome!

                        <img src="../../shared/images/GTNLogo1000.png" alt="GTNLogo1000"
                        class="no-border" width=30%/>

                        The easiest way to **navigate** this slide deck
                        is **by hitting `[space]` on your keyboard**

                        You can also navigate with arrow keys, but be careful because some
                        slides can be nested inside of each other (vertically)
                    </script>
                </section>

                <section data-markdown>
                    <script type="text/template">
                        # Galaxy Database Schema
                    </script>
                </section>

                <section>
                    <section data-markdown>
                        <script type="text/template">
                            ## Small introduction
			    Tools, jobs, histories, users, and so on are stored in a table database, with more information than is available on the web interface.
			    
			    Manual modification of the database, extraction of analytics information and migrating from MySQL to PostgreSQL
			    can be achieved through SQLÂ queries.
			    
                        </script>
                    </section>
			
                    <section data-markdown>
                        <script type="text/template">	
			    
			    - Learn some of the design concepts of the Galaxy database
			    - Extract information from the Galaxy database
			    - Get to know SchemaSpy
                            </script>
                    </section>


                    <section data-markdown>
                        <script type="text/template">
                            ### Requirements
			    In order to dive into the database, you should know some how to:
			    - basics on Galaxy [(Galaxy introduction)](https://github.com/bgruening/training-material/tree/master/Introduction)
			    - [deploy a Galaxy Docker Image](https://github.com/bgruening/training-material/blob/master/Admin-Corner/tutorials/galaxy_docker.md)
			    - or Access to a Galaxy server and its PostgreSQL database
		

                        </script>
                    </section>

                    <section data-markdown>
                        <script type="text/template">
                            ## Galaxy database schema
			    Galaxy data can be accessed making use of:
			    - the database approach (focus of this tutorial)
			    - the object model (used by the Python source code)
			    
			    Translation between object model and database schemais done by an
			    object-relational mapping implemented with [SQLAlchemy](http://www.sqlalchemy.org/)
                        </script>
                    </section>
                </section>

                <section>
                    <section data-markdown>
                        <script type="text/template">
                            ## Database platform
			    
			    Galaxy uses sqlite out of the box. 
			    
			    Yet, it is advised to set up an instance with PostgreSQL (which support multiple users simultaneously)
			    
                        </script>
                    </section>


                    <section data-markdown>
                        <script type="text/template">
                            ## What is in the database
			    users, groups, jobs, histories, datasets, workflows

			    ## What is not in the database
			    - Data: only metadata such as datatypes is recorded.
			    - Tools, only an XML file containing the tools description is in the tool shed.
			    
                        </script>
                    </section>
 	       </section>
      
               <section>
                    <section data-markdown>
                        <script type="text/template">
                            ## Database schema (1/2)
			    
                        </script>
                    </section>


                    <section data-markdown>
                        <script type="text/template">
                            ## Database schema (2/2)
			    
                        </script>
                    </section>

                  
                    <section data-markdown>
                        <script type="text/template">
                            ## Hands-on!
			    
                        </script>
                    </section>
 	       </section>

		    
		   

			</div>

		</div>

		<script type="text/javascript" src="../../shared/reveal.js/lib/js/head.min.js"></script>
        <script type="text/javascript" src="../../shared/reveal.js/js/reveal.js"></script>
        <script type="text/javascript">
            Reveal.initialize({
                slideNumber: !window.location.search.match(/print-pdf/gi),
                history: true,

                theme: Reveal.getQueryHash().theme,
                transition: Reveal.getQueryHash().transition || 'concave',

                dependencies: [
                    { src: '../../shared/reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    { src: '../../shared/reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: '../../shared/reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: '../../shared/js/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                    { src: '../../shared/reveal.js/plugin/notes/notes.js', async: true },
                ]
            });
        </script>

	</body>
</html>
