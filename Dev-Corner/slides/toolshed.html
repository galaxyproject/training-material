<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Galaxy ToolShed</title>

		<link rel="stylesheet" href="../../assets/reveal.js/css/reveal.css">
		<link rel="stylesheet" href="../../assets/reveal.js/css/theme/simple.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="../../assets/reveal.js/lib/css/zenburn.css">
        <link rel="stylesheet" href="../../assets/css/font-awesome.css">
		<link rel="stylesheet" href="../../assets/css/slide_custom.css" id="theme">

		<!-- Printing and PDF exports -->
        <script>
          if( window.location.search.match( /print-pdf/gi ) ) {
            var link = document.createElement( 'link' );
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = '../../assets/reveal.js/css/print/pdf.css';
            document.getElementsByTagName( 'head' )[0].appendChild( link );
          }
        </script>
		<!--<script>
            if (window.location.search.match(/print-pdf/gi)) {
                document.write('<link rel="stylesheet" href="css/pdf.css" type="text/css">');
            }
        </script>-->

		<!--[if lt IE 9]>
        <script src="../../assets/reveal.js/lib/js/html5shiv.js"></script>
        <![endif]-->
	</head>

	<body>
		<div class="reveal">
            <div class="slides">
                <section data-markdown>
                    <script type="text/template">
                        ## Welcome!

                        <img src="../../shared/images/GTNLogo1000.png" alt="GTNLogo1000"
                        class="no-border" width=30%/>

                        The easiest way to **navigate** this slide deck
                        is **by hitting `[space]` on your keyboard**

                        You can also navigate with arrow keys, but be careful because some
                        slides can be nested inside of each other (vertically)
                    </script>
                </section>
                <section data-markdown>
                    <script type="text/template">
                        # TOOL SHED
                        ## Sharing Galaxy tools
                    </script>
                </section>

                <!-- QUESTIONS AND OBJECTIVES -->
                <section>
                    <section data-markdown>
                        <script type="text/template">
                            ### <i class="fa fa-question-circle" aria-hidden="true"></i> Questions

                            - What is a Tool Shed?
                            - How to install tools and workflows from a Tool Shed into a Galaxy instance?
                            - What are the Tool Shed repository types?
                            - How to publish with Planemo?
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### <i class="fa fa-bullseye" aria-hidden="true"></i> Objectives

                            - Discover what is a Tool Shed
                            - Be able to install tools and workflows from a Tool Shed into a Galaxy instance
                            - Be able to publish tools with Planemo
                       </script>
                    </section>
                </section>

                <!-- GENERAL INTRODUCTION ON TOOLSHED -->
                <section>
                    <section data-markdown>
                        <script type="text/template">
                            ## 1. What is a Tool Shed?
                            <img src="../images/toolShed.jpg" class="no-border" width="40%">
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### <img src="../images/toolShed.jpg" class="no-border"> = Galaxy App Store
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### <img src="../images/toolShed.jpg" class="no-border"> = Galaxy App Store
                            - Galaxy tools
                            - ~~Recipes for installing and compilling tools~~,
                            - Data Managers,
                            - Custom datatypes,
                            - Exported workflows.
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### <img src="../images/toolShed.jpg" class="no-border"> = Galaxy App Store

                            - For Galaxy administrators, facilitates:
                              - **installing/updating** tools

                            - For tool developers, facilitates:
                              - **sharing** of Galaxy utilities
                              - **versioning**

                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### Available Tool Sheds
                            - [Galaxy community Tool Shed](https://toolshed.g2.bx.psu.edu/) -> Main Tool Shed
                            - [Galaxy community test Tool Shed](https://testtoolshed.g2.bx.psu.edu/) -> Sandbox for testing
                            - [List of public Tool Sheds](https://wiki.galaxyproject.org/PublicGalaxyServers#Public_ToolSheds)
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### Tool Shed interface
                            <img src="../images/main_toolShed_ss.png" class="no-border">
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### Example of tool
                            <img src="../images/exampletool_ss.png" class="no-border" width="80%">

                        </script>
                    </section>
                </section>

                <!-- INSTALLING TOOLS FROM A TOOLSHED -->
                <section>
                    <section data-markdown>
                        <script type="text/template">
                            ## 2. Installing tools from a Tool Shed
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### Connect your Galaxy to a Tool Shed
                            - Only for third party toolsheds (Main and Test by default)
                            - In `config/tool_sheds_conf.xml`:
                            ```bash
                              <tool_sheds>
                                <tool_shed name="Galaxy main tool shed" url="https://toolshed.g2.bx.psu.edu/" />
                              </tool_sheds>
                            ```
                            - Restart Galaxy
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### Install a tool from the Tool Shed
                            - Go to the admin interface and click on "Search Tool Shed"
                            <img src="../images/admin_searchtoolshed_ss.png" class="no-border" >
                            - Select a Tool Shed

                            <img src="../images/goToToolshed_ss.png" class="no-border" >
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### Install a tool from the Tool Shed
                            - Search your tool
                            <img src="../images/searchTool_ss.png" class="no-border" >
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### Install a tool from the Tool Shed
                            - Types of repository</span>
                              - <span style="color:orange"> Tools (`$name`)</span>
                              - <span style="color:blue"> Tool suites (`suite_$name`)</span>
                              - <span style="color:red"> Tool dependencies (`package_$name_$version`)</span> (gradually removed, replaced by Conda dependencies)
                            <img src="../images/typeOfRep_ss.png" class="no-border" width="85%" >
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### Install a tool from the Tool Shed
                            <img src="../images/goToToolInstall_ss.png" class="no-border" >
                            - Install the tool
                            <img src="../images/launchInstallTool_ss.png" class="no-border" >
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### Install a tool from the Tool Shed
                            - Install the tool
                            <img src="../images/installTool_ss.png" class="no-border" width="80%">
                            - <span style="font-size:70%"> Selecting Tool Shed AND conda will make Galaxy to install both</span>
                            - <span style="font-size:70%"> Recommended: use conda </span>
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### Install a tool from the Tool Shed
                            - Check
                            <img src="../images/monitor_installing_toolshed_rep.png" class="no-border" width="100%">
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### Manage installed tools
                            - Admin > Manage installed tools
                            <img src="../images/manage_installed_tools.png" width="100%">
                            <img src="../images/repStatus_ss.png" class="no-border" >
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### Manage installed tools
                            - Click on the name of a tool
                              - Manage and browse the repository
                            <img src="../images/managed_an_installed_tool.png" class="no-border" width="80%" >
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ## Tips: How to install workflows
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ###  How to install a workflow?
                            - Admin > Search Tool Shed
                            - Search the workflow
                              1. <img src="../images/toolshedWorkflow_ss.png" class="no-border" width="80%" >
                              2. <img src="../images/schemaWorkflow_ss.png" class="no-border" >
                            - <span style="font-size:70%"> Tools can come with the workflow if they are not yet installed </span>

                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### How to install a workflow?
                            <img src="../images/workflowNotInstalled_ss.png" class="no-border" >
                            - No workflow?
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ###  How to install a workflow?
                            <img src="../images/workflowInstalled_ss.png" class="no-border" >
                            - Click on the imported workflow
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ###  How to install a workflow?
                            <img src="../images/makeAvailableWorkflow_ss.png" class="no-border" >
                            - Click on the workflow at the bottom of the “Contents of this repository” section
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ###  How to install a workflow?
                            - Repository Actions > Import workflow to Galaxy
                            <img src="../images/exportWorkflow_ss.png" class="no-border" >
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ###  How to install a workflow?
                            <img src="../images/workflowOK_ss.png" class="no-border" >
                            - Done!
                        </script>
                    </section>
                </section>

                <!-- TOOLSHED REPOSITORY TYPES -->
                <section>
                    <section data-markdown>
                        <script type="text/template">
                            ## 3. Tool Shed repository types
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### 3.1 Tool with dependencies
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ###  Tool with dependencies
                            <img src="../images/toolshedPackage.png" class="no-border" >
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### 3.2 Tool suite
                            #### Group of related repositories
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ###  Tool suite
                            <img src="../images/toolSuite.png" class="no-border" >
                            - Works but no way to install a single tool
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ###  Tool suite
                            <img src="../images/toolsuite2.png" class="no-border" >
                            - One repository per individual tool

                            - A special 'Tool suite' repository listing the individual repositories
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ###  Tool suite
                            - relationship between a dependent repository and one or more required repository (tools, datatypes, workflows,...)
                            - -> One XML file
                            ```xml
                            <?xml version="1.0"?>
                            <repositories description="Pipeline phylogeny">
                               <repository toolshed="http://testtoolshed.g2.bx.psu.edu"
                                 name="fasta_to_phylip" owner="gandres" changeset_revision="a895633568" />
                               <repository name="mafft" owner="gandres" />
                               <repository name="phyml" owner="gandres" />
                            […]
                            </repositories>
                            ```
                            No need to write it yourself, Planemo does it for you
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ###  Tool suite
                            <img src="../images/toolsuite3.png" class="no-border" >
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### 3.3 Workflow
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ###  Workflow
                            <img src="../images/workflow.png" class="no-border" >
                            - A succession of tools to perform a complete analysis
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ###  Workflow
                            - In galaxy

                            <img src="../images/galaxyWorkflowEx.png" class="no-border" >
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ###  Workflow
                            <img src="../images/shareWorkflow.png" class="no-border" >
                            - You get a file: Galaxy-Workflow-NAME.ga
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ###  Workflow
                            - You have your file Galaxy-Workflow-NAME.ga
                            - How to automatically install the tools used in the workflow?
                              - -> `repository_dependencies.xml`
                            ```xml
                            <?xml version="1.0"?>
                            <repositories description="Phylogeny workflow">
                               <repository name="suite_phylogeny" owner="galaxy" />
                            </repositories>
                            ```
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ###  Workflow
                            <img src="../images/workflowRepDep.png" class="no-border" >
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ###  Workflow
                            <img src="../images/workflowRepDep2.png" class="no-border" >
                            - **Everything must be on the same toolshed**
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ## Tips
                            ### What about tools working with *.loc files or new datatypes
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### Tools with `*.loc` files or new datatypes
                            - add them to the Tool Shed repository.

                            - `*.loc` files and `datatypes` files should be provided as `*.sample` file in a `tool-data` directory.

                            - `tool-data/*.loc.sample` files come along with `tool_data_table_conf.xml.sample`.
                            Their content or the file themselves are put to the right location on tool set up.
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### Tools with *.loc files or new datatypes
                            <img src="../images/repWithLoc_ss.png" class="no-border" width="60%">
                            - <span style="font-size:60%">`tool_data_table_conf.xml.sample`</span>
                            ```xml
                            <tables>
                            	<!-- Locations of indexes in the Bowtie2 mapper format -->
                            	<table name="bowtie2_indexes" comment_char="#">
                            		<columns>value, dbkey, name, path</columns>
                            		<file path="tool-data/bowtie2_indices.loc" />
                            	</table>
                            </tables>
                            ```
                            <span style="font-size:60%">On install, the content of the file and the right
                            path to the *.loc file is added to `shed_tool_data_table_conf.xml`</span>
                        </script>
                    </section>
                </section>

                <!-- PUBLISHING WITH PLANEMO -->
                <section>
                    <section data-markdown>
                        <script type="text/template">
                            ## 4. Publishing with Planemo
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### Configure the target Tool Shed
                            ```bash
                            planemo config_init
                            ```
                            - Creates `.planemo.yml` file in your home directory:

                            ```yml
                            ## Planemo Global Configuration File.
                            ## Everything in this file is completely optional - these values can all be
                            ## configured via command line options for the corresponding commands.
                            ## [...]
                            sheds:
                                 toolshed:
                                       #key: "<TODO>"
                                       #email: "<TODO>"
                                       #password: "<TODO>"
                                 testtoolshed:
                                       #key: "<TODO>"
                                       #email: "<TODO>"
                                       #password: "<TODO>"
                                 local:
                                       #key: "<TODO>"
                                       #email: "<TODO>"
                                       #password: "<TODO>"
                            ```
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### Configure the target Tool Shed                            
                            - Add your Tool Shed API key in `.planemo.yml`
                            
                            ```yml
                            ## Planemo Global Configuration File.
                            ## Everything in this file is completely optional - these values can all be
                            ## configured via command line options for the corresponding commands.
                            ## [...]
                            sheds:
                                 toolshed:
                                       key: "xxxxxxxxxmytoolshedAPIkeyxxxxxxx"
                                       #email: "<TODO>"
                                       #password: "<TODO>"
                                 testtoolshed:
                                       #key: "<TODO>"
                                       #email: "<TODO>"
                                       #password: "<TODO>"
                                 local:
                                       #key: "<TODO>"
                                       #email: "<TODO>"
                                       #password: "<TODO>"
                            ```
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### Configure repository
                            ```bash
                            planemo shed_init --name="tandem_repeats_finder_2"
                                                 --owner="gandres"
                                                 --description="Tandem Repeats Finder description"
                                                 --long_description="A long long description."
                                                 --category="Sequence Analysis"
                                                 [--remote_repository_url=<URL to .shed.yml on github>]
                                                 [--homepage_url=<Homepage for tool.>]
                            ```
                            - Creates `.shed.yml` file in the current repository (tool repository):

                            ```yml
                            categories: [Sequence Analysis]
                            description: Tandem Repeats Finder description
                            long_description: A long long description.
                            name: tandem_repeats_finder_2
                            owner: gandres
                            ```
                        </script>
                    </section>
                    <section data-markdown >
                        <script type="text/template">
                            ### Configure repository
                            
                            #### Naming conventions
                            <small>
                             
                            | Repository Type | Recommended Name         | Examples                 |
                            | --------------- |--------------------------| -------------------------|
                            | Data Managers   | `data_manager_$name`     | `data_manager_bowtie2`   |
                            | Packages        | `package_$name_$version` | `package_aragorn_1_2_36` |
                            | Tool Suites     | `suite_$name`            | `suite_samtools`         |
                            | Tools           | `$name`                  | `stringle`, `bowtie2`    | 
                             
                            </small>
                            <span style="color:red">Planemo will determine the repository type based on these conventions</span>
                        </script>
                    </section>
										<section data-markdown >
                        <script type="text/template">
                            ### Configure repository
                            - Tools and tool suite `.shed.yml`: implicitly define repositories for each individual tool in the directory and build a suite for those tools.
                            
                            - Example: `trinity/.shed.yml`

                            ```yml
                            [...]
                            auto_tool_repositories:
                                name_template: "{{ tool_id }}"
                                description_template: "{{ tool_name }} (from the Trinity tool suite)"
                            suite:
                                name: "suite_trinity"
                                description: Trinity tools to assemble transcript sequences from Illumina RNA-Seq data.
                            ```
                        </script>
                    </section>
                    <section data-markdown >
                        <script type="text/template">
                            ### Check
                            ```bash
                            planemo shed_lint --tools
                            ```
                            ```bash
                            Linting repository […]/tandem_repeats_finder
                            Applying linter expansion... CHECK
                            .. INFO: Included files all found.
                            Applying linter tool_dependencies_xsd... CHECK
                            .. INFO: tool_dependencies.xml found and appears to be valid XML
                            Applying linter tool_dependencies_actions... CHECK
                            .. INFO: Parsed tool dependencies.
                            Applying linter repository_dependencies... CHECK
                            .. INFO: No repository_dependencies.xml, skipping.
                            Applying linter shed_yaml... CHECK
                            .. INFO: .shed.yml found and appears to be valid YAML.
                            Applying linter readme... CHECK
                            .. INFO: No README found skipping.
                            +Linting tool […]/tandem_repeats_finder/tandem_repeats_finder_wrapper.xml
                            […]
                            ```
                        </script>
                    </section>
                    <section data-markdown >
                        <script type="text/template">
                            ### Create repository
                            
                            ```bash
                            planemo shed_create --shed_target testtoolshed
                            ```
                            - Don't forget **--shed_target**. Default is main toolshed
                        </script>
                    </section>
                    <section data-markdown >
                        <script type="text/template">
                            ### Create repository
                            ```bash
                            planemo shed_create --shed_target testtoolshed
                            ```
                            ```bash
                            Repository created
                            cd '[…]/tandem_repeats_finder' && git rev-parse HEAD
                            Repository tandem_repeats_finder_2 updated successfully.
                            ```
                            <img src="../images/shedCreate.png" width="80%" >
                        </script>
                    </section>
                    <section data-markdown >
                        <script type="text/template">
                            ### Update repository
                            ```bash
                            planemo shed_diff --shed_target testtoolshed

                            ```
                            ```bash
                            wget -q --recursive -O - 'https://testtoolshed.g2.bx.psu.edu/repository/download?repository_id=6306166e4da9a8bf&changeset_revision=default&file_type=gz' | tar -xzf - -C /tmp/tool_shed_diff_DMcOrR/_testtoolshed_ --strip-components 1
                            mkdir "/tmp/tool_shed_diff_DMcOrR/_local_"; tar -xzf "/tmp/tmp5ousfg" -C "/tmp/tool_shed_diff_DMcOrR/_local_"; rm -rf /tmp/tmp5ousfg
                            cd "/tmp/tool_shed_diff_DMcOrR"; diff -r _local_ _testtoolshed_
                            diff -r _local_/tandem_repeats_finder.xml _testtoolshed_/tandem_repeats_finder.xml
                            41d40
                            <     <param name="fileout_label2" type="text" value="Unused" label="none" help="Output name for files" />
                            ```
                            - The repository needs to be updated
                        </script>
                    </section>
                    <section data-markdown >
                        <script type="text/template">
                            ### Update repository
                            ```bash
                            planemo shed_update --check_diff --shed_target testtoolshed

                            ```
                            ```bash
                            wget -q --recursive -O - 'https://testtoolshed.g2.bx.psu.edu/repository/download?repository_id=6306166e4da9a8bf&changeset_revision=default&file_type=gz' | tar -xzf - -C /tmp/tool_shed_diff_DMcOrR/_testtoolshed_ --strip-components 1
                            mkdir "/tmp/tool_shed_diff_DMcOrR/_local_"; tar -xzf "/tmp/tmp5ousfg" -C "/tmp/tool_shed_diff_DMcOrR/_local_"; rm -rf /tmp/tmp5ousfg
                            cd "/tmp/tool_shed_diff_DMcOrR"; diff -r _local_ _testtoolshed_
                            diff -r _local_/tandem_repeats_finder.xml _testtoolshed_/tandem_repeats_finder.xml
                            41d40
                            <     <param name="fileout_label2" type="text" value="Unused" label="none" help="Output name for files" />
                            Repository tandem_repeats_finder updated successfully.
                            Repository metadata updated.
                            ```
                            - The repository has been updated
                        </script>
                    </section>
                    <section data-markdown >
                        <script type="text/template">
                            ### Update repository
                            ```bash
                            planemo shed_update --check_diff --shed_target testtoolshed

                            ```
                            <img src="../images/checkToolUpdate.png" width="70%" >
                            - The repository has been updated
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            <img src="../images/planemo-logo.png" alt="Planemo" class="no-border" height=25/>
                            #### Publishing to the Tool Shed

                            <img src="../images/planemo_toolshed_publishing.png" alt="Publishing on ToolShed" class="no-border"/>

                        </script>
                    </section>
                </section>

                <!-- PLANEMO -->
                <section>
                    <section data-markdown>
                        <script type="text/template">
                            <img src="../images/planemo-logo.png" alt="Planemo" class="no-border" width=750/>

                            > Command-line utilities to assist in building and publishing Galaxy tools.

                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            <img src="../images/planemo-logo.png" alt="Planemo" class="no-border" height=25/>

                            <img src="../images/big_picture.png" alt="The big picture" class="no-border" height="600" />

                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template" >
                            <img src="../images/planemo-logo.png" alt="Planemo" class="no-border" height=25/>
                            #### Checklist (3/3)

                            <p style="text-align: left;">
                              <input type="checkbox"/> Initiate the `.shed.yml` file with <br/>
                              ```planemo shed_init``` <br/>
                              <input type="checkbox"/> Create the repository on ToolShed with <br/>
                              ```planemo shed_create```<br/>
                              <input type="checkbox"/> Install and test the wrapper on a Galaxy instance <br/>
                              <input type="checkbox"/> Improve the wrapper and push modification on toolshed <br/>
                              ```planemo shed_update``` <br/>
                            </p>

                        </script>
                    </section>
                </section>

                <!-- GITHUB REPOS -->
                <section>
                    <section data-markdown>
                        <script type="text/template">
                            ## 6. Contributing to a community
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### Contributing to a community
                            Many tools developped by the community on GitHub repositories
                            - [Intergalactic Utilities Commission](https://github.com/galaxyproject/tools-iuc)
                            - [GalaxyP](https://github.com/galaxyproteomics/tools-galaxyp)
                            - ...

                            Added value:
                            - Easier development for developers
                            - Easier contribution for user
                            - Automated tests on each contribution
                            - Automated publishing to ToolShed
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### Intergalactic Utilities Commission (IUC)
                            Develops high quality Galaxy tools
                            Establishes and follows [best practices](http://galaxy-iuc-standards.readthedocs.io/en/latest/)
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### How should I publish my tool?

                            Using an existing GitHub repository

                            - Open a pull request
                            - Follow the guidelines and comments from maintainers
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### How should I publish my tool?

                            Using your own GitHub repository

                            - Reasons: ownership, specific practices, exotic tools
                            - Follow the same structure
                            - Use `.travis.yml` to automate tests and publishing
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text/template">
                            ### How should I publish my tool?

                            Using planemo by hand

                            - Ok for few tools
                            - Makes contributing harder
                        </script>
                    </section>
                </section>

                <!-- REFERENCES -->
                <section>
                    <section data-markdown >
                        <script type="text/template">
                            ## References
                            - [ToolShed](https://galaxyproject.org/toolshed/tour/)
                            - [Install tools from the ToolShed](https://galaxyproject.org/admin/tools/add-tool-from-toolshed-tutorial/)
                            - [Publish tools with Planemo](https://planemo.readthedocs.io/en/latest/publishing.html)
                        </script>
                    </section>
                </section>

                <!-- HANDS-ON -->
                <section>
                    <section data-markdown >
                        <script type="text/template">
                            ### <i class="fa fa-pencil" aria-hidden="true"></i> Hands-on
                            
                            <img src="../images/exercise.png" alt="exercise">
                        </script>
                    </section>
                    <section data-markdown >
                        <script type="text/template">
                            ### <i class="fa fa-pencil" aria-hidden="true"></i> Hands-on
                            
                            #### The goal
                            Publish your tool (seqtk_seq) in your local toolshed with Planemo
                        </script>
                    </section>
                    <section data-markdown >
                        <script type="text/template">
                            ### <i class="fa fa-pencil" aria-hidden="true"></i> Hands-on

                            #### Step 1: Start and configure your toolshed
                            - Start your toolshed (in galaxy home directory):
                            ```bash
                            ./run_tool_shed.sh
                            ```
                            - Toolshed available at `http://localhost:9009`
                            <aside class="notes">
                            login: galaxy/azerty
                            </aside>
                        </script>
                    </section>
                    <section data-markdown >
                        <script type="text/template">
                            ### <i class="fa fa-pencil" aria-hidden="true"></i> Hands-on

                            #### Step 2: Use planemo to publish your tool
                         </script>
                    </section>
                    <section data-markdown >
                        <script type="text/template">
                            ### <i class="fa fa-pencil" aria-hidden="true"></i> Hands-on

                            #### Step 2: Use planemo to publish your tool
                            - `planemo config_init`
                            - `planemo shed_init`
                            - `planemo shed_lint`
                            - `planemo shed_create`
                            
                            <aside class="notes">
                            ```bash
                            planemo config_init
                            ```
                              - Creates file `.planemo.yml` in your home directory.
                            ```yml
                            [...]  local:
                            #key: "<TODO>"
                            email: "galaxy@localhost.fr"
                            password: "azerty"
                            ```
                            ```bash
                            planemo shed_init --name=seqtk_seq --owner=galaxy --description="common transformation of FASTA/Q" --category="Fasta Manipulation"
                            ```
                            ```bash
                            planemo shed_lint .
                            ```
                            ```bash
                            planemo shed_create --shed_target local
                            ```
                            </aside>
                         </script>
                    </section>
                    <section data-markdown >
                        <script type="text/template">
                            ### <i class="fa fa-pencil" aria-hidden="true"></i> Hands-on

                            #### Step 3: Update your tool and then use planemo to update your tool on the Tool Shed
                        </script>
                    </section>
                    <section data-markdown >
                        <script type="text/template">
                            ### <i class="fa fa-pencil" aria-hidden="true"></i> Hands-on

                            #### Step 3: Update your tool and then use planemo to update your tool on the Tool Shed
                            - `planemo shed_diff`
                            - `planemo shed_update`
                            
                            <aside class="notes">
                            ```bash
                            planemo shed_diff --shed_target local
                            ```
                            ```bash
                            planemo shed_update --check_diff --shed_target local
                            ```
                            </aside>
                        </script>
                    </section>
                </section>

                <!-- CONCLUSION -->
                <section data-markdown>
                    <script type="text/template">
                        ### <i class="fa fa-exclamation-circle" aria-hidden="true"></i> Key points

                        - Use Planemo
                        - Contribute to the Main Tool Shed 
                    </script>
                </section>

                <!-- <section>
                    <section data-markdown>
                        <script type="text/template">
                            ### <i class="fa fa-question-circle" aria-hidden="true"></i> Questions

                            - Major question that would be addressed in this tutorial (same as the markdown)
                            - Second question

                            <aside class="notes">
                                Oh hey, these are some notes. They'll be hidden in your presentation, but you can see them if you open the speaker notes window.

                                To see the notes, hit **'s'** on your keyboard
                            </aside>
                        </script>
                    </section>

                    <section data-markdown>
                        <script type="text/template">
                            ### <i class="fa fa-bullseye" aria-hidden="true"></i> Objectives

                            - First objective of this tutorial (same as the markdown)
                            - Second objective
                            - Third objective
                            - ...
                        </script>
                    </section>
                </section>

                <section>
                    <section data-markdown>
                        <script type="text/template">
                            ## Part 1
                        </script>
                    </section>

                    <section data-markdown>
                        <script type="text/template">
                            ### Small introduction

                            Introduction about this part
                        </script>
                    </section>

                    <section data-markdown>
                        <script type="text/template">
                            ### Subpart 1

                            Short introduction about this subpart.

                            <i class="fa fa-pencil" aria-hidden="true"></i> ***Hands on!***
                        </script>
                    </section>

                    <section data-markdown>
                        <script type="text/template">
                            ### Subpart1.2

                            Short introduction about this subpart.

                            <i class="fa fa-pencil" aria-hidden="true"></i> ***Hands on!***
                        </script>
                    </section>
                </section>


                <section data-markdown>
                    <script type="text/template">
                        ### <i class="fa fa-exclamation-circle" aria-hidden="true"></i> Key points

                        - Simple sentence to sum up the first key point of the tutorial (Take home message)
                        - Second key point
                        - Third key point
                        - ...
                    </script>
                </section> -->
			</div>

		</div>

		<script type="text/javascript" src="../../assets/reveal.js/lib/js/head.min.js"></script>
        <script type="text/javascript" src="../../assets/reveal.js/js/reveal.js"></script>
        <script type="text/javascript">
            Reveal.initialize({
                slideNumber: !window.location.search.match(/print-pdf/gi),
                history: true,

                theme: Reveal.getQueryHash().theme,
                transition: Reveal.getQueryHash().transition || 'concave',

                dependencies: [
                    { src: '../../assets/reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    { src: '../../assets/reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: '../../assets/reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: '../../assets/reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                    { src: '../../assets/reveal.js/plugin/notes/notes.js', async: true },
                ]
            });
        </script>

	</body>
</html>
